(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const v of document.querySelectorAll('link[rel="modulepreload"]'))f(v);new MutationObserver(v=>{for(const _ of v)if(_.type==="childList")for(const M of _.addedNodes)M.tagName==="LINK"&&M.rel==="modulepreload"&&f(M)}).observe(document,{childList:!0,subtree:!0});function c(v){const _={};return v.integrity&&(_.integrity=v.integrity),v.referrerPolicy&&(_.referrerPolicy=v.referrerPolicy),v.crossOrigin==="use-credentials"?_.credentials="include":v.crossOrigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function f(v){if(v.ep)return;v.ep=!0;const _=c(v);fetch(v.href,_)}})();function ep(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function T0(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var u=s.default;if(typeof u=="function"){var c=function f(){var v=!1;try{v=this instanceof f}catch{}return v?Reflect.construct(u,arguments,this.constructor):u.apply(this,arguments)};c.prototype=u.prototype}else c={};return Object.defineProperty(c,"__esModule",{value:!0}),Object.keys(s).forEach(function(f){var v=Object.getOwnPropertyDescriptor(s,f);Object.defineProperty(c,f,v.get?v:{enumerable:!0,get:function(){return s[f]}})}),c}var Go={exports:{}},ei={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var km;function A0(){if(km)return ei;km=1;var s=Symbol.for("react.transitional.element"),u=Symbol.for("react.fragment");function c(f,v,_){var M=null;if(_!==void 0&&(M=""+_),v.key!==void 0&&(M=""+v.key),"key"in v){_={};for(var U in v)U!=="key"&&(_[U]=v[U])}else _=v;return v=_.ref,{$$typeof:s,type:f,key:M,ref:v!==void 0?v:null,props:_}}return ei.Fragment=u,ei.jsx=c,ei.jsxs=c,ei}var zm;function j0(){return zm||(zm=1,Go.exports=A0()),Go.exports}var o=j0(),Vo={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hm;function O0(){if(Hm)return je;Hm=1;var s=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),M=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),j=Symbol.iterator;function b(N){return N===null||typeof N!="object"?null:(N=j&&N[j]||N["@@iterator"],typeof N=="function"?N:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,W={};function $(N,X,ae){this.props=N,this.context=X,this.refs=W,this.updater=ae||Y}$.prototype.isReactComponent={},$.prototype.setState=function(N,X){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,X,"setState")},$.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function pe(){}pe.prototype=$.prototype;function ye(N,X,ae){this.props=N,this.context=X,this.refs=W,this.updater=ae||Y}var se=ye.prototype=new pe;se.constructor=ye,B(se,$.prototype),se.isPureReactComponent=!0;var xe=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},qe=Object.prototype.hasOwnProperty;function nt(N,X,ae,J,ne,Le){return ae=Le.ref,{$$typeof:s,type:N,key:X,ref:ae!==void 0?ae:null,props:Le}}function P(N,X){return nt(N.type,X,void 0,void 0,void 0,N.props)}function G(N){return typeof N=="object"&&N!==null&&N.$$typeof===s}function re(N){var X={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ae){return X[ae]})}var ue=/\/+/g;function he(N,X){return typeof N=="object"&&N!==null&&N.key!=null?re(""+N.key):X.toString(36)}function K(){}function F(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(K,K):(N.status="pending",N.then(function(X){N.status==="pending"&&(N.status="fulfilled",N.value=X)},function(X){N.status==="pending"&&(N.status="rejected",N.reason=X)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function ge(N,X,ae,J,ne){var Le=typeof N;(Le==="undefined"||Le==="boolean")&&(N=null);var Ne=!1;if(N===null)Ne=!0;else switch(Le){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(N.$$typeof){case s:case u:Ne=!0;break;case w:return Ne=N._init,ge(Ne(N._payload),X,ae,J,ne)}}if(Ne)return ne=ne(N),Ne=J===""?"."+he(N,0):J,xe(ne)?(ae="",Ne!=null&&(ae=Ne.replace(ue,"$&/")+"/"),ge(ne,X,ae,"",function(fa){return fa})):ne!=null&&(G(ne)&&(ne=P(ne,ae+(ne.key==null||N&&N.key===ne.key?"":(""+ne.key).replace(ue,"$&/")+"/")+Ne)),X.push(ne)),1;Ne=0;var yt=J===""?".":J+":";if(xe(N))for(var He=0;He<N.length;He++)J=N[He],Le=yt+he(J,He),Ne+=ge(J,X,ae,Le,ne);else if(He=b(N),typeof He=="function")for(N=He.call(N),He=0;!(J=N.next()).done;)J=J.value,Le=yt+he(J,He++),Ne+=ge(J,X,ae,Le,ne);else if(Le==="object"){if(typeof N.then=="function")return ge(F(N),X,ae,J,ne);throw X=String(N),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function q(N,X,ae){if(N==null)return N;var J=[],ne=0;return ge(N,J,"","",function(Le){return X.call(ae,Le,ne++)}),J}function ee(N){if(N._status===-1){var X=N._result;X=X(),X.then(function(ae){(N._status===0||N._status===-1)&&(N._status=1,N._result=ae)},function(ae){(N._status===0||N._status===-1)&&(N._status=2,N._result=ae)}),N._status===-1&&(N._status=0,N._result=X)}if(N._status===1)return N._result.default;throw N._result}var de=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Re(){}return je.Children={map:q,forEach:function(N,X,ae){q(N,function(){X.apply(this,arguments)},ae)},count:function(N){var X=0;return q(N,function(){X++}),X},toArray:function(N){return q(N,function(X){return X})||[]},only:function(N){if(!G(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},je.Component=$,je.Fragment=c,je.Profiler=v,je.PureComponent=ye,je.StrictMode=f,je.Suspense=A,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,je.__COMPILER_RUNTIME={__proto__:null,c:function(N){return le.H.useMemoCache(N)}},je.cache=function(N){return function(){return N.apply(null,arguments)}},je.cloneElement=function(N,X,ae){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var J=B({},N.props),ne=N.key,Le=void 0;if(X!=null)for(Ne in X.ref!==void 0&&(Le=void 0),X.key!==void 0&&(ne=""+X.key),X)!qe.call(X,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&X.ref===void 0||(J[Ne]=X[Ne]);var Ne=arguments.length-2;if(Ne===1)J.children=ae;else if(1<Ne){for(var yt=Array(Ne),He=0;He<Ne;He++)yt[He]=arguments[He+2];J.children=yt}return nt(N.type,ne,void 0,void 0,Le,J)},je.createContext=function(N){return N={$$typeof:M,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:_,_context:N},N},je.createElement=function(N,X,ae){var J,ne={},Le=null;if(X!=null)for(J in X.key!==void 0&&(Le=""+X.key),X)qe.call(X,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ne[J]=X[J]);var Ne=arguments.length-2;if(Ne===1)ne.children=ae;else if(1<Ne){for(var yt=Array(Ne),He=0;He<Ne;He++)yt[He]=arguments[He+2];ne.children=yt}if(N&&N.defaultProps)for(J in Ne=N.defaultProps,Ne)ne[J]===void 0&&(ne[J]=Ne[J]);return nt(N,Le,void 0,void 0,null,ne)},je.createRef=function(){return{current:null}},je.forwardRef=function(N){return{$$typeof:U,render:N}},je.isValidElement=G,je.lazy=function(N){return{$$typeof:w,_payload:{_status:-1,_result:N},_init:ee}},je.memo=function(N,X){return{$$typeof:p,type:N,compare:X===void 0?null:X}},je.startTransition=function(N){var X=le.T,ae={};le.T=ae;try{var J=N(),ne=le.S;ne!==null&&ne(ae,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Re,de)}catch(Le){de(Le)}finally{le.T=X}},je.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},je.use=function(N){return le.H.use(N)},je.useActionState=function(N,X,ae){return le.H.useActionState(N,X,ae)},je.useCallback=function(N,X){return le.H.useCallback(N,X)},je.useContext=function(N){return le.H.useContext(N)},je.useDebugValue=function(){},je.useDeferredValue=function(N,X){return le.H.useDeferredValue(N,X)},je.useEffect=function(N,X,ae){var J=le.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(N,X)},je.useId=function(){return le.H.useId()},je.useImperativeHandle=function(N,X,ae){return le.H.useImperativeHandle(N,X,ae)},je.useInsertionEffect=function(N,X){return le.H.useInsertionEffect(N,X)},je.useLayoutEffect=function(N,X){return le.H.useLayoutEffect(N,X)},je.useMemo=function(N,X){return le.H.useMemo(N,X)},je.useOptimistic=function(N,X){return le.H.useOptimistic(N,X)},je.useReducer=function(N,X,ae){return le.H.useReducer(N,X,ae)},je.useRef=function(N){return le.H.useRef(N)},je.useState=function(N){return le.H.useState(N)},je.useSyncExternalStore=function(N,X,ae){return le.H.useSyncExternalStore(N,X,ae)},je.useTransition=function(){return le.H.useTransition()},je.version="19.1.1",je}var Bm;function Ec(){return Bm||(Bm=1,Vo.exports=O0()),Vo.exports}var S=Ec();const Sc=ep(S);var $o={exports:{}},ti={},Yo={exports:{}},Io={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gm;function R0(){return Gm||(Gm=1,(function(s){function u(q,ee){var de=q.length;q.push(ee);e:for(;0<de;){var Re=de-1>>>1,N=q[Re];if(0<v(N,ee))q[Re]=ee,q[de]=N,de=Re;else break e}}function c(q){return q.length===0?null:q[0]}function f(q){if(q.length===0)return null;var ee=q[0],de=q.pop();if(de!==ee){q[0]=de;e:for(var Re=0,N=q.length,X=N>>>1;Re<X;){var ae=2*(Re+1)-1,J=q[ae],ne=ae+1,Le=q[ne];if(0>v(J,de))ne<N&&0>v(Le,J)?(q[Re]=Le,q[ne]=de,Re=ne):(q[Re]=J,q[ae]=de,Re=ae);else if(ne<N&&0>v(Le,de))q[Re]=Le,q[ne]=de,Re=ne;else break e}}return ee}function v(q,ee){var de=q.sortIndex-ee.sortIndex;return de!==0?de:q.id-ee.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var _=performance;s.unstable_now=function(){return _.now()}}else{var M=Date,U=M.now();s.unstable_now=function(){return M.now()-U}}var A=[],p=[],w=1,j=null,b=3,Y=!1,B=!1,W=!1,$=!1,pe=typeof setTimeout=="function"?setTimeout:null,ye=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function xe(q){for(var ee=c(p);ee!==null;){if(ee.callback===null)f(p);else if(ee.startTime<=q)f(p),ee.sortIndex=ee.expirationTime,u(A,ee);else break;ee=c(p)}}function le(q){if(W=!1,xe(q),!B)if(c(A)!==null)B=!0,qe||(qe=!0,he());else{var ee=c(p);ee!==null&&ge(le,ee.startTime-q)}}var qe=!1,nt=-1,P=5,G=-1;function re(){return $?!0:!(s.unstable_now()-G<P)}function ue(){if($=!1,qe){var q=s.unstable_now();G=q;var ee=!0;try{e:{B=!1,W&&(W=!1,ye(nt),nt=-1),Y=!0;var de=b;try{t:{for(xe(q),j=c(A);j!==null&&!(j.expirationTime>q&&re());){var Re=j.callback;if(typeof Re=="function"){j.callback=null,b=j.priorityLevel;var N=Re(j.expirationTime<=q);if(q=s.unstable_now(),typeof N=="function"){j.callback=N,xe(q),ee=!0;break t}j===c(A)&&f(A),xe(q)}else f(A);j=c(A)}if(j!==null)ee=!0;else{var X=c(p);X!==null&&ge(le,X.startTime-q),ee=!1}}break e}finally{j=null,b=de,Y=!1}ee=void 0}}finally{ee?he():qe=!1}}}var he;if(typeof se=="function")he=function(){se(ue)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,F=K.port2;K.port1.onmessage=ue,he=function(){F.postMessage(null)}}else he=function(){pe(ue,0)};function ge(q,ee){nt=pe(function(){q(s.unstable_now())},ee)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return b},s.unstable_next=function(q){switch(b){case 1:case 2:case 3:var ee=3;break;default:ee=b}var de=b;b=ee;try{return q()}finally{b=de}},s.unstable_requestPaint=function(){$=!0},s.unstable_runWithPriority=function(q,ee){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var de=b;b=q;try{return ee()}finally{b=de}},s.unstable_scheduleCallback=function(q,ee,de){var Re=s.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Re+de:Re):de=Re,q){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=de+N,q={id:w++,callback:ee,priorityLevel:q,startTime:de,expirationTime:N,sortIndex:-1},de>Re?(q.sortIndex=de,u(p,q),c(A)===null&&q===c(p)&&(W?(ye(nt),nt=-1):W=!0,ge(le,de-Re))):(q.sortIndex=N,u(A,q),B||Y||(B=!0,qe||(qe=!0,he()))),q},s.unstable_shouldYield=re,s.unstable_wrapCallback=function(q){var ee=b;return function(){var de=b;b=ee;try{return q.apply(this,arguments)}finally{b=de}}}})(Io)),Io}var Vm;function D0(){return Vm||(Vm=1,Yo.exports=R0()),Yo.exports}var Qo={exports:{}},Ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $m;function L0(){if($m)return Ot;$m=1;var s=Ec();function u(A){var p="https://react.dev/errors/"+A;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)p+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+A+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(){}var f={d:{f:c,r:function(){throw Error(u(522))},D:c,C:c,L:c,m:c,X:c,S:c,M:c},p:0,findDOMNode:null},v=Symbol.for("react.portal");function _(A,p,w){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:v,key:j==null?null:""+j,children:A,containerInfo:p,implementation:w}}var M=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function U(A,p){if(A==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=f,Ot.createPortal=function(A,p){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(u(299));return _(A,p,null,w)},Ot.flushSync=function(A){var p=M.T,w=f.p;try{if(M.T=null,f.p=2,A)return A()}finally{M.T=p,f.p=w,f.d.f()}},Ot.preconnect=function(A,p){typeof A=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,f.d.C(A,p))},Ot.prefetchDNS=function(A){typeof A=="string"&&f.d.D(A)},Ot.preinit=function(A,p){if(typeof A=="string"&&p&&typeof p.as=="string"){var w=p.as,j=U(w,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,Y=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;w==="style"?f.d.S(A,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:j,integrity:b,fetchPriority:Y}):w==="script"&&f.d.X(A,{crossOrigin:j,integrity:b,fetchPriority:Y,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ot.preinitModule=function(A,p){if(typeof A=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var w=U(p.as,p.crossOrigin);f.d.M(A,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&f.d.M(A)},Ot.preload=function(A,p){if(typeof A=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var w=p.as,j=U(w,p.crossOrigin);f.d.L(A,w,{crossOrigin:j,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ot.preloadModule=function(A,p){if(typeof A=="string")if(p){var w=U(p.as,p.crossOrigin);f.d.m(A,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else f.d.m(A)},Ot.requestFormReset=function(A){f.d.r(A)},Ot.unstable_batchedUpdates=function(A,p){return A(p)},Ot.useFormState=function(A,p,w){return M.H.useFormState(A,p,w)},Ot.useFormStatus=function(){return M.H.useHostTransitionStatus()},Ot.version="19.1.1",Ot}var Ym;function M0(){if(Ym)return Qo.exports;Ym=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(u){console.error(u)}}return s(),Qo.exports=L0(),Qo.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im;function U0(){if(Im)return ti;Im=1;var s=D0(),u=Ec(),c=M0();function f(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function v(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function M(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function U(e){if(_(e)!==e)throw Error(f(188))}function A(e){var t=e.alternate;if(!t){if(t=_(e),t===null)throw Error(f(188));return t!==e?null:e}for(var a=e,n=t;;){var r=a.return;if(r===null)break;var i=r.alternate;if(i===null){if(n=r.return,n!==null){a=n;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===a)return U(r),e;if(i===n)return U(r),t;i=i.sibling}throw Error(f(188))}if(a.return!==n.return)a=r,n=i;else{for(var m=!1,y=r.child;y;){if(y===a){m=!0,a=r,n=i;break}if(y===n){m=!0,n=r,a=i;break}y=y.sibling}if(!m){for(y=i.child;y;){if(y===a){m=!0,a=i,n=r;break}if(y===n){m=!0,n=i,a=r;break}y=y.sibling}if(!m)throw Error(f(189))}}if(a.alternate!==n)throw Error(f(190))}if(a.tag!==3)throw Error(f(188));return a.stateNode.current===a?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var w=Object.assign,j=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),pe=Symbol.for("react.provider"),ye=Symbol.for("react.consumer"),se=Symbol.for("react.context"),xe=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),qe=Symbol.for("react.suspense_list"),nt=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function he(e){return e===null||typeof e!="object"?null:(e=ue&&e[ue]||e["@@iterator"],typeof e=="function"?e:null)}var K=Symbol.for("react.client.reference");function F(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===K?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case $:return"Profiler";case W:return"StrictMode";case le:return"Suspense";case qe:return"SuspenseList";case G:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Y:return"Portal";case se:return(e.displayName||"Context")+".Provider";case ye:return(e._context.displayName||"Context")+".Consumer";case xe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case nt:return t=e.displayName||null,t!==null?t:F(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return F(e(t))}catch{}}return null}var ge=Array.isArray,q=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=c.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Re=[],N=-1;function X(e){return{current:e}}function ae(e){0>N||(e.current=Re[N],Re[N]=null,N--)}function J(e,t){N++,Re[N]=e.current,e.current=t}var ne=X(null),Le=X(null),Ne=X(null),yt=X(null);function He(e,t){switch(J(Ne,t),J(Le,e),J(ne,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?dm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=dm(t),e=fm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ae(ne),J(ne,e)}function fa(){ae(ne),ae(Le),ae(Ne)}function sr(e){e.memoizedState!==null&&J(yt,e);var t=ne.current,a=fm(t,e.type);t!==a&&(J(Le,e),J(ne,a))}function ur(e){Le.current===e&&(ae(ne),ae(Le)),yt.current===e&&(ae(yt),Wl._currentValue=de)}var Yt=Object.prototype.hasOwnProperty,zn=s.unstable_scheduleCallback,Oa=s.unstable_cancelCallback,li=s.unstable_shouldYield,Je=s.unstable_requestPaint,Ut=s.unstable_now,ii=s.unstable_getCurrentPriorityLevel,or=s.unstable_ImmediatePriority,Jr=s.unstable_UserBlockingPriority,Ra=s.unstable_NormalPriority,Ns=s.unstable_LowPriority,Fr=s.unstable_IdlePriority,ws=s.log,Pr=s.unstable_setDisableYieldValue,ma=null,tt=null;function ha(e){if(typeof ws=="function"&&Pr(e),tt&&typeof tt.setStrictMode=="function")try{tt.setStrictMode(ma,e)}catch{}}var Ct=Math.clz32?Math.clz32:Ts,si=Math.log,Cs=Math.LN2;function Ts(e){return e>>>=0,e===0?32:31-(si(e)/Cs|0)|0}var cr=256,Ce=4194304;function ba(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function tn(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var y=n&134217727;return y!==0?(n=y&~i,n!==0?r=ba(n):(m&=y,m!==0?r=ba(m):a||(a=y&~e,a!==0&&(r=ba(a))))):(y=n&~i,y!==0?r=ba(y):m!==0?r=ba(m):a||(a=n&~e,a!==0&&(r=ba(a)))),r===0?0:t!==0&&t!==r&&(t&i)===0&&(i=r&-r,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:r}function an(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function nn(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ui(){var e=cr;return cr<<=1,(cr&4194048)===0&&(cr=256),e}function pa(){var e=Ce;return Ce<<=1,(Ce&62914560)===0&&(Ce=4194304),e}function dr(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function rn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function oi(e,t,a,n,r,i){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var y=e.entanglements,x=e.expirationTimes,L=e.hiddenUpdates;for(a=m&~a;0<a;){var V=31-Ct(a),Q=1<<V;y[V]=0,x[V]=-1;var k=L[V];if(k!==null)for(L[V]=null,V=0;V<k.length;V++){var z=k[V];z!==null&&(z.lane&=-536870913)}a&=~Q}n!==0&&te(e,n,0),i!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=i&~(m&~t))}function te(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-Ct(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&4194090}function ci(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-Ct(a),r=1<<n;r&t|e[n]&t&&(e[n]|=t),a&=~r}}function el(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Tt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function fr(){var e=ee.p;return e!==0?e:(e=window.event,e===void 0?32:Rm(e.type))}function tl(e,t){var a=ee.p;try{return ee.p=e,t()}finally{ee.p=a}}var ea=Math.random().toString(36).slice(2),Fe="__reactFiber$"+ea,_t="__reactProps$"+ea,st="__reactContainer$"+ea,mr="__reactEvents$"+ea,ln="__reactListeners$"+ea,di="__reactHandles$"+ea,al="__reactResources$"+ea,_a="__reactMarker$"+ea;function mt(e){delete e[Fe],delete e[_t],delete e[mr],delete e[ln],delete e[di]}function Da(e){var t=e[Fe];if(t)return t;for(var a=e.parentNode;a;){if(t=a[st]||a[Fe]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=ym(e);e!==null;){if(a=e[Fe])return a;e=ym(e)}return t}e=a,a=e.parentNode}return null}function sn(e){if(e=e[Fe]||e[st]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function La(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(f(33))}function un(e){var t=e[al];return t||(t=e[al]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function rt(e){e[_a]=!0}var nl=new Set,Hn={};function Ma(e,t){Et(e,t),Et(e+"Capture",t)}function Et(e,t){for(Hn[e]=t,e=0;e<t.length;e++)nl.add(t[e])}var hr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pr={},rl={};function fi(e){return Yt.call(rl,e)?!0:Yt.call(pr,e)?!1:hr.test(e)?rl[e]=!0:(pr[e]=!0,!1)}function Ea(e,t,a){if(fi(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Bn(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function qt(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}var yr,Ua;function Sa(e){if(yr===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);yr=t&&t[1]||"",Ua=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yr+e+Ua}var gr=!1;function vr(e,t){if(!e||gr)return"";gr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(z){var k=z}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(z){k=z}e.call(Q.prototype)}}else{try{throw Error()}catch(z){k=z}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(z){if(z&&k&&typeof z.stack=="string")return[z.stack,k.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),m=i[0],y=i[1];if(m&&y){var x=m.split(`
`),L=y.split(`
`);for(r=n=0;n<x.length&&!x[n].includes("DetermineComponentFrameRoot");)n++;for(;r<L.length&&!L[r].includes("DetermineComponentFrameRoot");)r++;if(n===x.length||r===L.length)for(n=x.length-1,r=L.length-1;1<=n&&0<=r&&x[n]!==L[r];)r--;for(;1<=n&&0<=r;n--,r--)if(x[n]!==L[r]){if(n!==1||r!==1)do if(n--,r--,0>r||x[n]!==L[r]){var V=`
`+x[n].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=n&&0<=r);break}}}finally{gr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Sa(a):""}function mi(e){switch(e.tag){case 26:case 27:case 5:return Sa(e.type);case 16:return Sa("Lazy");case 13:return Sa("Suspense");case 19:return Sa("SuspenseList");case 0:case 15:return vr(e.type,!1);case 11:return vr(e.type.render,!1);case 1:return vr(e.type,!0);case 31:return Sa("Activity");default:return""}}function hi(e){try{var t="";do t+=mi(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ye(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qa(e){var t=Ye(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var r=a.get,i=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(m){n=""+m,i.call(this,m)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(m){n=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ka(e){e._valueTracker||(e._valueTracker=qa(e))}function Gn(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=Ye(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function za(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ll=/[\n"\\]/g;function kt(e){return e.replace(ll,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function il(e,t,a,n,r,i,m,y){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?xr(e,m,ut(t)):a!=null?xr(e,m,ut(a)):n!=null&&e.removeAttribute("value"),r==null&&i!=null&&(e.defaultChecked=!!i),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+ut(y):e.removeAttribute("name")}function on(e,t,a,n,r,i,m,y){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null))return;a=a!=null?""+ut(a):"",t=t!=null?""+ut(t):a,y||t===e.value||(e.value=t),e.defaultValue=t}n=n??r,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=y?e.checked:!!n,e.defaultChecked=!!n,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m)}function xr(e,t,a){t==="number"&&za(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function cn(e,t,a,n){if(e=e.options,t){t={};for(var r=0;r<a.length;r++)t["$"+a[r]]=!0;for(a=0;a<e.length;a++)r=t.hasOwnProperty("$"+e[a].value),e[a].selected!==r&&(e[a].selected=r),r&&n&&(e[a].defaultSelected=!0)}else{for(a=""+ut(a),t=null,r=0;r<e.length;r++){if(e[r].value===a){e[r].selected=!0,n&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function br(e,t,a){if(t!=null&&(t=""+ut(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+ut(a):""}function sl(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(f(92));if(ge(n)){if(1<n.length)throw Error(f(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=ut(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n)}function Na(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var ul=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pi(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||ul.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Vn(e,t,a){if(t!=null&&typeof t!="object")throw Error(f(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var r in t)n=t[r],t.hasOwnProperty(r)&&a[r]!==n&&pi(e,r,n)}else for(var i in t)t.hasOwnProperty(i)&&pi(e,i,t[i])}function dn(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ha=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ol=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zt(e){return ol.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ta=null;function Ba(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fn=null,fe=null;function _r(e){var t=sn(e);if(t&&(e=t.stateNode)){var a=e[_t]||null;e:switch(e=t.stateNode,t.type){case"input":if(il(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+kt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var r=n[_t]||null;if(!r)throw Error(f(90));il(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&Gn(n)}break e;case"textarea":br(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&cn(e,!!a.multiple,t,!1)}}}var mn=!1;function cl(e,t,a){if(mn)return e(t,a);mn=!0;try{var n=e(t);return n}finally{if(mn=!1,(fn!==null||fe!==null)&&(ts(),fn&&(t=fn,e=fe,fe=fn=null,_r(t),e)))for(t=0;t<e.length;t++)_r(e[t])}}function hn(e,t){var a=e.stateNode;if(a===null)return null;var n=a[_t]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(f(231,t,typeof a));return a}var Dt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),aa=!1;if(Dt)try{var ya={};Object.defineProperty(ya,"passive",{get:function(){aa=!0}}),window.addEventListener("test",ya,ya),window.removeEventListener("test",ya,ya)}catch{aa=!1}var na=null,l=null,d=null;function h(){if(d)return d;var e,t=l,a=t.length,n,r="value"in na?na.value:na.textContent,i=r.length;for(e=0;e<a&&t[e]===r[e];e++);var m=a-e;for(n=1;n<=m&&t[a-n]===r[i-n];n++);return d=r.slice(e,1<n?1-n:void 0)}function g(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function E(){return!0}function D(){return!1}function H(e){function t(a,n,r,i,m){this._reactName=a,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=m,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(a=e[y],this[y]=a?a(i):i[y]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?E:D,this.isPropagationStopped=D,this}return w(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=E)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=E)},persist:function(){},isPersistent:E}),t}var me={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ae=H(me),Te=w({},me,{view:0,detail:0}),Pe=H(Te),gt,Er,$n,Yn=w({},Te,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ml,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$n&&($n&&e.type==="mousemove"?(gt=e.screenX-$n.screenX,Er=e.screenY-$n.screenY):Er=gt=0,$n=e),gt)},movementY:function(e){return"movementY"in e?e.movementY:Er}}),yi=H(Yn),gi=w({},Yn,{dataTransfer:0}),As=H(gi),js=w({},Te,{relatedTarget:0}),dl=H(js),Os=w({},me,{animationName:0,elapsedTime:0,pseudoElement:0}),Rs=H(Os),Ds=w({},me,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ls=H(Ds),Ms=w({},me,{data:0}),fl=H(Ms),Us={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ks={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zs(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ks[e])?!!t[e]:!1}function ml(){return zs}var Hs=w({},Te,{key:function(e){if(e.key){var t=Us[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=g(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qs[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ml,charCode:function(e){return e.type==="keypress"?g(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?g(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Bs=H(Hs),vi=w({},Yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xi=H(vi),Gs=w({},Te,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ml}),Vs=H(Gs),$s=w({},me,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ys=H($s),Is=w({},Yn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bi=H(Is),Qs=w({},me,{newState:0,oldState:0}),Xs=H(Qs),Zs=[9,13,27,32],pn=Dt&&"CompositionEvent"in window,yn=null;Dt&&"documentMode"in document&&(yn=document.documentMode);var _i=Dt&&"TextEvent"in window&&!yn,hl=Dt&&(!pn||yn&&8<yn&&11>=yn),O=" ",Z=!1;function oe(e,t){switch(e){case"keyup":return Zs.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function be(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ee=!1;function Be(e,t){switch(e){case"compositionend":return be(t);case"keypress":return t.which!==32?null:(Z=!0,O);case"textInput":return e=t.data,e===O&&Z?null:e;default:return null}}function It(e,t){if(Ee)return e==="compositionend"||!pn&&oe(e,t)?(e=h(),d=l=na=null,Ee=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return hl&&t.locale!=="ko"?null:t.data;default:return null}}var Ht={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function At(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ht[e.type]:t==="textarea"}function Bt(e,t,a,n){fn?fe?fe.push(n):fe=[n]:fn=n,t=ss(t,"onChange"),0<t.length&&(a=new Ae("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Ga=null,Qt=null;function Ws(e){im(e,0)}function Ei(e){var t=La(e);if(Gn(t))return e}function Cc(e,t){if(e==="change")return t}var Tc=!1;if(Dt){var Ks;if(Dt){var Js="oninput"in document;if(!Js){var Ac=document.createElement("div");Ac.setAttribute("oninput","return;"),Js=typeof Ac.oninput=="function"}Ks=Js}else Ks=!1;Tc=Ks&&(!document.documentMode||9<document.documentMode)}function jc(){Ga&&(Ga.detachEvent("onpropertychange",Oc),Qt=Ga=null)}function Oc(e){if(e.propertyName==="value"&&Ei(Qt)){var t=[];Bt(t,Qt,e,Ba(e)),cl(Ws,t)}}function np(e,t,a){e==="focusin"?(jc(),Ga=t,Qt=a,Ga.attachEvent("onpropertychange",Oc)):e==="focusout"&&jc()}function rp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ei(Qt)}function lp(e,t){if(e==="click")return Ei(t)}function ip(e,t){if(e==="input"||e==="change")return Ei(t)}function sp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xt=typeof Object.is=="function"?Object.is:sp;function pl(e,t){if(Xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var r=a[n];if(!Yt.call(t,r)||!Xt(e[r],t[r]))return!1}return!0}function Rc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dc(e,t){var a=Rc(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Rc(a)}}function Lc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Mc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=za(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=za(e.document)}return t}function Fs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var up=Dt&&"documentMode"in document&&11>=document.documentMode,Sr=null,Ps=null,yl=null,eu=!1;function Uc(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;eu||Sr==null||Sr!==za(n)||(n=Sr,"selectionStart"in n&&Fs(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),yl&&pl(yl,n)||(yl=n,n=ss(Ps,"onSelect"),0<n.length&&(t=new Ae("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=Sr)))}function In(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Nr={animationend:In("Animation","AnimationEnd"),animationiteration:In("Animation","AnimationIteration"),animationstart:In("Animation","AnimationStart"),transitionrun:In("Transition","TransitionRun"),transitionstart:In("Transition","TransitionStart"),transitioncancel:In("Transition","TransitionCancel"),transitionend:In("Transition","TransitionEnd")},tu={},qc={};Dt&&(qc=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);function Qn(e){if(tu[e])return tu[e];if(!Nr[e])return e;var t=Nr[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in qc)return tu[e]=t[a];return e}var kc=Qn("animationend"),zc=Qn("animationiteration"),Hc=Qn("animationstart"),op=Qn("transitionrun"),cp=Qn("transitionstart"),dp=Qn("transitioncancel"),Bc=Qn("transitionend"),Gc=new Map,au="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");au.push("scrollEnd");function ga(e,t){Gc.set(e,t),Ma(t,[e])}var Vc=new WeakMap;function ra(e,t){if(typeof e=="object"&&e!==null){var a=Vc.get(e);return a!==void 0?a:(t={value:e,source:t,stack:hi(t)},Vc.set(e,t),t)}return{value:e,source:t,stack:hi(t)}}var la=[],wr=0,nu=0;function Si(){for(var e=wr,t=nu=wr=0;t<e;){var a=la[t];la[t++]=null;var n=la[t];la[t++]=null;var r=la[t];la[t++]=null;var i=la[t];if(la[t++]=null,n!==null&&r!==null){var m=n.pending;m===null?r.next=r:(r.next=m.next,m.next=r),n.pending=r}i!==0&&$c(a,r,i)}}function Ni(e,t,a,n){la[wr++]=e,la[wr++]=t,la[wr++]=a,la[wr++]=n,nu|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function ru(e,t,a,n){return Ni(e,t,a,n),wi(e)}function Cr(e,t){return Ni(e,null,null,t),wi(e)}function $c(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var r=!1,i=e.return;i!==null;)i.childLanes|=a,n=i.alternate,n!==null&&(n.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(r=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,r&&t!==null&&(r=31-Ct(a),e=i.hiddenUpdates,n=e[r],n===null?e[r]=[t]:n.push(t),t.lane=a|536870912),i):null}function wi(e){if(50<Gl)throw Gl=0,co=null,Error(f(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Tr={};function fp(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(e,t,a,n){return new fp(e,t,a,n)}function lu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Va(e,t){var a=e.alternate;return a===null?(a=Zt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Yc(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ci(e,t,a,n,r,i){var m=0;if(n=e,typeof e=="function")lu(e)&&(m=1);else if(typeof e=="string")m=h0(e,a,ne.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case G:return e=Zt(31,a,t,r),e.elementType=G,e.lanes=i,e;case B:return Xn(a.children,r,i,t);case W:m=8,r|=24;break;case $:return e=Zt(12,a,t,r|2),e.elementType=$,e.lanes=i,e;case le:return e=Zt(13,a,t,r),e.elementType=le,e.lanes=i,e;case qe:return e=Zt(19,a,t,r),e.elementType=qe,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pe:case se:m=10;break e;case ye:m=9;break e;case xe:m=11;break e;case nt:m=14;break e;case P:m=16,n=null;break e}m=29,a=Error(f(130,e===null?"null":typeof e,"")),n=null}return t=Zt(m,a,t,r),t.elementType=e,t.type=n,t.lanes=i,t}function Xn(e,t,a,n){return e=Zt(7,e,n,t),e.lanes=a,e}function iu(e,t,a){return e=Zt(6,e,null,t),e.lanes=a,e}function su(e,t,a){return t=Zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ar=[],jr=0,Ti=null,Ai=0,ia=[],sa=0,Zn=null,$a=1,Ya="";function Wn(e,t){Ar[jr++]=Ai,Ar[jr++]=Ti,Ti=e,Ai=t}function Ic(e,t,a){ia[sa++]=$a,ia[sa++]=Ya,ia[sa++]=Zn,Zn=e;var n=$a;e=Ya;var r=32-Ct(n)-1;n&=~(1<<r),a+=1;var i=32-Ct(t)+r;if(30<i){var m=r-r%5;i=(n&(1<<m)-1).toString(32),n>>=m,r-=m,$a=1<<32-Ct(t)+r|a<<r|n,Ya=i+e}else $a=1<<i|a<<r|n,Ya=e}function uu(e){e.return!==null&&(Wn(e,1),Ic(e,1,0))}function ou(e){for(;e===Ti;)Ti=Ar[--jr],Ar[jr]=null,Ai=Ar[--jr],Ar[jr]=null;for(;e===Zn;)Zn=ia[--sa],ia[sa]=null,Ya=ia[--sa],ia[sa]=null,$a=ia[--sa],ia[sa]=null}var Lt=null,lt=null,Ge=!1,Kn=null,wa=!1,cu=Error(f(519));function Jn(e){var t=Error(f(418,""));throw xl(ra(t,e)),cu}function Qc(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[Fe]=e,t[_t]=n,a){case"dialog":Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":case"embed":Ue("load",t);break;case"video":case"audio":for(a=0;a<$l.length;a++)Ue($l[a],t);break;case"source":Ue("error",t);break;case"img":case"image":case"link":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"input":Ue("invalid",t),on(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),ka(t);break;case"select":Ue("invalid",t);break;case"textarea":Ue("invalid",t),sl(t,n.value,n.defaultValue,n.children),ka(t)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||cm(t.textContent,a)?(n.popover!=null&&(Ue("beforetoggle",t),Ue("toggle",t)),n.onScroll!=null&&Ue("scroll",t),n.onScrollEnd!=null&&Ue("scrollend",t),n.onClick!=null&&(t.onclick=us),t=!0):t=!1,t||Jn(e)}function Xc(e){for(Lt=e.return;Lt;)switch(Lt.tag){case 5:case 13:wa=!1;return;case 27:case 3:wa=!0;return;default:Lt=Lt.return}}function gl(e){if(e!==Lt)return!1;if(!Ge)return Xc(e),Ge=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||To(e.type,e.memoizedProps)),a=!a),a&&lt&&Jn(e),Xc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(f(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){lt=xa(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}lt=null}}else t===27?(t=lt,Dn(e.type)?(e=Ro,Ro=null,lt=e):lt=t):lt=Lt?xa(e.stateNode.nextSibling):null;return!0}function vl(){lt=Lt=null,Ge=!1}function Zc(){var e=Kn;return e!==null&&($t===null?$t=e:$t.push.apply($t,e),Kn=null),e}function xl(e){Kn===null?Kn=[e]:Kn.push(e)}var du=X(null),Fn=null,Ia=null;function gn(e,t,a){J(du,t._currentValue),t._currentValue=a}function Qa(e){e._currentValue=du.current,ae(du)}function fu(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function mu(e,t,a,n){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var i=r.dependencies;if(i!==null){var m=r.child;i=i.firstContext;e:for(;i!==null;){var y=i;i=r;for(var x=0;x<t.length;x++)if(y.context===t[x]){i.lanes|=a,y=i.alternate,y!==null&&(y.lanes|=a),fu(i.return,a,e),n||(m=null);break e}i=y.next}}else if(r.tag===18){if(m=r.return,m===null)throw Error(f(341));m.lanes|=a,i=m.alternate,i!==null&&(i.lanes|=a),fu(m,a,e),m=null}else m=r.child;if(m!==null)m.return=r;else for(m=r;m!==null;){if(m===e){m=null;break}if(r=m.sibling,r!==null){r.return=m.return,m=r;break}m=m.return}r=m}}function bl(e,t,a,n){e=null;for(var r=t,i=!1;r!==null;){if(!i){if((r.flags&524288)!==0)i=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var m=r.alternate;if(m===null)throw Error(f(387));if(m=m.memoizedProps,m!==null){var y=r.type;Xt(r.pendingProps.value,m.value)||(e!==null?e.push(y):e=[y])}}else if(r===yt.current){if(m=r.alternate,m===null)throw Error(f(387));m.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(Wl):e=[Wl])}r=r.return}e!==null&&mu(t,e,a,n),t.flags|=262144}function ji(e){for(e=e.firstContext;e!==null;){if(!Xt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pn(e){Fn=e,Ia=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function jt(e){return Wc(Fn,e)}function Oi(e,t){return Fn===null&&Pn(e),Wc(e,t)}function Wc(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Ia===null){if(e===null)throw Error(f(308));Ia=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ia=Ia.next=t;return a}var mp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},hp=s.unstable_scheduleCallback,pp=s.unstable_NormalPriority,ht={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hu(){return{controller:new mp,data:new Map,refCount:0}}function _l(e){e.refCount--,e.refCount===0&&hp(pp,function(){e.controller.abort()})}var El=null,pu=0,Or=0,Rr=null;function yp(e,t){if(El===null){var a=El=[];pu=0,Or=vo(),Rr={status:"pending",value:void 0,then:function(n){a.push(n)}}}return pu++,t.then(Kc,Kc),t}function Kc(){if(--pu===0&&El!==null){Rr!==null&&(Rr.status="fulfilled");var e=El;El=null,Or=0,Rr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function gp(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(r){a.push(r)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var r=0;r<a.length;r++)(0,a[r])(t)},function(r){for(n.status="rejected",n.reason=r,r=0;r<a.length;r++)(0,a[r])(void 0)}),n}var Jc=q.S;q.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&yp(e,t),Jc!==null&&Jc(e,t)};var er=X(null);function yu(){var e=er.current;return e!==null?e:Ke.pooledCache}function Ri(e,t){t===null?J(er,er.current):J(er,t.pool)}function Fc(){var e=yu();return e===null?null:{parent:ht._currentValue,pool:e}}var Sl=Error(f(460)),Pc=Error(f(474)),Di=Error(f(542)),gu={then:function(){}};function ed(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Li(){}function td(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Li,Li),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,nd(e),e;default:if(typeof t.status=="string")t.then(Li,Li);else{if(e=Ke,e!==null&&100<e.shellSuspendCounter)throw Error(f(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=n}},function(n){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,nd(e),e}throw Nl=t,Sl}}var Nl=null;function ad(){if(Nl===null)throw Error(f(459));var e=Nl;return Nl=null,e}function nd(e){if(e===Sl||e===Di)throw Error(f(483))}var vn=!1;function vu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function xn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bn(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(Ve&2)!==0){var r=n.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),n.pending=t,t=wi(e),$c(e,null,a),t}return Ni(e,n,t,a),wi(e)}function wl(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,ci(e,a)}}function bu(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var r=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?r=i=m:i=i.next=m,a=a.next}while(a!==null);i===null?r=i=t:i=i.next=t}else r=i=t;a={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var _u=!1;function Cl(){if(_u){var e=Rr;if(e!==null)throw e}}function Tl(e,t,a,n){_u=!1;var r=e.updateQueue;vn=!1;var i=r.firstBaseUpdate,m=r.lastBaseUpdate,y=r.shared.pending;if(y!==null){r.shared.pending=null;var x=y,L=x.next;x.next=null,m===null?i=L:m.next=L,m=x;var V=e.alternate;V!==null&&(V=V.updateQueue,y=V.lastBaseUpdate,y!==m&&(y===null?V.firstBaseUpdate=L:y.next=L,V.lastBaseUpdate=x))}if(i!==null){var Q=r.baseState;m=0,V=L=x=null,y=i;do{var k=y.lane&-536870913,z=k!==y.lane;if(z?(ke&k)===k:(n&k)===k){k!==0&&k===Or&&(_u=!0),V!==null&&(V=V.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var we=e,_e=y;k=t;var Xe=a;switch(_e.tag){case 1:if(we=_e.payload,typeof we=="function"){Q=we.call(Xe,Q,k);break e}Q=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=_e.payload,k=typeof we=="function"?we.call(Xe,Q,k):we,k==null)break e;Q=w({},Q,k);break e;case 2:vn=!0}}k=y.callback,k!==null&&(e.flags|=64,z&&(e.flags|=8192),z=r.callbacks,z===null?r.callbacks=[k]:z.push(k))}else z={lane:k,tag:y.tag,payload:y.payload,callback:y.callback,next:null},V===null?(L=V=z,x=Q):V=V.next=z,m|=k;if(y=y.next,y===null){if(y=r.shared.pending,y===null)break;z=y,y=z.next,z.next=null,r.lastBaseUpdate=z,r.shared.pending=null}}while(!0);V===null&&(x=Q),r.baseState=x,r.firstBaseUpdate=L,r.lastBaseUpdate=V,i===null&&(r.shared.lanes=0),An|=m,e.lanes=m,e.memoizedState=Q}}function rd(e,t){if(typeof e!="function")throw Error(f(191,e));e.call(t)}function ld(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)rd(a[e],t)}var Dr=X(null),Mi=X(0);function id(e,t){e=Pa,J(Mi,e),J(Dr,t),Pa=e|t.baseLanes}function Eu(){J(Mi,Pa),J(Dr,Dr.current)}function Su(){Pa=Mi.current,ae(Dr),ae(Mi)}var _n=0,Oe=null,Ie=null,dt=null,Ui=!1,Lr=!1,tr=!1,qi=0,Al=0,Mr=null,vp=0;function ot(){throw Error(f(321))}function Nu(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Xt(e[a],t[a]))return!1;return!0}function wu(e,t,a,n,r,i){return _n=i,Oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,q.H=e===null||e.memoizedState===null?$d:Yd,tr=!1,i=a(n,r),tr=!1,Lr&&(i=ud(t,a,n,r)),sd(e),i}function sd(e){q.H=Vi;var t=Ie!==null&&Ie.next!==null;if(_n=0,dt=Ie=Oe=null,Ui=!1,Al=0,Mr=null,t)throw Error(f(300));e===null||vt||(e=e.dependencies,e!==null&&ji(e)&&(vt=!0))}function ud(e,t,a,n){Oe=e;var r=0;do{if(Lr&&(Mr=null),Al=0,Lr=!1,25<=r)throw Error(f(301));if(r+=1,dt=Ie=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}q.H=wp,i=t(a,n)}while(Lr);return i}function xp(){var e=q.H,t=e.useState()[0];return t=typeof t.then=="function"?jl(t):t,e=e.useState()[0],(Ie!==null?Ie.memoizedState:null)!==e&&(Oe.flags|=1024),t}function Cu(){var e=qi!==0;return qi=0,e}function Tu(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Au(e){if(Ui){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ui=!1}_n=0,dt=Ie=Oe=null,Lr=!1,Al=qi=0,Mr=null}function Gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Oe.memoizedState=dt=e:dt=dt.next=e,dt}function ft(){if(Ie===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=dt===null?Oe.memoizedState:dt.next;if(t!==null)dt=t,Ie=e;else{if(e===null)throw Oe.alternate===null?Error(f(467)):Error(f(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},dt===null?Oe.memoizedState=dt=e:dt=dt.next=e}return dt}function ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jl(e){var t=Al;return Al+=1,Mr===null&&(Mr=[]),e=td(Mr,e,t),t=Oe,(dt===null?t.memoizedState:dt.next)===null&&(t=t.alternate,q.H=t===null||t.memoizedState===null?$d:Yd),e}function ki(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return jl(e);if(e.$$typeof===se)return jt(e)}throw Error(f(438,String(e)))}function Ou(e){var t=null,a=Oe.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=Oe.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=ju(),Oe.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=re;return t.index++,a}function Xa(e,t){return typeof t=="function"?t(e):t}function zi(e){var t=ft();return Ru(t,Ie,e)}function Ru(e,t,a){var n=e.queue;if(n===null)throw Error(f(311));n.lastRenderedReducer=a;var r=e.baseQueue,i=n.pending;if(i!==null){if(r!==null){var m=r.next;r.next=i.next,i.next=m}t.baseQueue=r=i,n.pending=null}if(i=e.baseState,r===null)e.memoizedState=i;else{t=r.next;var y=m=null,x=null,L=t,V=!1;do{var Q=L.lane&-536870913;if(Q!==L.lane?(ke&Q)===Q:(_n&Q)===Q){var k=L.revertLane;if(k===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Q===Or&&(V=!0);else if((_n&k)===k){L=L.next,k===Or&&(V=!0);continue}else Q={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},x===null?(y=x=Q,m=i):x=x.next=Q,Oe.lanes|=k,An|=k;Q=L.action,tr&&a(i,Q),i=L.hasEagerState?L.eagerState:a(i,Q)}else k={lane:Q,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},x===null?(y=x=k,m=i):x=x.next=k,Oe.lanes|=Q,An|=Q;L=L.next}while(L!==null&&L!==t);if(x===null?m=i:x.next=y,!Xt(i,e.memoizedState)&&(vt=!0,V&&(a=Rr,a!==null)))throw a;e.memoizedState=i,e.baseState=m,e.baseQueue=x,n.lastRenderedState=i}return r===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Du(e){var t=ft(),a=t.queue;if(a===null)throw Error(f(311));a.lastRenderedReducer=e;var n=a.dispatch,r=a.pending,i=t.memoizedState;if(r!==null){a.pending=null;var m=r=r.next;do i=e(i,m.action),m=m.next;while(m!==r);Xt(i,t.memoizedState)||(vt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,n]}function od(e,t,a){var n=Oe,r=ft(),i=Ge;if(i){if(a===void 0)throw Error(f(407));a=a()}else a=t();var m=!Xt((Ie||r).memoizedState,a);m&&(r.memoizedState=a,vt=!0),r=r.queue;var y=fd.bind(null,n,r,e);if(Ol(2048,8,y,[e]),r.getSnapshot!==t||m||dt!==null&&dt.memoizedState.tag&1){if(n.flags|=2048,Ur(9,Hi(),dd.bind(null,n,r,a,t),null),Ke===null)throw Error(f(349));i||(_n&124)!==0||cd(n,t,a)}return a}function cd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Oe.updateQueue,t===null?(t=ju(),Oe.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function dd(e,t,a,n){t.value=a,t.getSnapshot=n,md(t)&&hd(e)}function fd(e,t,a){return a(function(){md(t)&&hd(e)})}function md(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Xt(e,a)}catch{return!0}}function hd(e){var t=Cr(e,2);t!==null&&Pt(t,e,2)}function Lu(e){var t=Gt();if(typeof e=="function"){var a=e;if(e=a(),tr){ha(!0);try{a()}finally{ha(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:e},t}function pd(e,t,a,n){return e.baseState=a,Ru(e,Ie,typeof n=="function"?n:Xa)}function bp(e,t,a,n,r){if(Gi(e))throw Error(f(485));if(e=t.action,e!==null){var i={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){i.listeners.push(m)}};q.T!==null?a(!0):i.isTransition=!1,n(i),a=t.pending,a===null?(i.next=t.pending=i,yd(t,i)):(i.next=a.next,t.pending=a.next=i)}}function yd(e,t){var a=t.action,n=t.payload,r=e.state;if(t.isTransition){var i=q.T,m={};q.T=m;try{var y=a(r,n),x=q.S;x!==null&&x(m,y),gd(e,t,y)}catch(L){Mu(e,t,L)}finally{q.T=i}}else try{i=a(r,n),gd(e,t,i)}catch(L){Mu(e,t,L)}}function gd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){vd(e,t,n)},function(n){return Mu(e,t,n)}):vd(e,t,a)}function vd(e,t,a){t.status="fulfilled",t.value=a,xd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,yd(e,a)))}function Mu(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,xd(t),t=t.next;while(t!==n)}e.action=null}function xd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function bd(e,t){return t}function _d(e,t){if(Ge){var a=Ke.formState;if(a!==null){e:{var n=Oe;if(Ge){if(lt){t:{for(var r=lt,i=wa;r.nodeType!==8;){if(!i){r=null;break t}if(r=xa(r.nextSibling),r===null){r=null;break t}}i=r.data,r=i==="F!"||i==="F"?r:null}if(r){lt=xa(r.nextSibling),n=r.data==="F!";break e}}Jn(n)}n=!1}n&&(t=a[0])}}return a=Gt(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bd,lastRenderedState:t},a.queue=n,a=Bd.bind(null,Oe,n),n.dispatch=a,n=Lu(!1),i=Hu.bind(null,Oe,!1,n.queue),n=Gt(),r={state:t,dispatch:null,action:e,pending:null},n.queue=r,a=bp.bind(null,Oe,r,i,a),r.dispatch=a,n.memoizedState=e,[t,a,!1]}function Ed(e){var t=ft();return Sd(t,Ie,e)}function Sd(e,t,a){if(t=Ru(e,t,bd)[0],e=zi(Xa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=jl(t)}catch(m){throw m===Sl?Di:m}else n=t;t=ft();var r=t.queue,i=r.dispatch;return a!==t.memoizedState&&(Oe.flags|=2048,Ur(9,Hi(),_p.bind(null,r,a),null)),[n,i,e]}function _p(e,t){e.action=t}function Nd(e){var t=ft(),a=Ie;if(a!==null)return Sd(t,a,e);ft(),t=t.memoizedState,a=ft();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function Ur(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=Oe.updateQueue,t===null&&(t=ju(),Oe.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function Hi(){return{destroy:void 0,resource:void 0}}function wd(){return ft().memoizedState}function Bi(e,t,a,n){var r=Gt();n=n===void 0?null:n,Oe.flags|=e,r.memoizedState=Ur(1|t,Hi(),a,n)}function Ol(e,t,a,n){var r=ft();n=n===void 0?null:n;var i=r.memoizedState.inst;Ie!==null&&n!==null&&Nu(n,Ie.memoizedState.deps)?r.memoizedState=Ur(t,i,a,n):(Oe.flags|=e,r.memoizedState=Ur(1|t,i,a,n))}function Cd(e,t){Bi(8390656,8,e,t)}function Td(e,t){Ol(2048,8,e,t)}function Ad(e,t){return Ol(4,2,e,t)}function jd(e,t){return Ol(4,4,e,t)}function Od(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rd(e,t,a){a=a!=null?a.concat([e]):null,Ol(4,4,Od.bind(null,t,e),a)}function Uu(){}function Dd(e,t){var a=ft();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&Nu(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function Ld(e,t){var a=ft();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&Nu(t,n[1]))return n[0];if(n=e(),tr){ha(!0);try{e()}finally{ha(!1)}}return a.memoizedState=[n,t],n}function qu(e,t,a){return a===void 0||(_n&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=kf(),Oe.lanes|=e,An|=e,a)}function Md(e,t,a,n){return Xt(a,t)?a:Dr.current!==null?(e=qu(e,a,n),Xt(e,t)||(vt=!0),e):(_n&42)===0?(vt=!0,e.memoizedState=a):(e=kf(),Oe.lanes|=e,An|=e,t)}function Ud(e,t,a,n,r){var i=ee.p;ee.p=i!==0&&8>i?i:8;var m=q.T,y={};q.T=y,Hu(e,!1,t,a);try{var x=r(),L=q.S;if(L!==null&&L(y,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var V=gp(x,n);Rl(e,t,V,Ft(e))}else Rl(e,t,n,Ft(e))}catch(Q){Rl(e,t,{then:function(){},status:"rejected",reason:Q},Ft())}finally{ee.p=i,q.T=m}}function Ep(){}function ku(e,t,a,n){if(e.tag!==5)throw Error(f(476));var r=qd(e).queue;Ud(e,r,t,de,a===null?Ep:function(){return kd(e),a(n)})}function qd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:de},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function kd(e){var t=qd(e).next.queue;Rl(e,t,{},Ft())}function zu(){return jt(Wl)}function zd(){return ft().memoizedState}function Hd(){return ft().memoizedState}function Sp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Ft();e=xn(a);var n=bn(t,e,a);n!==null&&(Pt(n,t,a),wl(n,t,a)),t={cache:hu()},e.payload=t;return}t=t.return}}function Np(e,t,a){var n=Ft();a={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Gi(e)?Gd(t,a):(a=ru(e,t,a,n),a!==null&&(Pt(a,e,n),Vd(a,t,n)))}function Bd(e,t,a){var n=Ft();Rl(e,t,a,n)}function Rl(e,t,a,n){var r={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Gi(e))Gd(t,r);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var m=t.lastRenderedState,y=i(m,a);if(r.hasEagerState=!0,r.eagerState=y,Xt(y,m))return Ni(e,t,r,0),Ke===null&&Si(),!1}catch{}finally{}if(a=ru(e,t,r,n),a!==null)return Pt(a,e,n),Vd(a,t,n),!0}return!1}function Hu(e,t,a,n){if(n={lane:2,revertLane:vo(),action:n,hasEagerState:!1,eagerState:null,next:null},Gi(e)){if(t)throw Error(f(479))}else t=ru(e,a,n,2),t!==null&&Pt(t,e,2)}function Gi(e){var t=e.alternate;return e===Oe||t!==null&&t===Oe}function Gd(e,t){Lr=Ui=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Vd(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,ci(e,a)}}var Vi={readContext:jt,use:ki,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useLayoutEffect:ot,useInsertionEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useSyncExternalStore:ot,useId:ot,useHostTransitionStatus:ot,useFormState:ot,useActionState:ot,useOptimistic:ot,useMemoCache:ot,useCacheRefresh:ot},$d={readContext:jt,use:ki,useCallback:function(e,t){return Gt().memoizedState=[e,t===void 0?null:t],e},useContext:jt,useEffect:Cd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Bi(4194308,4,Od.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Bi(4194308,4,e,t)},useInsertionEffect:function(e,t){Bi(4,2,e,t)},useMemo:function(e,t){var a=Gt();t=t===void 0?null:t;var n=e();if(tr){ha(!0);try{e()}finally{ha(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=Gt();if(a!==void 0){var r=a(t);if(tr){ha(!0);try{a(t)}finally{ha(!1)}}}else r=t;return n.memoizedState=n.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},n.queue=e,e=e.dispatch=Np.bind(null,Oe,e),[n.memoizedState,e]},useRef:function(e){var t=Gt();return e={current:e},t.memoizedState=e},useState:function(e){e=Lu(e);var t=e.queue,a=Bd.bind(null,Oe,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Uu,useDeferredValue:function(e,t){var a=Gt();return qu(a,e,t)},useTransition:function(){var e=Lu(!1);return e=Ud.bind(null,Oe,e.queue,!0,!1),Gt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=Oe,r=Gt();if(Ge){if(a===void 0)throw Error(f(407));a=a()}else{if(a=t(),Ke===null)throw Error(f(349));(ke&124)!==0||cd(n,t,a)}r.memoizedState=a;var i={value:a,getSnapshot:t};return r.queue=i,Cd(fd.bind(null,n,i,e),[e]),n.flags|=2048,Ur(9,Hi(),dd.bind(null,n,i,a,t),null),a},useId:function(){var e=Gt(),t=Ke.identifierPrefix;if(Ge){var a=Ya,n=$a;a=(n&~(1<<32-Ct(n)-1)).toString(32)+a,t=""+t+"R"+a,a=qi++,0<a&&(t+="H"+a.toString(32)),t+=""}else a=vp++,t=""+t+"r"+a.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:zu,useFormState:_d,useActionState:_d,useOptimistic:function(e){var t=Gt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Hu.bind(null,Oe,!0,a),a.dispatch=t,[e,t]},useMemoCache:Ou,useCacheRefresh:function(){return Gt().memoizedState=Sp.bind(null,Oe)}},Yd={readContext:jt,use:ki,useCallback:Dd,useContext:jt,useEffect:Td,useImperativeHandle:Rd,useInsertionEffect:Ad,useLayoutEffect:jd,useMemo:Ld,useReducer:zi,useRef:wd,useState:function(){return zi(Xa)},useDebugValue:Uu,useDeferredValue:function(e,t){var a=ft();return Md(a,Ie.memoizedState,e,t)},useTransition:function(){var e=zi(Xa)[0],t=ft().memoizedState;return[typeof e=="boolean"?e:jl(e),t]},useSyncExternalStore:od,useId:zd,useHostTransitionStatus:zu,useFormState:Ed,useActionState:Ed,useOptimistic:function(e,t){var a=ft();return pd(a,Ie,e,t)},useMemoCache:Ou,useCacheRefresh:Hd},wp={readContext:jt,use:ki,useCallback:Dd,useContext:jt,useEffect:Td,useImperativeHandle:Rd,useInsertionEffect:Ad,useLayoutEffect:jd,useMemo:Ld,useReducer:Du,useRef:wd,useState:function(){return Du(Xa)},useDebugValue:Uu,useDeferredValue:function(e,t){var a=ft();return Ie===null?qu(a,e,t):Md(a,Ie.memoizedState,e,t)},useTransition:function(){var e=Du(Xa)[0],t=ft().memoizedState;return[typeof e=="boolean"?e:jl(e),t]},useSyncExternalStore:od,useId:zd,useHostTransitionStatus:zu,useFormState:Nd,useActionState:Nd,useOptimistic:function(e,t){var a=ft();return Ie!==null?pd(a,Ie,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Ou,useCacheRefresh:Hd},qr=null,Dl=0;function $i(e){var t=Dl;return Dl+=1,qr===null&&(qr=[]),td(qr,e,t)}function Ll(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Yi(e,t){throw t.$$typeof===j?Error(f(525)):(e=Object.prototype.toString.call(t),Error(f(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Id(e){var t=e._init;return t(e._payload)}function Qd(e){function t(T,C){if(e){var R=T.deletions;R===null?(T.deletions=[C],T.flags|=16):R.push(C)}}function a(T,C){if(!e)return null;for(;C!==null;)t(T,C),C=C.sibling;return null}function n(T){for(var C=new Map;T!==null;)T.key!==null?C.set(T.key,T):C.set(T.index,T),T=T.sibling;return C}function r(T,C){return T=Va(T,C),T.index=0,T.sibling=null,T}function i(T,C,R){return T.index=R,e?(R=T.alternate,R!==null?(R=R.index,R<C?(T.flags|=67108866,C):R):(T.flags|=67108866,C)):(T.flags|=1048576,C)}function m(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function y(T,C,R,I){return C===null||C.tag!==6?(C=iu(R,T.mode,I),C.return=T,C):(C=r(C,R),C.return=T,C)}function x(T,C,R,I){var ce=R.type;return ce===B?V(T,C,R.props.children,I,R.key):C!==null&&(C.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===P&&Id(ce)===C.type)?(C=r(C,R.props),Ll(C,R),C.return=T,C):(C=Ci(R.type,R.key,R.props,null,T.mode,I),Ll(C,R),C.return=T,C)}function L(T,C,R,I){return C===null||C.tag!==4||C.stateNode.containerInfo!==R.containerInfo||C.stateNode.implementation!==R.implementation?(C=su(R,T.mode,I),C.return=T,C):(C=r(C,R.children||[]),C.return=T,C)}function V(T,C,R,I,ce){return C===null||C.tag!==7?(C=Xn(R,T.mode,I,ce),C.return=T,C):(C=r(C,R),C.return=T,C)}function Q(T,C,R){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=iu(""+C,T.mode,R),C.return=T,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case b:return R=Ci(C.type,C.key,C.props,null,T.mode,R),Ll(R,C),R.return=T,R;case Y:return C=su(C,T.mode,R),C.return=T,C;case P:var I=C._init;return C=I(C._payload),Q(T,C,R)}if(ge(C)||he(C))return C=Xn(C,T.mode,R,null),C.return=T,C;if(typeof C.then=="function")return Q(T,$i(C),R);if(C.$$typeof===se)return Q(T,Oi(T,C),R);Yi(T,C)}return null}function k(T,C,R,I){var ce=C!==null?C.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return ce!==null?null:y(T,C,""+R,I);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case b:return R.key===ce?x(T,C,R,I):null;case Y:return R.key===ce?L(T,C,R,I):null;case P:return ce=R._init,R=ce(R._payload),k(T,C,R,I)}if(ge(R)||he(R))return ce!==null?null:V(T,C,R,I,null);if(typeof R.then=="function")return k(T,C,$i(R),I);if(R.$$typeof===se)return k(T,C,Oi(T,R),I);Yi(T,R)}return null}function z(T,C,R,I,ce){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return T=T.get(R)||null,y(C,T,""+I,ce);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case b:return T=T.get(I.key===null?R:I.key)||null,x(C,T,I,ce);case Y:return T=T.get(I.key===null?R:I.key)||null,L(C,T,I,ce);case P:var De=I._init;return I=De(I._payload),z(T,C,R,I,ce)}if(ge(I)||he(I))return T=T.get(R)||null,V(C,T,I,ce,null);if(typeof I.then=="function")return z(T,C,R,$i(I),ce);if(I.$$typeof===se)return z(T,C,R,Oi(C,I),ce);Yi(C,I)}return null}function we(T,C,R,I){for(var ce=null,De=null,ve=C,Se=C=0,bt=null;ve!==null&&Se<R.length;Se++){ve.index>Se?(bt=ve,ve=null):bt=ve.sibling;var ze=k(T,ve,R[Se],I);if(ze===null){ve===null&&(ve=bt);break}e&&ve&&ze.alternate===null&&t(T,ve),C=i(ze,C,Se),De===null?ce=ze:De.sibling=ze,De=ze,ve=bt}if(Se===R.length)return a(T,ve),Ge&&Wn(T,Se),ce;if(ve===null){for(;Se<R.length;Se++)ve=Q(T,R[Se],I),ve!==null&&(C=i(ve,C,Se),De===null?ce=ve:De.sibling=ve,De=ve);return Ge&&Wn(T,Se),ce}for(ve=n(ve);Se<R.length;Se++)bt=z(ve,T,Se,R[Se],I),bt!==null&&(e&&bt.alternate!==null&&ve.delete(bt.key===null?Se:bt.key),C=i(bt,C,Se),De===null?ce=bt:De.sibling=bt,De=bt);return e&&ve.forEach(function(kn){return t(T,kn)}),Ge&&Wn(T,Se),ce}function _e(T,C,R,I){if(R==null)throw Error(f(151));for(var ce=null,De=null,ve=C,Se=C=0,bt=null,ze=R.next();ve!==null&&!ze.done;Se++,ze=R.next()){ve.index>Se?(bt=ve,ve=null):bt=ve.sibling;var kn=k(T,ve,ze.value,I);if(kn===null){ve===null&&(ve=bt);break}e&&ve&&kn.alternate===null&&t(T,ve),C=i(kn,C,Se),De===null?ce=kn:De.sibling=kn,De=kn,ve=bt}if(ze.done)return a(T,ve),Ge&&Wn(T,Se),ce;if(ve===null){for(;!ze.done;Se++,ze=R.next())ze=Q(T,ze.value,I),ze!==null&&(C=i(ze,C,Se),De===null?ce=ze:De.sibling=ze,De=ze);return Ge&&Wn(T,Se),ce}for(ve=n(ve);!ze.done;Se++,ze=R.next())ze=z(ve,T,Se,ze.value,I),ze!==null&&(e&&ze.alternate!==null&&ve.delete(ze.key===null?Se:ze.key),C=i(ze,C,Se),De===null?ce=ze:De.sibling=ze,De=ze);return e&&ve.forEach(function(C0){return t(T,C0)}),Ge&&Wn(T,Se),ce}function Xe(T,C,R,I){if(typeof R=="object"&&R!==null&&R.type===B&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case b:e:{for(var ce=R.key;C!==null;){if(C.key===ce){if(ce=R.type,ce===B){if(C.tag===7){a(T,C.sibling),I=r(C,R.props.children),I.return=T,T=I;break e}}else if(C.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===P&&Id(ce)===C.type){a(T,C.sibling),I=r(C,R.props),Ll(I,R),I.return=T,T=I;break e}a(T,C);break}else t(T,C);C=C.sibling}R.type===B?(I=Xn(R.props.children,T.mode,I,R.key),I.return=T,T=I):(I=Ci(R.type,R.key,R.props,null,T.mode,I),Ll(I,R),I.return=T,T=I)}return m(T);case Y:e:{for(ce=R.key;C!==null;){if(C.key===ce)if(C.tag===4&&C.stateNode.containerInfo===R.containerInfo&&C.stateNode.implementation===R.implementation){a(T,C.sibling),I=r(C,R.children||[]),I.return=T,T=I;break e}else{a(T,C);break}else t(T,C);C=C.sibling}I=su(R,T.mode,I),I.return=T,T=I}return m(T);case P:return ce=R._init,R=ce(R._payload),Xe(T,C,R,I)}if(ge(R))return we(T,C,R,I);if(he(R)){if(ce=he(R),typeof ce!="function")throw Error(f(150));return R=ce.call(R),_e(T,C,R,I)}if(typeof R.then=="function")return Xe(T,C,$i(R),I);if(R.$$typeof===se)return Xe(T,C,Oi(T,R),I);Yi(T,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,C!==null&&C.tag===6?(a(T,C.sibling),I=r(C,R),I.return=T,T=I):(a(T,C),I=iu(R,T.mode,I),I.return=T,T=I),m(T)):a(T,C)}return function(T,C,R,I){try{Dl=0;var ce=Xe(T,C,R,I);return qr=null,ce}catch(ve){if(ve===Sl||ve===Di)throw ve;var De=Zt(29,ve,null,T.mode);return De.lanes=I,De.return=T,De}finally{}}}var kr=Qd(!0),Xd=Qd(!1),ua=X(null),Ca=null;function En(e){var t=e.alternate;J(pt,pt.current&1),J(ua,e),Ca===null&&(t===null||Dr.current!==null||t.memoizedState!==null)&&(Ca=e)}function Zd(e){if(e.tag===22){if(J(pt,pt.current),J(ua,e),Ca===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Ca=e)}}else Sn()}function Sn(){J(pt,pt.current),J(ua,ua.current)}function Za(e){ae(ua),Ca===e&&(Ca=null),ae(pt)}var pt=X(0);function Ii(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Oo(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Bu(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:w({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Gu={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=Ft(),r=xn(n);r.payload=t,a!=null&&(r.callback=a),t=bn(e,r,n),t!==null&&(Pt(t,e,n),wl(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=Ft(),r=xn(n);r.tag=1,r.payload=t,a!=null&&(r.callback=a),t=bn(e,r,n),t!==null&&(Pt(t,e,n),wl(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Ft(),n=xn(a);n.tag=2,t!=null&&(n.callback=t),t=bn(e,n,a),t!==null&&(Pt(t,e,a),wl(t,e,a))}};function Wd(e,t,a,n,r,i,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,m):t.prototype&&t.prototype.isPureReactComponent?!pl(a,n)||!pl(r,i):!0}function Kd(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&Gu.enqueueReplaceState(t,t.state,null)}function ar(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=w({},a));for(var r in e)a[r]===void 0&&(a[r]=e[r])}return a}var Qi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Jd(e){Qi(e)}function Fd(e){console.error(e)}function Pd(e){Qi(e)}function Xi(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function ef(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Vu(e,t,a){return a=xn(a),a.tag=3,a.payload={element:null},a.callback=function(){Xi(e,t)},a}function tf(e){return e=xn(e),e.tag=3,e}function af(e,t,a,n){var r=a.type.getDerivedStateFromError;if(typeof r=="function"){var i=n.value;e.payload=function(){return r(i)},e.callback=function(){ef(t,a,n)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){ef(t,a,n),typeof r!="function"&&(jn===null?jn=new Set([this]):jn.add(this));var y=n.stack;this.componentDidCatch(n.value,{componentStack:y!==null?y:""})})}function Cp(e,t,a,n,r){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&bl(t,a,r,!0),a=ua.current,a!==null){switch(a.tag){case 13:return Ca===null?mo():a.alternate===null&&it===0&&(it=3),a.flags&=-257,a.flags|=65536,a.lanes=r,n===gu?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),po(e,n,r)),!1;case 22:return a.flags|=65536,n===gu?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),po(e,n,r)),!1}throw Error(f(435,a.tag))}return po(e,n,r),mo(),!1}if(Ge)return t=ua.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=r,n!==cu&&(e=Error(f(422),{cause:n}),xl(ra(e,a)))):(n!==cu&&(t=Error(f(423),{cause:n}),xl(ra(t,a))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,n=ra(n,a),r=Vu(e.stateNode,n,r),bu(e,r),it!==4&&(it=2)),!1;var i=Error(f(520),{cause:n});if(i=ra(i,a),Bl===null?Bl=[i]:Bl.push(i),it!==4&&(it=2),t===null)return!0;n=ra(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=r&-r,a.lanes|=e,e=Vu(a.stateNode,n,e),bu(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(jn===null||!jn.has(i))))return a.flags|=65536,r&=-r,a.lanes|=r,r=tf(r),af(r,e,a,n),bu(a,r),!1}a=a.return}while(a!==null);return!1}var nf=Error(f(461)),vt=!1;function St(e,t,a,n){t.child=e===null?Xd(t,null,a,n):kr(t,e.child,a,n)}function rf(e,t,a,n,r){a=a.render;var i=t.ref;if("ref"in n){var m={};for(var y in n)y!=="ref"&&(m[y]=n[y])}else m=n;return Pn(t),n=wu(e,t,a,m,i,r),y=Cu(),e!==null&&!vt?(Tu(e,t,r),Wa(e,t,r)):(Ge&&y&&uu(t),t.flags|=1,St(e,t,n,r),t.child)}function lf(e,t,a,n,r){if(e===null){var i=a.type;return typeof i=="function"&&!lu(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,sf(e,t,i,n,r)):(e=Ci(a.type,null,n,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Ku(e,r)){var m=i.memoizedProps;if(a=a.compare,a=a!==null?a:pl,a(m,n)&&e.ref===t.ref)return Wa(e,t,r)}return t.flags|=1,e=Va(i,n),e.ref=t.ref,e.return=t,t.child=e}function sf(e,t,a,n,r){if(e!==null){var i=e.memoizedProps;if(pl(i,n)&&e.ref===t.ref)if(vt=!1,t.pendingProps=n=i,Ku(e,r))(e.flags&131072)!==0&&(vt=!0);else return t.lanes=e.lanes,Wa(e,t,r)}return $u(e,t,a,n,r)}function uf(e,t,a){var n=t.pendingProps,r=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden"){if((t.flags&128)!==0){if(n=i!==null?i.baseLanes|a:a,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;t.childLanes=i&~n}else t.childLanes=0,t.child=null;return of(e,t,n,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ri(t,i!==null?i.cachePool:null),i!==null?id(t,i):Eu(),Zd(t);else return t.lanes=t.childLanes=536870912,of(e,t,i!==null?i.baseLanes|a:a,a)}else i!==null?(Ri(t,i.cachePool),id(t,i),Sn(),t.memoizedState=null):(e!==null&&Ri(t,null),Eu(),Sn());return St(e,t,r,a),t.child}function of(e,t,a,n){var r=yu();return r=r===null?null:{parent:ht._currentValue,pool:r},t.memoizedState={baseLanes:a,cachePool:r},e!==null&&Ri(t,null),Eu(),Zd(t),e!==null&&bl(e,t,n,!0),null}function Zi(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(f(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function $u(e,t,a,n,r){return Pn(t),a=wu(e,t,a,n,void 0,r),n=Cu(),e!==null&&!vt?(Tu(e,t,r),Wa(e,t,r)):(Ge&&n&&uu(t),t.flags|=1,St(e,t,a,r),t.child)}function cf(e,t,a,n,r,i){return Pn(t),t.updateQueue=null,a=ud(t,n,a,r),sd(e),n=Cu(),e!==null&&!vt?(Tu(e,t,i),Wa(e,t,i)):(Ge&&n&&uu(t),t.flags|=1,St(e,t,a,i),t.child)}function df(e,t,a,n,r){if(Pn(t),t.stateNode===null){var i=Tr,m=a.contextType;typeof m=="object"&&m!==null&&(i=jt(m)),i=new a(n,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Gu,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=n,i.state=t.memoizedState,i.refs={},vu(t),m=a.contextType,i.context=typeof m=="object"&&m!==null?jt(m):Tr,i.state=t.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(Bu(t,a,m,n),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(m=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),m!==i.state&&Gu.enqueueReplaceState(i,i.state,null),Tl(t,n,i,r),Cl(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){i=t.stateNode;var y=t.memoizedProps,x=ar(a,y);i.props=x;var L=i.context,V=a.contextType;m=Tr,typeof V=="object"&&V!==null&&(m=jt(V));var Q=a.getDerivedStateFromProps;V=typeof Q=="function"||typeof i.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,V||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(y||L!==m)&&Kd(t,i,n,m),vn=!1;var k=t.memoizedState;i.state=k,Tl(t,n,i,r),Cl(),L=t.memoizedState,y||k!==L||vn?(typeof Q=="function"&&(Bu(t,a,Q,n),L=t.memoizedState),(x=vn||Wd(t,a,x,n,k,L,m))?(V||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=L),i.props=n,i.state=L,i.context=m,n=x):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,xu(e,t),m=t.memoizedProps,V=ar(a,m),i.props=V,Q=t.pendingProps,k=i.context,L=a.contextType,x=Tr,typeof L=="object"&&L!==null&&(x=jt(L)),y=a.getDerivedStateFromProps,(L=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(m!==Q||k!==x)&&Kd(t,i,n,x),vn=!1,k=t.memoizedState,i.state=k,Tl(t,n,i,r),Cl();var z=t.memoizedState;m!==Q||k!==z||vn||e!==null&&e.dependencies!==null&&ji(e.dependencies)?(typeof y=="function"&&(Bu(t,a,y,n),z=t.memoizedState),(V=vn||Wd(t,a,V,n,k,z,x)||e!==null&&e.dependencies!==null&&ji(e.dependencies))?(L||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,z,x),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,z,x)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||m===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=z),i.props=n,i.state=z,i.context=x,n=V):(typeof i.componentDidUpdate!="function"||m===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),n=!1)}return i=n,Zi(e,t),n=(t.flags&128)!==0,i||n?(i=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&n?(t.child=kr(t,e.child,null,r),t.child=kr(t,null,a,r)):St(e,t,a,r),t.memoizedState=i.state,e=t.child):e=Wa(e,t,r),e}function ff(e,t,a,n){return vl(),t.flags|=256,St(e,t,a,n),t.child}var Yu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Iu(e){return{baseLanes:e,cachePool:Fc()}}function Qu(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=oa),e}function mf(e,t,a){var n=t.pendingProps,r=!1,i=(t.flags&128)!==0,m;if((m=i)||(m=e!==null&&e.memoizedState===null?!1:(pt.current&2)!==0),m&&(r=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ge){if(r?En(t):Sn(),Ge){var y=lt,x;if(x=y){e:{for(x=y,y=wa;x.nodeType!==8;){if(!y){y=null;break e}if(x=xa(x.nextSibling),x===null){y=null;break e}}y=x}y!==null?(t.memoizedState={dehydrated:y,treeContext:Zn!==null?{id:$a,overflow:Ya}:null,retryLane:536870912,hydrationErrors:null},x=Zt(18,null,null,0),x.stateNode=y,x.return=t,t.child=x,Lt=t,lt=null,x=!0):x=!1}x||Jn(t)}if(y=t.memoizedState,y!==null&&(y=y.dehydrated,y!==null))return Oo(y)?t.lanes=32:t.lanes=536870912,null;Za(t)}return y=n.children,n=n.fallback,r?(Sn(),r=t.mode,y=Wi({mode:"hidden",children:y},r),n=Xn(n,r,a,null),y.return=t,n.return=t,y.sibling=n,t.child=y,r=t.child,r.memoizedState=Iu(a),r.childLanes=Qu(e,m,a),t.memoizedState=Yu,n):(En(t),Xu(t,y))}if(x=e.memoizedState,x!==null&&(y=x.dehydrated,y!==null)){if(i)t.flags&256?(En(t),t.flags&=-257,t=Zu(e,t,a)):t.memoizedState!==null?(Sn(),t.child=e.child,t.flags|=128,t=null):(Sn(),r=n.fallback,y=t.mode,n=Wi({mode:"visible",children:n.children},y),r=Xn(r,y,a,null),r.flags|=2,n.return=t,r.return=t,n.sibling=r,t.child=n,kr(t,e.child,null,a),n=t.child,n.memoizedState=Iu(a),n.childLanes=Qu(e,m,a),t.memoizedState=Yu,t=r);else if(En(t),Oo(y)){if(m=y.nextSibling&&y.nextSibling.dataset,m)var L=m.dgst;m=L,n=Error(f(419)),n.stack="",n.digest=m,xl({value:n,source:null,stack:null}),t=Zu(e,t,a)}else if(vt||bl(e,t,a,!1),m=(a&e.childLanes)!==0,vt||m){if(m=Ke,m!==null&&(n=a&-a,n=(n&42)!==0?1:el(n),n=(n&(m.suspendedLanes|a))!==0?0:n,n!==0&&n!==x.retryLane))throw x.retryLane=n,Cr(e,n),Pt(m,e,n),nf;y.data==="$?"||mo(),t=Zu(e,t,a)}else y.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=x.treeContext,lt=xa(y.nextSibling),Lt=t,Ge=!0,Kn=null,wa=!1,e!==null&&(ia[sa++]=$a,ia[sa++]=Ya,ia[sa++]=Zn,$a=e.id,Ya=e.overflow,Zn=t),t=Xu(t,n.children),t.flags|=4096);return t}return r?(Sn(),r=n.fallback,y=t.mode,x=e.child,L=x.sibling,n=Va(x,{mode:"hidden",children:n.children}),n.subtreeFlags=x.subtreeFlags&65011712,L!==null?r=Va(L,r):(r=Xn(r,y,a,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,n=r,r=t.child,y=e.child.memoizedState,y===null?y=Iu(a):(x=y.cachePool,x!==null?(L=ht._currentValue,x=x.parent!==L?{parent:L,pool:L}:x):x=Fc(),y={baseLanes:y.baseLanes|a,cachePool:x}),r.memoizedState=y,r.childLanes=Qu(e,m,a),t.memoizedState=Yu,n):(En(t),a=e.child,e=a.sibling,a=Va(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=a,t.memoizedState=null,a)}function Xu(e,t){return t=Wi({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Wi(e,t){return e=Zt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Zu(e,t,a){return kr(t,e.child,null,a),e=Xu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hf(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),fu(e.return,t,a)}function Wu(e,t,a,n,r){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=a,i.tailMode=r)}function pf(e,t,a){var n=t.pendingProps,r=n.revealOrder,i=n.tail;if(St(e,t,n.children,a),n=pt.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hf(e,a,t);else if(e.tag===19)hf(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(J(pt,n),r){case"forwards":for(a=t.child,r=null;a!==null;)e=a.alternate,e!==null&&Ii(e)===null&&(r=a),a=a.sibling;a=r,a===null?(r=t.child,t.child=null):(r=a.sibling,a.sibling=null),Wu(t,!1,r,a,i);break;case"backwards":for(a=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Ii(e)===null){t.child=r;break}e=r.sibling,r.sibling=a,a=r,r=e}Wu(t,!0,a,null,i);break;case"together":Wu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),An|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(bl(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(f(153));if(t.child!==null){for(e=t.child,a=Va(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Va(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Ku(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ji(e)))}function Tp(e,t,a){switch(t.tag){case 3:He(t,t.stateNode.containerInfo),gn(t,ht,e.memoizedState.cache),vl();break;case 27:case 5:sr(t);break;case 4:He(t,t.stateNode.containerInfo);break;case 10:gn(t,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(En(t),t.flags|=128,null):(a&t.child.childLanes)!==0?mf(e,t,a):(En(t),e=Wa(e,t,a),e!==null?e.sibling:null);En(t);break;case 19:var r=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(bl(e,t,a,!1),n=(a&t.childLanes)!==0),r){if(n)return pf(e,t,a);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),J(pt,pt.current),n)break;return null;case 22:case 23:return t.lanes=0,uf(e,t,a);case 24:gn(t,ht,e.memoizedState.cache)}return Wa(e,t,a)}function yf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)vt=!0;else{if(!Ku(e,a)&&(t.flags&128)===0)return vt=!1,Tp(e,t,a);vt=(e.flags&131072)!==0}else vt=!1,Ge&&(t.flags&1048576)!==0&&Ic(t,Ai,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,r=n._init;if(n=r(n._payload),t.type=n,typeof n=="function")lu(n)?(e=ar(n,e),t.tag=1,t=df(null,t,n,e,a)):(t.tag=0,t=$u(null,t,n,e,a));else{if(n!=null){if(r=n.$$typeof,r===xe){t.tag=11,t=rf(null,t,n,e,a);break e}else if(r===nt){t.tag=14,t=lf(null,t,n,e,a);break e}}throw t=F(n)||n,Error(f(306,t,""))}}return t;case 0:return $u(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,r=ar(n,t.pendingProps),df(e,t,n,r,a);case 3:e:{if(He(t,t.stateNode.containerInfo),e===null)throw Error(f(387));n=t.pendingProps;var i=t.memoizedState;r=i.element,xu(e,t),Tl(t,n,null,a);var m=t.memoizedState;if(n=m.cache,gn(t,ht,n),n!==i.cache&&mu(t,[ht],a,!0),Cl(),n=m.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=ff(e,t,n,a);break e}else if(n!==r){r=ra(Error(f(424)),t),xl(r),t=ff(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(lt=xa(e.firstChild),Lt=t,Ge=!0,Kn=null,wa=!0,a=Xd(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(vl(),n===r){t=Wa(e,t,a);break e}St(e,t,n,a)}t=t.child}return t;case 26:return Zi(e,t),e===null?(a=bm(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ge||(a=t.type,e=t.pendingProps,n=os(Ne.current).createElement(a),n[Fe]=t,n[_t]=e,wt(n,a,e),rt(n),t.stateNode=n):t.memoizedState=bm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return sr(t),e===null&&Ge&&(n=t.stateNode=gm(t.type,t.pendingProps,Ne.current),Lt=t,wa=!0,r=lt,Dn(t.type)?(Ro=r,lt=xa(n.firstChild)):lt=r),St(e,t,t.pendingProps.children,a),Zi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ge&&((r=n=lt)&&(n=t0(n,t.type,t.pendingProps,wa),n!==null?(t.stateNode=n,Lt=t,lt=xa(n.firstChild),wa=!1,r=!0):r=!1),r||Jn(t)),sr(t),r=t.type,i=t.pendingProps,m=e!==null?e.memoizedProps:null,n=i.children,To(r,i)?n=null:m!==null&&To(r,m)&&(t.flags|=32),t.memoizedState!==null&&(r=wu(e,t,xp,null,null,a),Wl._currentValue=r),Zi(e,t),St(e,t,n,a),t.child;case 6:return e===null&&Ge&&((e=a=lt)&&(a=a0(a,t.pendingProps,wa),a!==null?(t.stateNode=a,Lt=t,lt=null,e=!0):e=!1),e||Jn(t)),null;case 13:return mf(e,t,a);case 4:return He(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=kr(t,null,n,a):St(e,t,n,a),t.child;case 11:return rf(e,t,t.type,t.pendingProps,a);case 7:return St(e,t,t.pendingProps,a),t.child;case 8:return St(e,t,t.pendingProps.children,a),t.child;case 12:return St(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,gn(t,t.type,n.value),St(e,t,n.children,a),t.child;case 9:return r=t.type._context,n=t.pendingProps.children,Pn(t),r=jt(r),n=n(r),t.flags|=1,St(e,t,n,a),t.child;case 14:return lf(e,t,t.type,t.pendingProps,a);case 15:return sf(e,t,t.type,t.pendingProps,a);case 19:return pf(e,t,a);case 31:return n=t.pendingProps,a=t.mode,n={mode:n.mode,children:n.children},e===null?(a=Wi(n,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=Va(e.child,n),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return uf(e,t,a);case 24:return Pn(t),n=jt(ht),e===null?(r=yu(),r===null&&(r=Ke,i=hu(),r.pooledCache=i,i.refCount++,i!==null&&(r.pooledCacheLanes|=a),r=i),t.memoizedState={parent:n,cache:r},vu(t),gn(t,ht,r)):((e.lanes&a)!==0&&(xu(e,t),Tl(t,null,null,a),Cl()),r=e.memoizedState,i=t.memoizedState,r.parent!==n?(r={parent:n,cache:n},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),gn(t,ht,n)):(n=i.cache,gn(t,ht,n),n!==r.cache&&mu(t,[ht],a,!0))),St(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(f(156,t.tag))}function Ka(e){e.flags|=4}function gf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!wm(t)){if(t=ua.current,t!==null&&((ke&4194048)===ke?Ca!==null:(ke&62914560)!==ke&&(ke&536870912)===0||t!==Ca))throw Nl=gu,Pc;e.flags|=8192}}function Ki(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?pa():536870912,e.lanes|=t,Gr|=t)}function Ml(e,t){if(!Ge)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function at(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var r=e.child;r!==null;)a|=r.lanes|r.childLanes,n|=r.subtreeFlags&65011712,n|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)a|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function Ap(e,t,a){var n=t.pendingProps;switch(ou(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(t),null;case 1:return at(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Qa(ht),fa(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(gl(t)?Ka(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Zc())),at(t),null;case 26:return a=t.memoizedState,e===null?(Ka(t),a!==null?(at(t),gf(t,a)):(at(t),t.flags&=-16777217)):a?a!==e.memoizedState?(Ka(t),at(t),gf(t,a)):(at(t),t.flags&=-16777217):(e.memoizedProps!==n&&Ka(t),at(t),t.flags&=-16777217),null;case 27:ur(t),a=Ne.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Ka(t);else{if(!n){if(t.stateNode===null)throw Error(f(166));return at(t),null}e=ne.current,gl(t)?Qc(t):(e=gm(r,n,a),t.stateNode=e,Ka(t))}return at(t),null;case 5:if(ur(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Ka(t);else{if(!n){if(t.stateNode===null)throw Error(f(166));return at(t),null}if(e=ne.current,gl(t))Qc(t);else{switch(r=os(Ne.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof n.is=="string"?r.createElement("select",{is:n.is}):r.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e=typeof n.is=="string"?r.createElement(a,{is:n.is}):r.createElement(a)}}e[Fe]=t,e[_t]=n;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(wt(e,a,n),a){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ka(t)}}return at(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&Ka(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(f(166));if(e=Ne.current,gl(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,r=Lt,r!==null)switch(r.tag){case 27:case 5:n=r.memoizedProps}e[Fe]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||cm(e.nodeValue,a)),e||Jn(t)}else e=os(e).createTextNode(n),e[Fe]=t,t.stateNode=e}return at(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=gl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!r)throw Error(f(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(f(317));r[Fe]=t}else vl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;at(t),r=!1}else r=Zc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Za(t),t):(Za(t),null)}if(Za(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=n!==null,e=e!==null&&e.memoizedState!==null,a){n=t.child,r=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(r=n.alternate.memoizedState.cachePool.pool);var i=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==r&&(n.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),Ki(t,t.updateQueue),at(t),null;case 4:return fa(),e===null&&Eo(t.stateNode.containerInfo),at(t),null;case 10:return Qa(t.type),at(t),null;case 19:if(ae(pt),r=t.memoizedState,r===null)return at(t),null;if(n=(t.flags&128)!==0,i=r.rendering,i===null)if(n)Ml(r,!1);else{if(it!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=Ii(e),i!==null){for(t.flags|=128,Ml(r,!1),e=i.updateQueue,t.updateQueue=e,Ki(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Yc(a,e),a=a.sibling;return J(pt,pt.current&1|2),t.child}e=e.sibling}r.tail!==null&&Ut()>Pi&&(t.flags|=128,n=!0,Ml(r,!1),t.lanes=4194304)}else{if(!n)if(e=Ii(i),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,Ki(t,e),Ml(r,!0),r.tail===null&&r.tailMode==="hidden"&&!i.alternate&&!Ge)return at(t),null}else 2*Ut()-r.renderingStartTime>Pi&&a!==536870912&&(t.flags|=128,n=!0,Ml(r,!1),t.lanes=4194304);r.isBackwards?(i.sibling=t.child,t.child=i):(e=r.last,e!==null?e.sibling=i:t.child=i,r.last=i)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Ut(),t.sibling=null,e=pt.current,J(pt,n?e&1|2:e&1),t):(at(t),null);case 22:case 23:return Za(t),Su(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(at(t),t.subtreeFlags&6&&(t.flags|=8192)):at(t),a=t.updateQueue,a!==null&&Ki(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&ae(er),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Qa(ht),at(t),null;case 25:return null;case 30:return null}throw Error(f(156,t.tag))}function jp(e,t){switch(ou(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qa(ht),fa(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ur(t),null;case 13:if(Za(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(f(340));vl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ae(pt),null;case 4:return fa(),null;case 10:return Qa(t.type),null;case 22:case 23:return Za(t),Su(),e!==null&&ae(er),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Qa(ht),null;case 25:return null;default:return null}}function vf(e,t){switch(ou(t),t.tag){case 3:Qa(ht),fa();break;case 26:case 27:case 5:ur(t);break;case 4:fa();break;case 13:Za(t);break;case 19:ae(pt);break;case 10:Qa(t.type);break;case 22:case 23:Za(t),Su(),e!==null&&ae(er);break;case 24:Qa(ht)}}function Ul(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var r=n.next;a=r;do{if((a.tag&e)===e){n=void 0;var i=a.create,m=a.inst;n=i(),m.destroy=n}a=a.next}while(a!==r)}}catch(y){We(t,t.return,y)}}function Nn(e,t,a){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){var m=n.inst,y=m.destroy;if(y!==void 0){m.destroy=void 0,r=t;var x=a,L=y;try{L()}catch(V){We(r,x,V)}}}n=n.next}while(n!==i)}}catch(V){We(t,t.return,V)}}function xf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{ld(t,a)}catch(n){We(e,e.return,n)}}}function bf(e,t,a){a.props=ar(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){We(e,t,n)}}function ql(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(r){We(e,t,r)}}function Ta(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(r){We(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(r){We(e,t,r)}else a.current=null}function _f(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(r){We(e,e.return,r)}}function Ju(e,t,a){try{var n=e.stateNode;Kp(n,e.type,a,t),n[_t]=t}catch(r){We(e,e.return,r)}}function Ef(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Dn(e.type)||e.tag===4}function Fu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ef(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Dn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pu(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=us));else if(n!==4&&(n===27&&Dn(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Pu(e,t,a),e=e.sibling;e!==null;)Pu(e,t,a),e=e.sibling}function Ji(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&Dn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ji(e,t,a),e=e.sibling;e!==null;)Ji(e,t,a),e=e.sibling}function Sf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);wt(t,n,a),t[Fe]=e,t[_t]=a}catch(i){We(e,e.return,i)}}var Ja=!1,ct=!1,eo=!1,Nf=typeof WeakSet=="function"?WeakSet:Set,xt=null;function Op(e,t){if(e=e.containerInfo,wo=ps,e=Mc(e),Fs(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var r=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var m=0,y=-1,x=-1,L=0,V=0,Q=e,k=null;t:for(;;){for(var z;Q!==a||r!==0&&Q.nodeType!==3||(y=m+r),Q!==i||n!==0&&Q.nodeType!==3||(x=m+n),Q.nodeType===3&&(m+=Q.nodeValue.length),(z=Q.firstChild)!==null;)k=Q,Q=z;for(;;){if(Q===e)break t;if(k===a&&++L===r&&(y=m),k===i&&++V===n&&(x=m),(z=Q.nextSibling)!==null)break;Q=k,k=Q.parentNode}Q=z}a=y===-1||x===-1?null:{start:y,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(Co={focusedElem:e,selectionRange:a},ps=!1,xt=t;xt!==null;)if(t=xt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,xt=e;else for(;xt!==null;){switch(t=xt,i=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,a=t,r=i.memoizedProps,i=i.memoizedState,n=a.stateNode;try{var we=ar(a.type,r,a.elementType===a.type);e=n.getSnapshotBeforeUpdate(we,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(_e){We(a,a.return,_e)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)jo(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":jo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(f(163))}if(e=t.sibling,e!==null){e.return=t.return,xt=e;break}xt=t.return}}function wf(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:wn(e,a),n&4&&Ul(5,a);break;case 1:if(wn(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(m){We(a,a.return,m)}else{var r=ar(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){We(a,a.return,m)}}n&64&&xf(a),n&512&&ql(a,a.return);break;case 3:if(wn(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{ld(e,t)}catch(m){We(a,a.return,m)}}break;case 27:t===null&&n&4&&Sf(a);case 26:case 5:wn(e,a),t===null&&n&4&&_f(a),n&512&&ql(a,a.return);break;case 12:wn(e,a);break;case 13:wn(e,a),n&4&&Af(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Hp.bind(null,a),n0(e,a))));break;case 22:if(n=a.memoizedState!==null||Ja,!n){t=t!==null&&t.memoizedState!==null||ct,r=Ja;var i=ct;Ja=n,(ct=t)&&!i?Cn(e,a,(a.subtreeFlags&8772)!==0):wn(e,a),Ja=r,ct=i}break;case 30:break;default:wn(e,a)}}function Cf(e){var t=e.alternate;t!==null&&(e.alternate=null,Cf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&mt(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var et=null,Vt=!1;function Fa(e,t,a){for(a=a.child;a!==null;)Tf(e,t,a),a=a.sibling}function Tf(e,t,a){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(ma,a)}catch{}switch(a.tag){case 26:ct||Ta(a,t),Fa(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ct||Ta(a,t);var n=et,r=Vt;Dn(a.type)&&(et=a.stateNode,Vt=!1),Fa(e,t,a),Il(a.stateNode),et=n,Vt=r;break;case 5:ct||Ta(a,t);case 6:if(n=et,r=Vt,et=null,Fa(e,t,a),et=n,Vt=r,et!==null)if(Vt)try{(et.nodeType===9?et.body:et.nodeName==="HTML"?et.ownerDocument.body:et).removeChild(a.stateNode)}catch(i){We(a,t,i)}else try{et.removeChild(a.stateNode)}catch(i){We(a,t,i)}break;case 18:et!==null&&(Vt?(e=et,pm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Pl(e)):pm(et,a.stateNode));break;case 4:n=et,r=Vt,et=a.stateNode.containerInfo,Vt=!0,Fa(e,t,a),et=n,Vt=r;break;case 0:case 11:case 14:case 15:ct||Nn(2,a,t),ct||Nn(4,a,t),Fa(e,t,a);break;case 1:ct||(Ta(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&bf(a,t,n)),Fa(e,t,a);break;case 21:Fa(e,t,a);break;case 22:ct=(n=ct)||a.memoizedState!==null,Fa(e,t,a),ct=n;break;default:Fa(e,t,a)}}function Af(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pl(e)}catch(a){We(t,t.return,a)}}function Rp(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Nf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Nf),t;default:throw Error(f(435,e.tag))}}function to(e,t){var a=Rp(e);t.forEach(function(n){var r=Bp.bind(null,e,n);a.has(n)||(a.add(n),n.then(r,r))})}function Wt(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var r=a[n],i=e,m=t,y=m;e:for(;y!==null;){switch(y.tag){case 27:if(Dn(y.type)){et=y.stateNode,Vt=!1;break e}break;case 5:et=y.stateNode,Vt=!1;break e;case 3:case 4:et=y.stateNode.containerInfo,Vt=!0;break e}y=y.return}if(et===null)throw Error(f(160));Tf(i,m,r),et=null,Vt=!1,i=r.alternate,i!==null&&(i.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)jf(t,e),t=t.sibling}var va=null;function jf(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Wt(t,e),Kt(e),n&4&&(Nn(3,e,e.return),Ul(3,e),Nn(5,e,e.return));break;case 1:Wt(t,e),Kt(e),n&512&&(ct||a===null||Ta(a,a.return)),n&64&&Ja&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var r=va;if(Wt(t,e),Kt(e),n&512&&(ct||a===null||Ta(a,a.return)),n&4){var i=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,r=r.ownerDocument||r;t:switch(n){case"title":i=r.getElementsByTagName("title")[0],(!i||i[_a]||i[Fe]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=r.createElement(n),r.head.insertBefore(i,r.querySelector("head > title"))),wt(i,n,a),i[Fe]=e,rt(i),n=i;break e;case"link":var m=Sm("link","href",r).get(n+(a.href||""));if(m){for(var y=0;y<m.length;y++)if(i=m[y],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(y,1);break t}}i=r.createElement(n),wt(i,n,a),r.head.appendChild(i);break;case"meta":if(m=Sm("meta","content",r).get(n+(a.content||""))){for(y=0;y<m.length;y++)if(i=m[y],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(y,1);break t}}i=r.createElement(n),wt(i,n,a),r.head.appendChild(i);break;default:throw Error(f(468,n))}i[Fe]=e,rt(i),n=i}e.stateNode=n}else Nm(r,e.type,e.stateNode);else e.stateNode=Em(r,n,e.memoizedProps);else i!==n?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,n===null?Nm(r,e.type,e.stateNode):Em(r,n,e.memoizedProps)):n===null&&e.stateNode!==null&&Ju(e,e.memoizedProps,a.memoizedProps)}break;case 27:Wt(t,e),Kt(e),n&512&&(ct||a===null||Ta(a,a.return)),a!==null&&n&4&&Ju(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Wt(t,e),Kt(e),n&512&&(ct||a===null||Ta(a,a.return)),e.flags&32){r=e.stateNode;try{Na(r,"")}catch(z){We(e,e.return,z)}}n&4&&e.stateNode!=null&&(r=e.memoizedProps,Ju(e,r,a!==null?a.memoizedProps:r)),n&1024&&(eo=!0);break;case 6:if(Wt(t,e),Kt(e),n&4){if(e.stateNode===null)throw Error(f(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(z){We(e,e.return,z)}}break;case 3:if(fs=null,r=va,va=cs(t.containerInfo),Wt(t,e),va=r,Kt(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{Pl(t.containerInfo)}catch(z){We(e,e.return,z)}eo&&(eo=!1,Of(e));break;case 4:n=va,va=cs(e.stateNode.containerInfo),Wt(t,e),Kt(e),va=n;break;case 12:Wt(t,e),Kt(e);break;case 13:Wt(t,e),Kt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(so=Ut()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,to(e,n)));break;case 22:r=e.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,L=Ja,V=ct;if(Ja=L||r,ct=V||x,Wt(t,e),ct=V,Ja=L,Kt(e),n&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(a===null||x||Ja||ct||nr(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){x=a=t;try{if(i=x.stateNode,r)m=i.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{y=x.stateNode;var Q=x.memoizedProps.style,k=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;y.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(z){We(x,x.return,z)}}}else if(t.tag===6){if(a===null){x=t;try{x.stateNode.nodeValue=r?"":x.memoizedProps}catch(z){We(x,x.return,z)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,to(e,a))));break;case 19:Wt(t,e),Kt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,to(e,n)));break;case 30:break;case 21:break;default:Wt(t,e),Kt(e)}}function Kt(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(Ef(n)){a=n;break}n=n.return}if(a==null)throw Error(f(160));switch(a.tag){case 27:var r=a.stateNode,i=Fu(e);Ji(e,i,r);break;case 5:var m=a.stateNode;a.flags&32&&(Na(m,""),a.flags&=-33);var y=Fu(e);Ji(e,y,m);break;case 3:case 4:var x=a.stateNode.containerInfo,L=Fu(e);Pu(e,L,x);break;default:throw Error(f(161))}}catch(V){We(e,e.return,V)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Of(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Of(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function wn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)wf(e,t.alternate,t),t=t.sibling}function nr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Nn(4,t,t.return),nr(t);break;case 1:Ta(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&bf(t,t.return,a),nr(t);break;case 27:Il(t.stateNode);case 26:case 5:Ta(t,t.return),nr(t);break;case 22:t.memoizedState===null&&nr(t);break;case 30:nr(t);break;default:nr(t)}e=e.sibling}}function Cn(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,r=e,i=t,m=i.flags;switch(i.tag){case 0:case 11:case 15:Cn(r,i,a),Ul(4,i);break;case 1:if(Cn(r,i,a),n=i,r=n.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(L){We(n,n.return,L)}if(n=i,r=n.updateQueue,r!==null){var y=n.stateNode;try{var x=r.shared.hiddenCallbacks;if(x!==null)for(r.shared.hiddenCallbacks=null,r=0;r<x.length;r++)rd(x[r],y)}catch(L){We(n,n.return,L)}}a&&m&64&&xf(i),ql(i,i.return);break;case 27:Sf(i);case 26:case 5:Cn(r,i,a),a&&n===null&&m&4&&_f(i),ql(i,i.return);break;case 12:Cn(r,i,a);break;case 13:Cn(r,i,a),a&&m&4&&Af(r,i);break;case 22:i.memoizedState===null&&Cn(r,i,a),ql(i,i.return);break;case 30:break;default:Cn(r,i,a)}t=t.sibling}}function ao(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&_l(a))}function no(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_l(e))}function Aa(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Rf(e,t,a,n),t=t.sibling}function Rf(e,t,a,n){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Aa(e,t,a,n),r&2048&&Ul(9,t);break;case 1:Aa(e,t,a,n);break;case 3:Aa(e,t,a,n),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_l(e)));break;case 12:if(r&2048){Aa(e,t,a,n),e=t.stateNode;try{var i=t.memoizedProps,m=i.id,y=i.onPostCommit;typeof y=="function"&&y(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){We(t,t.return,x)}}else Aa(e,t,a,n);break;case 13:Aa(e,t,a,n);break;case 23:break;case 22:i=t.stateNode,m=t.alternate,t.memoizedState!==null?i._visibility&2?Aa(e,t,a,n):kl(e,t):i._visibility&2?Aa(e,t,a,n):(i._visibility|=2,zr(e,t,a,n,(t.subtreeFlags&10256)!==0)),r&2048&&ao(m,t);break;case 24:Aa(e,t,a,n),r&2048&&no(t.alternate,t);break;default:Aa(e,t,a,n)}}function zr(e,t,a,n,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var i=e,m=t,y=a,x=n,L=m.flags;switch(m.tag){case 0:case 11:case 15:zr(i,m,y,x,r),Ul(8,m);break;case 23:break;case 22:var V=m.stateNode;m.memoizedState!==null?V._visibility&2?zr(i,m,y,x,r):kl(i,m):(V._visibility|=2,zr(i,m,y,x,r)),r&&L&2048&&ao(m.alternate,m);break;case 24:zr(i,m,y,x,r),r&&L&2048&&no(m.alternate,m);break;default:zr(i,m,y,x,r)}t=t.sibling}}function kl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,r=n.flags;switch(n.tag){case 22:kl(a,n),r&2048&&ao(n.alternate,n);break;case 24:kl(a,n),r&2048&&no(n.alternate,n);break;default:kl(a,n)}t=t.sibling}}var zl=8192;function Hr(e){if(e.subtreeFlags&zl)for(e=e.child;e!==null;)Df(e),e=e.sibling}function Df(e){switch(e.tag){case 26:Hr(e),e.flags&zl&&e.memoizedState!==null&&y0(va,e.memoizedState,e.memoizedProps);break;case 5:Hr(e);break;case 3:case 4:var t=va;va=cs(e.stateNode.containerInfo),Hr(e),va=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=zl,zl=16777216,Hr(e),zl=t):Hr(e));break;default:Hr(e)}}function Lf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Hl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];xt=n,Uf(n,e)}Lf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Mf(e),e=e.sibling}function Mf(e){switch(e.tag){case 0:case 11:case 15:Hl(e),e.flags&2048&&Nn(9,e,e.return);break;case 3:Hl(e);break;case 12:Hl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Fi(e)):Hl(e);break;default:Hl(e)}}function Fi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];xt=n,Uf(n,e)}Lf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Nn(8,t,t.return),Fi(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Fi(t));break;default:Fi(t)}e=e.sibling}}function Uf(e,t){for(;xt!==null;){var a=xt;switch(a.tag){case 0:case 11:case 15:Nn(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:_l(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,xt=n;else e:for(a=e;xt!==null;){n=xt;var r=n.sibling,i=n.return;if(Cf(n),n===a){xt=null;break e}if(r!==null){r.return=i,xt=r;break e}xt=i}}}var Dp={getCacheForType:function(e){var t=jt(ht),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},Lp=typeof WeakMap=="function"?WeakMap:Map,Ve=0,Ke=null,Me=null,ke=0,$e=0,Jt=null,Tn=!1,Br=!1,ro=!1,Pa=0,it=0,An=0,rr=0,lo=0,oa=0,Gr=0,Bl=null,$t=null,io=!1,so=0,Pi=1/0,es=null,jn=null,Nt=0,On=null,Vr=null,$r=0,uo=0,oo=null,qf=null,Gl=0,co=null;function Ft(){if((Ve&2)!==0&&ke!==0)return ke&-ke;if(q.T!==null){var e=Or;return e!==0?e:vo()}return fr()}function kf(){oa===0&&(oa=(ke&536870912)===0||Ge?ui():536870912);var e=ua.current;return e!==null&&(e.flags|=32),oa}function Pt(e,t,a){(e===Ke&&($e===2||$e===9)||e.cancelPendingCommit!==null)&&(Yr(e,0),Rn(e,ke,oa,!1)),rn(e,a),((Ve&2)===0||e!==Ke)&&(e===Ke&&((Ve&2)===0&&(rr|=a),it===4&&Rn(e,ke,oa,!1)),ja(e))}function zf(e,t,a){if((Ve&6)!==0)throw Error(f(327));var n=!a&&(t&124)===0&&(t&e.expiredLanes)===0||an(e,t),r=n?qp(e,t):ho(e,t,!0),i=n;do{if(r===0){Br&&!n&&Rn(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!Mp(a)){r=ho(e,t,!1),i=!1;continue}if(r===2){if(i=t,e.errorRecoveryDisabledLanes&i)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var y=e;r=Bl;var x=y.current.memoizedState.isDehydrated;if(x&&(Yr(y,m).flags|=256),m=ho(y,m,!1),m!==2){if(ro&&!x){y.errorRecoveryDisabledLanes|=i,rr|=i,r=4;break e}i=$t,$t=r,i!==null&&($t===null?$t=i:$t.push.apply($t,i))}r=m}if(i=!1,r!==2)continue}}if(r===1){Yr(e,0),Rn(e,t,0,!0);break}e:{switch(n=e,i=r,i){case 0:case 1:throw Error(f(345));case 4:if((t&4194048)!==t)break;case 6:Rn(n,t,oa,!Tn);break e;case 2:$t=null;break;case 3:case 5:break;default:throw Error(f(329))}if((t&62914560)===t&&(r=so+300-Ut(),10<r)){if(Rn(n,t,oa,!Tn),tn(n,0,!0)!==0)break e;n.timeoutHandle=mm(Hf.bind(null,n,a,$t,es,io,t,oa,rr,Gr,Tn,i,2,-0,0),r);break e}Hf(n,a,$t,es,io,t,oa,rr,Gr,Tn,i,0,-0,0)}}break}while(!0);ja(e)}function Hf(e,t,a,n,r,i,m,y,x,L,V,Q,k,z){if(e.timeoutHandle=-1,Q=t.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(Zl={stylesheets:null,count:0,unsuspend:p0},Df(t),Q=g0(),Q!==null)){e.cancelPendingCommit=Q(Qf.bind(null,e,t,i,a,n,r,m,y,x,V,1,k,z)),Rn(e,i,m,!L);return}Qf(e,t,i,a,n,r,m,y,x)}function Mp(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var r=a[n],i=r.getSnapshot;r=r.value;try{if(!Xt(i(),r))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rn(e,t,a,n){t&=~lo,t&=~rr,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var r=t;0<r;){var i=31-Ct(r),m=1<<i;n[i]=-1,r&=~m}a!==0&&te(e,a,t)}function ts(){return(Ve&6)===0?(Vl(0),!1):!0}function fo(){if(Me!==null){if($e===0)var e=Me.return;else e=Me,Ia=Fn=null,Au(e),qr=null,Dl=0,e=Me;for(;e!==null;)vf(e.alternate,e),e=e.return;Me=null}}function Yr(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Fp(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),fo(),Ke=e,Me=a=Va(e.current,null),ke=t,$e=0,Jt=null,Tn=!1,Br=an(e,t),ro=!1,Gr=oa=lo=rr=An=it=0,$t=Bl=null,io=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var r=31-Ct(n),i=1<<r;t|=e[r],n&=~i}return Pa=t,Si(),a}function Bf(e,t){Oe=null,q.H=Vi,t===Sl||t===Di?(t=ad(),$e=3):t===Pc?(t=ad(),$e=4):$e=t===nf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Jt=t,Me===null&&(it=1,Xi(e,ra(t,e.current)))}function Gf(){var e=q.H;return q.H=Vi,e===null?Vi:e}function Vf(){var e=q.A;return q.A=Dp,e}function mo(){it=4,Tn||(ke&4194048)!==ke&&ua.current!==null||(Br=!0),(An&134217727)===0&&(rr&134217727)===0||Ke===null||Rn(Ke,ke,oa,!1)}function ho(e,t,a){var n=Ve;Ve|=2;var r=Gf(),i=Vf();(Ke!==e||ke!==t)&&(es=null,Yr(e,t)),t=!1;var m=it;e:do try{if($e!==0&&Me!==null){var y=Me,x=Jt;switch($e){case 8:fo(),m=6;break e;case 3:case 2:case 9:case 6:ua.current===null&&(t=!0);var L=$e;if($e=0,Jt=null,Ir(e,y,x,L),a&&Br){m=0;break e}break;default:L=$e,$e=0,Jt=null,Ir(e,y,x,L)}}Up(),m=it;break}catch(V){Bf(e,V)}while(!0);return t&&e.shellSuspendCounter++,Ia=Fn=null,Ve=n,q.H=r,q.A=i,Me===null&&(Ke=null,ke=0,Si()),m}function Up(){for(;Me!==null;)$f(Me)}function qp(e,t){var a=Ve;Ve|=2;var n=Gf(),r=Vf();Ke!==e||ke!==t?(es=null,Pi=Ut()+500,Yr(e,t)):Br=an(e,t);e:do try{if($e!==0&&Me!==null){t=Me;var i=Jt;t:switch($e){case 1:$e=0,Jt=null,Ir(e,t,i,1);break;case 2:case 9:if(ed(i)){$e=0,Jt=null,Yf(t);break}t=function(){$e!==2&&$e!==9||Ke!==e||($e=7),ja(e)},i.then(t,t);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:ed(i)?($e=0,Jt=null,Yf(t)):($e=0,Jt=null,Ir(e,t,i,7));break;case 5:var m=null;switch(Me.tag){case 26:m=Me.memoizedState;case 5:case 27:var y=Me;if(!m||wm(m)){$e=0,Jt=null;var x=y.sibling;if(x!==null)Me=x;else{var L=y.return;L!==null?(Me=L,as(L)):Me=null}break t}}$e=0,Jt=null,Ir(e,t,i,5);break;case 6:$e=0,Jt=null,Ir(e,t,i,6);break;case 8:fo(),it=6;break e;default:throw Error(f(462))}}kp();break}catch(V){Bf(e,V)}while(!0);return Ia=Fn=null,q.H=n,q.A=r,Ve=a,Me!==null?0:(Ke=null,ke=0,Si(),it)}function kp(){for(;Me!==null&&!li();)$f(Me)}function $f(e){var t=yf(e.alternate,e,Pa);e.memoizedProps=e.pendingProps,t===null?as(e):Me=t}function Yf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=cf(a,t,t.pendingProps,t.type,void 0,ke);break;case 11:t=cf(a,t,t.pendingProps,t.type.render,t.ref,ke);break;case 5:Au(t);default:vf(a,t),t=Me=Yc(t,Pa),t=yf(a,t,Pa)}e.memoizedProps=e.pendingProps,t===null?as(e):Me=t}function Ir(e,t,a,n){Ia=Fn=null,Au(t),qr=null,Dl=0;var r=t.return;try{if(Cp(e,r,t,a,ke)){it=1,Xi(e,ra(a,e.current)),Me=null;return}}catch(i){if(r!==null)throw Me=r,i;it=1,Xi(e,ra(a,e.current)),Me=null;return}t.flags&32768?(Ge||n===1?e=!0:Br||(ke&536870912)!==0?e=!1:(Tn=e=!0,(n===2||n===9||n===3||n===6)&&(n=ua.current,n!==null&&n.tag===13&&(n.flags|=16384))),If(t,e)):as(t)}function as(e){var t=e;do{if((t.flags&32768)!==0){If(t,Tn);return}e=t.return;var a=Ap(t.alternate,t,Pa);if(a!==null){Me=a;return}if(t=t.sibling,t!==null){Me=t;return}Me=t=e}while(t!==null);it===0&&(it=5)}function If(e,t){do{var a=jp(e.alternate,e);if(a!==null){a.flags&=32767,Me=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Me=e;return}Me=e=a}while(e!==null);it=6,Me=null}function Qf(e,t,a,n,r,i,m,y,x){e.cancelPendingCommit=null;do ns();while(Nt!==0);if((Ve&6)!==0)throw Error(f(327));if(t!==null){if(t===e.current)throw Error(f(177));if(i=t.lanes|t.childLanes,i|=nu,oi(e,a,i,m,y,x),e===Ke&&(Me=Ke=null,ke=0),Vr=t,On=e,$r=a,uo=i,oo=r,qf=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Gp(Ra,function(){return Jf(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=q.T,q.T=null,r=ee.p,ee.p=2,m=Ve,Ve|=4;try{Op(e,t,a)}finally{Ve=m,ee.p=r,q.T=n}}Nt=1,Xf(),Zf(),Wf()}}function Xf(){if(Nt===1){Nt=0;var e=On,t=Vr,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var n=ee.p;ee.p=2;var r=Ve;Ve|=4;try{jf(t,e);var i=Co,m=Mc(e.containerInfo),y=i.focusedElem,x=i.selectionRange;if(m!==y&&y&&y.ownerDocument&&Lc(y.ownerDocument.documentElement,y)){if(x!==null&&Fs(y)){var L=x.start,V=x.end;if(V===void 0&&(V=L),"selectionStart"in y)y.selectionStart=L,y.selectionEnd=Math.min(V,y.value.length);else{var Q=y.ownerDocument||document,k=Q&&Q.defaultView||window;if(k.getSelection){var z=k.getSelection(),we=y.textContent.length,_e=Math.min(x.start,we),Xe=x.end===void 0?_e:Math.min(x.end,we);!z.extend&&_e>Xe&&(m=Xe,Xe=_e,_e=m);var T=Dc(y,_e),C=Dc(y,Xe);if(T&&C&&(z.rangeCount!==1||z.anchorNode!==T.node||z.anchorOffset!==T.offset||z.focusNode!==C.node||z.focusOffset!==C.offset)){var R=Q.createRange();R.setStart(T.node,T.offset),z.removeAllRanges(),_e>Xe?(z.addRange(R),z.extend(C.node,C.offset)):(R.setEnd(C.node,C.offset),z.addRange(R))}}}}for(Q=[],z=y;z=z.parentNode;)z.nodeType===1&&Q.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<Q.length;y++){var I=Q[y];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}ps=!!wo,Co=wo=null}finally{Ve=r,ee.p=n,q.T=a}}e.current=t,Nt=2}}function Zf(){if(Nt===2){Nt=0;var e=On,t=Vr,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var n=ee.p;ee.p=2;var r=Ve;Ve|=4;try{wf(e,t.alternate,t)}finally{Ve=r,ee.p=n,q.T=a}}Nt=3}}function Wf(){if(Nt===4||Nt===3){Nt=0,Je();var e=On,t=Vr,a=$r,n=qf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Nt=5:(Nt=0,Vr=On=null,Kf(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(jn=null),Tt(a),t=t.stateNode,tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(ma,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=q.T,r=ee.p,ee.p=2,q.T=null;try{for(var i=e.onRecoverableError,m=0;m<n.length;m++){var y=n[m];i(y.value,{componentStack:y.stack})}}finally{q.T=t,ee.p=r}}($r&3)!==0&&ns(),ja(e),r=e.pendingLanes,(a&4194090)!==0&&(r&42)!==0?e===co?Gl++:(Gl=0,co=e):Gl=0,Vl(0)}}function Kf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,_l(t)))}function ns(e){return Xf(),Zf(),Wf(),Jf()}function Jf(){if(Nt!==5)return!1;var e=On,t=uo;uo=0;var a=Tt($r),n=q.T,r=ee.p;try{ee.p=32>a?32:a,q.T=null,a=oo,oo=null;var i=On,m=$r;if(Nt=0,Vr=On=null,$r=0,(Ve&6)!==0)throw Error(f(331));var y=Ve;if(Ve|=4,Mf(i.current),Rf(i,i.current,m,a),Ve=y,Vl(0,!1),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(ma,i)}catch{}return!0}finally{ee.p=r,q.T=n,Kf(e,t)}}function Ff(e,t,a){t=ra(a,t),t=Vu(e.stateNode,t,2),e=bn(e,t,2),e!==null&&(rn(e,2),ja(e))}function We(e,t,a){if(e.tag===3)Ff(e,e,a);else for(;t!==null;){if(t.tag===3){Ff(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(jn===null||!jn.has(n))){e=ra(a,e),a=tf(2),n=bn(t,a,2),n!==null&&(af(a,n,t,e),rn(n,2),ja(n));break}}t=t.return}}function po(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new Lp;var r=new Set;n.set(t,r)}else r=n.get(t),r===void 0&&(r=new Set,n.set(t,r));r.has(a)||(ro=!0,r.add(a),e=zp.bind(null,e,t,a),t.then(e,e))}function zp(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ke===e&&(ke&a)===a&&(it===4||it===3&&(ke&62914560)===ke&&300>Ut()-so?(Ve&2)===0&&Yr(e,0):lo|=a,Gr===ke&&(Gr=0)),ja(e)}function Pf(e,t){t===0&&(t=pa()),e=Cr(e,t),e!==null&&(rn(e,t),ja(e))}function Hp(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Pf(e,a)}function Bp(e,t){var a=0;switch(e.tag){case 13:var n=e.stateNode,r=e.memoizedState;r!==null&&(a=r.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(f(314))}n!==null&&n.delete(t),Pf(e,a)}function Gp(e,t){return zn(e,t)}var rs=null,Qr=null,yo=!1,ls=!1,go=!1,lr=0;function ja(e){e!==Qr&&e.next===null&&(Qr===null?rs=Qr=e:Qr=Qr.next=e),ls=!0,yo||(yo=!0,$p())}function Vl(e,t){if(!go&&ls){go=!0;do for(var a=!1,n=rs;n!==null;){if(e!==0){var r=n.pendingLanes;if(r===0)var i=0;else{var m=n.suspendedLanes,y=n.pingedLanes;i=(1<<31-Ct(42|e)+1)-1,i&=r&~(m&~y),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,nm(n,i))}else i=ke,i=tn(n,n===Ke?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(i&3)===0||an(n,i)||(a=!0,nm(n,i));n=n.next}while(a);go=!1}}function Vp(){em()}function em(){ls=yo=!1;var e=0;lr!==0&&(Jp()&&(e=lr),lr=0);for(var t=Ut(),a=null,n=rs;n!==null;){var r=n.next,i=tm(n,t);i===0?(n.next=null,a===null?rs=r:a.next=r,r===null&&(Qr=a)):(a=n,(e!==0||(i&3)!==0)&&(ls=!0)),n=r}Vl(e)}function tm(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var m=31-Ct(i),y=1<<m,x=r[m];x===-1?((y&a)===0||(y&n)!==0)&&(r[m]=nn(y,t)):x<=t&&(e.expiredLanes|=y),i&=~y}if(t=Ke,a=ke,a=tn(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&($e===2||$e===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Oa(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||an(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&Oa(n),Tt(a)){case 2:case 8:a=Jr;break;case 32:a=Ra;break;case 268435456:a=Fr;break;default:a=Ra}return n=am.bind(null,e),a=zn(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&Oa(n),e.callbackPriority=2,e.callbackNode=null,2}function am(e,t){if(Nt!==0&&Nt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(ns()&&e.callbackNode!==a)return null;var n=ke;return n=tn(e,e===Ke?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(zf(e,n,t),tm(e,Ut()),e.callbackNode!=null&&e.callbackNode===a?am.bind(null,e):null)}function nm(e,t){if(ns())return null;zf(e,t,!0)}function $p(){Pp(function(){(Ve&6)!==0?zn(or,Vp):em()})}function vo(){return lr===0&&(lr=ui()),lr}function rm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:zt(""+e)}function lm(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Yp(e,t,a,n,r){if(t==="submit"&&a&&a.stateNode===r){var i=rm((r[_t]||null).action),m=n.submitter;m&&(t=(t=m[_t]||null)?rm(t.formAction):m.getAttribute("formAction"),t!==null&&(i=t,m=null));var y=new Ae("action","action",null,n,r);e.push({event:y,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(lr!==0){var x=m?lm(r,m):new FormData(r);ku(a,{pending:!0,data:x,method:r.method,action:i},null,x)}}else typeof i=="function"&&(y.preventDefault(),x=m?lm(r,m):new FormData(r),ku(a,{pending:!0,data:x,method:r.method,action:i},i,x))},currentTarget:r}]})}}for(var xo=0;xo<au.length;xo++){var bo=au[xo],Ip=bo.toLowerCase(),Qp=bo[0].toUpperCase()+bo.slice(1);ga(Ip,"on"+Qp)}ga(kc,"onAnimationEnd"),ga(zc,"onAnimationIteration"),ga(Hc,"onAnimationStart"),ga("dblclick","onDoubleClick"),ga("focusin","onFocus"),ga("focusout","onBlur"),ga(op,"onTransitionRun"),ga(cp,"onTransitionStart"),ga(dp,"onTransitionCancel"),ga(Bc,"onTransitionEnd"),Et("onMouseEnter",["mouseout","mouseover"]),Et("onMouseLeave",["mouseout","mouseover"]),Et("onPointerEnter",["pointerout","pointerover"]),Et("onPointerLeave",["pointerout","pointerover"]),Ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ma("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function im(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],r=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var m=n.length-1;0<=m;m--){var y=n[m],x=y.instance,L=y.currentTarget;if(y=y.listener,x!==i&&r.isPropagationStopped())break e;i=y,r.currentTarget=L;try{i(r)}catch(V){Qi(V)}r.currentTarget=null,i=x}else for(m=0;m<n.length;m++){if(y=n[m],x=y.instance,L=y.currentTarget,y=y.listener,x!==i&&r.isPropagationStopped())break e;i=y,r.currentTarget=L;try{i(r)}catch(V){Qi(V)}r.currentTarget=null,i=x}}}}function Ue(e,t){var a=t[mr];a===void 0&&(a=t[mr]=new Set);var n=e+"__bubble";a.has(n)||(sm(t,e,2,!1),a.add(n))}function _o(e,t,a){var n=0;t&&(n|=4),sm(a,e,n,t)}var is="_reactListening"+Math.random().toString(36).slice(2);function Eo(e){if(!e[is]){e[is]=!0,nl.forEach(function(a){a!=="selectionchange"&&(Xp.has(a)||_o(a,!1,e),_o(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[is]||(t[is]=!0,_o("selectionchange",!1,t))}}function sm(e,t,a,n){switch(Rm(t)){case 2:var r=b0;break;case 8:r=_0;break;default:r=qo}a=r.bind(null,t,a,e),r=void 0,!aa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),n?r!==void 0?e.addEventListener(t,a,{capture:!0,passive:r}):e.addEventListener(t,a,!0):r!==void 0?e.addEventListener(t,a,{passive:r}):e.addEventListener(t,a,!1)}function So(e,t,a,n,r){var i=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var m=n.tag;if(m===3||m===4){var y=n.stateNode.containerInfo;if(y===r)break;if(m===4)for(m=n.return;m!==null;){var x=m.tag;if((x===3||x===4)&&m.stateNode.containerInfo===r)return;m=m.return}for(;y!==null;){if(m=Da(y),m===null)return;if(x=m.tag,x===5||x===6||x===26||x===27){n=i=m;continue e}y=y.parentNode}}n=n.return}cl(function(){var L=i,V=Ba(a),Q=[];e:{var k=Gc.get(e);if(k!==void 0){var z=Ae,we=e;switch(e){case"keypress":if(g(a)===0)break e;case"keydown":case"keyup":z=Bs;break;case"focusin":we="focus",z=dl;break;case"focusout":we="blur",z=dl;break;case"beforeblur":case"afterblur":z=dl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=yi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=As;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=Vs;break;case kc:case zc:case Hc:z=Rs;break;case Bc:z=Ys;break;case"scroll":case"scrollend":z=Pe;break;case"wheel":z=bi;break;case"copy":case"cut":case"paste":z=Ls;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=xi;break;case"toggle":case"beforetoggle":z=Xs}var _e=(t&4)!==0,Xe=!_e&&(e==="scroll"||e==="scrollend"),T=_e?k!==null?k+"Capture":null:k;_e=[];for(var C=L,R;C!==null;){var I=C;if(R=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||R===null||T===null||(I=hn(C,T),I!=null&&_e.push(Yl(C,I,R))),Xe)break;C=C.return}0<_e.length&&(k=new z(k,we,null,a,V),Q.push({event:k,listeners:_e}))}}if((t&7)===0){e:{if(k=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",k&&a!==ta&&(we=a.relatedTarget||a.fromElement)&&(Da(we)||we[st]))break e;if((z||k)&&(k=V.window===V?V:(k=V.ownerDocument)?k.defaultView||k.parentWindow:window,z?(we=a.relatedTarget||a.toElement,z=L,we=we?Da(we):null,we!==null&&(Xe=_(we),_e=we.tag,we!==Xe||_e!==5&&_e!==27&&_e!==6)&&(we=null)):(z=null,we=L),z!==we)){if(_e=yi,I="onMouseLeave",T="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(_e=xi,I="onPointerLeave",T="onPointerEnter",C="pointer"),Xe=z==null?k:La(z),R=we==null?k:La(we),k=new _e(I,C+"leave",z,a,V),k.target=Xe,k.relatedTarget=R,I=null,Da(V)===L&&(_e=new _e(T,C+"enter",we,a,V),_e.target=R,_e.relatedTarget=Xe,I=_e),Xe=I,z&&we)t:{for(_e=z,T=we,C=0,R=_e;R;R=Xr(R))C++;for(R=0,I=T;I;I=Xr(I))R++;for(;0<C-R;)_e=Xr(_e),C--;for(;0<R-C;)T=Xr(T),R--;for(;C--;){if(_e===T||T!==null&&_e===T.alternate)break t;_e=Xr(_e),T=Xr(T)}_e=null}else _e=null;z!==null&&um(Q,k,z,_e,!1),we!==null&&Xe!==null&&um(Q,Xe,we,_e,!0)}}e:{if(k=L?La(L):window,z=k.nodeName&&k.nodeName.toLowerCase(),z==="select"||z==="input"&&k.type==="file")var ce=Cc;else if(At(k))if(Tc)ce=ip;else{ce=rp;var De=np}else z=k.nodeName,!z||z.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?L&&dn(L.elementType)&&(ce=Cc):ce=lp;if(ce&&(ce=ce(e,L))){Bt(Q,ce,a,V);break e}De&&De(e,k,L),e==="focusout"&&L&&k.type==="number"&&L.memoizedProps.value!=null&&xr(k,"number",k.value)}switch(De=L?La(L):window,e){case"focusin":(At(De)||De.contentEditable==="true")&&(Sr=De,Ps=L,yl=null);break;case"focusout":yl=Ps=Sr=null;break;case"mousedown":eu=!0;break;case"contextmenu":case"mouseup":case"dragend":eu=!1,Uc(Q,a,V);break;case"selectionchange":if(up)break;case"keydown":case"keyup":Uc(Q,a,V)}var ve;if(pn)e:{switch(e){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Ee?oe(e,a)&&(Se="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Se="onCompositionStart");Se&&(hl&&a.locale!=="ko"&&(Ee||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Ee&&(ve=h()):(na=V,l="value"in na?na.value:na.textContent,Ee=!0)),De=ss(L,Se),0<De.length&&(Se=new fl(Se,e,null,a,V),Q.push({event:Se,listeners:De}),ve?Se.data=ve:(ve=be(a),ve!==null&&(Se.data=ve)))),(ve=_i?Be(e,a):It(e,a))&&(Se=ss(L,"onBeforeInput"),0<Se.length&&(De=new fl("onBeforeInput","beforeinput",null,a,V),Q.push({event:De,listeners:Se}),De.data=ve)),Yp(Q,e,L,a,V)}im(Q,t)})}function Yl(e,t,a){return{instance:e,listener:t,currentTarget:a}}function ss(e,t){for(var a=t+"Capture",n=[];e!==null;){var r=e,i=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||i===null||(r=hn(e,a),r!=null&&n.unshift(Yl(e,r,i)),r=hn(e,t),r!=null&&n.push(Yl(e,r,i))),e.tag===3)return n;e=e.return}return[]}function Xr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function um(e,t,a,n,r){for(var i=t._reactName,m=[];a!==null&&a!==n;){var y=a,x=y.alternate,L=y.stateNode;if(y=y.tag,x!==null&&x===n)break;y!==5&&y!==26&&y!==27||L===null||(x=L,r?(L=hn(a,i),L!=null&&m.unshift(Yl(a,L,x))):r||(L=hn(a,i),L!=null&&m.push(Yl(a,L,x)))),a=a.return}m.length!==0&&e.push({event:t,listeners:m})}var Zp=/\r\n?/g,Wp=/\u0000|\uFFFD/g;function om(e){return(typeof e=="string"?e:""+e).replace(Zp,`
`).replace(Wp,"")}function cm(e,t){return t=om(t),om(e)===t}function us(){}function Qe(e,t,a,n,r,i){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Na(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Na(e,""+n);break;case"className":Bn(e,"class",n);break;case"tabIndex":Bn(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(e,a,n);break;case"style":Vn(e,n,i);break;case"data":if(t!=="object"){Bn(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=zt(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&Qe(e,t,"name",r.name,r,null),Qe(e,t,"formEncType",r.formEncType,r,null),Qe(e,t,"formMethod",r.formMethod,r,null),Qe(e,t,"formTarget",r.formTarget,r,null)):(Qe(e,t,"encType",r.encType,r,null),Qe(e,t,"method",r.method,r,null),Qe(e,t,"target",r.target,r,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=zt(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=us);break;case"onScroll":n!=null&&Ue("scroll",e);break;case"onScrollEnd":n!=null&&Ue("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(f(61));if(a=n.__html,a!=null){if(r.children!=null)throw Error(f(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=zt(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":Ue("beforetoggle",e),Ue("toggle",e),Ea(e,"popover",n);break;case"xlinkActuate":qt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":qt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":qt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":qt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":qt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":qt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":qt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":qt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":qt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Ea(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ha.get(a)||a,Ea(e,a,n))}}function No(e,t,a,n,r,i){switch(a){case"style":Vn(e,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(f(61));if(a=n.__html,a!=null){if(r.children!=null)throw Error(f(60));e.innerHTML=a}}break;case"children":typeof n=="string"?Na(e,n):(typeof n=="number"||typeof n=="bigint")&&Na(e,""+n);break;case"onScroll":n!=null&&Ue("scroll",e);break;case"onScrollEnd":n!=null&&Ue("scrollend",e);break;case"onClick":n!=null&&(e.onclick=us);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hn.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(r=a.endsWith("Capture"),t=a.slice(2,r?a.length-7:void 0),i=e[_t]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,r),typeof n=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,r);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):Ea(e,a,n)}}}function wt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",e),Ue("load",e);var n=!1,r=!1,i;for(i in a)if(a.hasOwnProperty(i)){var m=a[i];if(m!=null)switch(i){case"src":n=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(f(137,t));default:Qe(e,t,i,m,a,null)}}r&&Qe(e,t,"srcSet",a.srcSet,a,null),n&&Qe(e,t,"src",a.src,a,null);return;case"input":Ue("invalid",e);var y=i=m=r=null,x=null,L=null;for(n in a)if(a.hasOwnProperty(n)){var V=a[n];if(V!=null)switch(n){case"name":r=V;break;case"type":m=V;break;case"checked":x=V;break;case"defaultChecked":L=V;break;case"value":i=V;break;case"defaultValue":y=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(f(137,t));break;default:Qe(e,t,n,V,a,null)}}on(e,i,y,x,L,m,r,!1),ka(e);return;case"select":Ue("invalid",e),n=m=i=null;for(r in a)if(a.hasOwnProperty(r)&&(y=a[r],y!=null))switch(r){case"value":i=y;break;case"defaultValue":m=y;break;case"multiple":n=y;default:Qe(e,t,r,y,a,null)}t=i,a=m,e.multiple=!!n,t!=null?cn(e,!!n,t,!1):a!=null&&cn(e,!!n,a,!0);return;case"textarea":Ue("invalid",e),i=r=n=null;for(m in a)if(a.hasOwnProperty(m)&&(y=a[m],y!=null))switch(m){case"value":n=y;break;case"defaultValue":r=y;break;case"children":i=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(f(91));break;default:Qe(e,t,m,y,a,null)}sl(e,n,r,i),ka(e);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(n=a[x],n!=null))switch(x){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Qe(e,t,x,n,a,null)}return;case"dialog":Ue("beforetoggle",e),Ue("toggle",e),Ue("cancel",e),Ue("close",e);break;case"iframe":case"object":Ue("load",e);break;case"video":case"audio":for(n=0;n<$l.length;n++)Ue($l[n],e);break;case"image":Ue("error",e),Ue("load",e);break;case"details":Ue("toggle",e);break;case"embed":case"source":case"link":Ue("error",e),Ue("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(n=a[L],n!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(f(137,t));default:Qe(e,t,L,n,a,null)}return;default:if(dn(t)){for(V in a)a.hasOwnProperty(V)&&(n=a[V],n!==void 0&&No(e,t,V,n,a,void 0));return}}for(y in a)a.hasOwnProperty(y)&&(n=a[y],n!=null&&Qe(e,t,y,n,a,null))}function Kp(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,i=null,m=null,y=null,x=null,L=null,V=null;for(z in a){var Q=a[z];if(a.hasOwnProperty(z)&&Q!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":x=Q;default:n.hasOwnProperty(z)||Qe(e,t,z,null,n,Q)}}for(var k in n){var z=n[k];if(Q=a[k],n.hasOwnProperty(k)&&(z!=null||Q!=null))switch(k){case"type":i=z;break;case"name":r=z;break;case"checked":L=z;break;case"defaultChecked":V=z;break;case"value":m=z;break;case"defaultValue":y=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(f(137,t));break;default:z!==Q&&Qe(e,t,k,z,n,Q)}}il(e,m,y,x,L,V,i,r);return;case"select":z=m=y=k=null;for(i in a)if(x=a[i],a.hasOwnProperty(i)&&x!=null)switch(i){case"value":break;case"multiple":z=x;default:n.hasOwnProperty(i)||Qe(e,t,i,null,n,x)}for(r in n)if(i=n[r],x=a[r],n.hasOwnProperty(r)&&(i!=null||x!=null))switch(r){case"value":k=i;break;case"defaultValue":y=i;break;case"multiple":m=i;default:i!==x&&Qe(e,t,r,i,n,x)}t=y,a=m,n=z,k!=null?cn(e,!!a,k,!1):!!n!=!!a&&(t!=null?cn(e,!!a,t,!0):cn(e,!!a,a?[]:"",!1));return;case"textarea":z=k=null;for(y in a)if(r=a[y],a.hasOwnProperty(y)&&r!=null&&!n.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Qe(e,t,y,null,n,r)}for(m in n)if(r=n[m],i=a[m],n.hasOwnProperty(m)&&(r!=null||i!=null))switch(m){case"value":k=r;break;case"defaultValue":z=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(f(91));break;default:r!==i&&Qe(e,t,m,r,n,i)}br(e,k,z);return;case"option":for(var we in a)if(k=a[we],a.hasOwnProperty(we)&&k!=null&&!n.hasOwnProperty(we))switch(we){case"selected":e.selected=!1;break;default:Qe(e,t,we,null,n,k)}for(x in n)if(k=n[x],z=a[x],n.hasOwnProperty(x)&&k!==z&&(k!=null||z!=null))switch(x){case"selected":e.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Qe(e,t,x,k,n,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)k=a[_e],a.hasOwnProperty(_e)&&k!=null&&!n.hasOwnProperty(_e)&&Qe(e,t,_e,null,n,k);for(L in n)if(k=n[L],z=a[L],n.hasOwnProperty(L)&&k!==z&&(k!=null||z!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(f(137,t));break;default:Qe(e,t,L,k,n,z)}return;default:if(dn(t)){for(var Xe in a)k=a[Xe],a.hasOwnProperty(Xe)&&k!==void 0&&!n.hasOwnProperty(Xe)&&No(e,t,Xe,void 0,n,k);for(V in n)k=n[V],z=a[V],!n.hasOwnProperty(V)||k===z||k===void 0&&z===void 0||No(e,t,V,k,n,z);return}}for(var T in a)k=a[T],a.hasOwnProperty(T)&&k!=null&&!n.hasOwnProperty(T)&&Qe(e,t,T,null,n,k);for(Q in n)k=n[Q],z=a[Q],!n.hasOwnProperty(Q)||k===z||k==null&&z==null||Qe(e,t,Q,k,n,z)}var wo=null,Co=null;function os(e){return e.nodeType===9?e:e.ownerDocument}function dm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function To(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ao=null;function Jp(){var e=window.event;return e&&e.type==="popstate"?e===Ao?!1:(Ao=e,!0):(Ao=null,!1)}var mm=typeof setTimeout=="function"?setTimeout:void 0,Fp=typeof clearTimeout=="function"?clearTimeout:void 0,hm=typeof Promise=="function"?Promise:void 0,Pp=typeof queueMicrotask=="function"?queueMicrotask:typeof hm<"u"?function(e){return hm.resolve(null).then(e).catch(e0)}:mm;function e0(e){setTimeout(function(){throw e})}function Dn(e){return e==="head"}function pm(e,t){var a=t,n=0,r=0;do{var i=a.nextSibling;if(e.removeChild(a),i&&i.nodeType===8)if(a=i.data,a==="/$"){if(0<n&&8>n){a=n;var m=e.ownerDocument;if(a&1&&Il(m.documentElement),a&2&&Il(m.body),a&4)for(a=m.head,Il(a),m=a.firstChild;m;){var y=m.nextSibling,x=m.nodeName;m[_a]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=y}}if(r===0){e.removeChild(i),Pl(t);return}r--}else a==="$"||a==="$?"||a==="$!"?r++:n=a.charCodeAt(0)-48;else n=0;a=i}while(a);Pl(t)}function jo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":jo(a),mt(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function t0(e,t,a,n){for(;e.nodeType===1;){var r=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[_a])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=xa(e.nextSibling),e===null)break}return null}function a0(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=xa(e.nextSibling),e===null))return null;return e}function Oo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function n0(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function xa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Ro=null;function ym(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function gm(e,t,a){switch(t=os(a),e){case"html":if(e=t.documentElement,!e)throw Error(f(452));return e;case"head":if(e=t.head,!e)throw Error(f(453));return e;case"body":if(e=t.body,!e)throw Error(f(454));return e;default:throw Error(f(451))}}function Il(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);mt(e)}var ca=new Map,vm=new Set;function cs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var en=ee.d;ee.d={f:r0,r:l0,D:i0,C:s0,L:u0,m:o0,X:d0,S:c0,M:f0};function r0(){var e=en.f(),t=ts();return e||t}function l0(e){var t=sn(e);t!==null&&t.tag===5&&t.type==="form"?kd(t):en.r(e)}var Zr=typeof document>"u"?null:document;function xm(e,t,a){var n=Zr;if(n&&typeof t=="string"&&t){var r=kt(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof a=="string"&&(r+='[crossorigin="'+a+'"]'),vm.has(r)||(vm.add(r),e={rel:e,crossOrigin:a,href:t},n.querySelector(r)===null&&(t=n.createElement("link"),wt(t,"link",e),rt(t),n.head.appendChild(t)))}}function i0(e){en.D(e),xm("dns-prefetch",e,null)}function s0(e,t){en.C(e,t),xm("preconnect",e,t)}function u0(e,t,a){en.L(e,t,a);var n=Zr;if(n&&e&&t){var r='link[rel="preload"][as="'+kt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(r+='[imagesrcset="'+kt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(r+='[imagesizes="'+kt(a.imageSizes)+'"]')):r+='[href="'+kt(e)+'"]';var i=r;switch(t){case"style":i=Wr(e);break;case"script":i=Kr(e)}ca.has(i)||(e=w({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),ca.set(i,e),n.querySelector(r)!==null||t==="style"&&n.querySelector(Ql(i))||t==="script"&&n.querySelector(Xl(i))||(t=n.createElement("link"),wt(t,"link",e),rt(t),n.head.appendChild(t)))}}function o0(e,t){en.m(e,t);var a=Zr;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+kt(n)+'"][href="'+kt(e)+'"]',i=r;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Kr(e)}if(!ca.has(i)&&(e=w({rel:"modulepreload",href:e},t),ca.set(i,e),a.querySelector(r)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Xl(i)))return}n=a.createElement("link"),wt(n,"link",e),rt(n),a.head.appendChild(n)}}}function c0(e,t,a){en.S(e,t,a);var n=Zr;if(n&&e){var r=un(n).hoistableStyles,i=Wr(e);t=t||"default";var m=r.get(i);if(!m){var y={loading:0,preload:null};if(m=n.querySelector(Ql(i)))y.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":t},a),(a=ca.get(i))&&Do(e,a);var x=m=n.createElement("link");rt(x),wt(x,"link",e),x._p=new Promise(function(L,V){x.onload=L,x.onerror=V}),x.addEventListener("load",function(){y.loading|=1}),x.addEventListener("error",function(){y.loading|=2}),y.loading|=4,ds(m,t,n)}m={type:"stylesheet",instance:m,count:1,state:y},r.set(i,m)}}}function d0(e,t){en.X(e,t);var a=Zr;if(a&&e){var n=un(a).hoistableScripts,r=Kr(e),i=n.get(r);i||(i=a.querySelector(Xl(r)),i||(e=w({src:e,async:!0},t),(t=ca.get(r))&&Lo(e,t),i=a.createElement("script"),rt(i),wt(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(r,i))}}function f0(e,t){en.M(e,t);var a=Zr;if(a&&e){var n=un(a).hoistableScripts,r=Kr(e),i=n.get(r);i||(i=a.querySelector(Xl(r)),i||(e=w({src:e,async:!0,type:"module"},t),(t=ca.get(r))&&Lo(e,t),i=a.createElement("script"),rt(i),wt(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(r,i))}}function bm(e,t,a,n){var r=(r=Ne.current)?cs(r):null;if(!r)throw Error(f(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Wr(a.href),a=un(r).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Wr(a.href);var i=un(r).hoistableStyles,m=i.get(e);if(m||(r=r.ownerDocument||r,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,m),(i=r.querySelector(Ql(e)))&&!i._p&&(m.instance=i,m.state.loading=5),ca.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ca.set(e,a),i||m0(r,e,a,m.state))),t&&n===null)throw Error(f(528,""));return m}if(t&&n!==null)throw Error(f(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Kr(a),a=un(r).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(f(444,e))}}function Wr(e){return'href="'+kt(e)+'"'}function Ql(e){return'link[rel="stylesheet"]['+e+"]"}function _m(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function m0(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),wt(t,"link",a),rt(t),e.head.appendChild(t))}function Kr(e){return'[src="'+kt(e)+'"]'}function Xl(e){return"script[async]"+e}function Em(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+kt(a.href)+'"]');if(n)return t.instance=n,rt(n),n;var r=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),rt(n),wt(n,"style",r),ds(n,a.precedence,e),t.instance=n;case"stylesheet":r=Wr(a.href);var i=e.querySelector(Ql(r));if(i)return t.state.loading|=4,t.instance=i,rt(i),i;n=_m(a),(r=ca.get(r))&&Do(n,r),i=(e.ownerDocument||e).createElement("link"),rt(i);var m=i;return m._p=new Promise(function(y,x){m.onload=y,m.onerror=x}),wt(i,"link",n),t.state.loading|=4,ds(i,a.precedence,e),t.instance=i;case"script":return i=Kr(a.src),(r=e.querySelector(Xl(i)))?(t.instance=r,rt(r),r):(n=a,(r=ca.get(i))&&(n=w({},a),Lo(n,r)),e=e.ownerDocument||e,r=e.createElement("script"),rt(r),wt(r,"link",n),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(f(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,ds(n,a.precedence,e));return t.instance}function ds(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=n.length?n[n.length-1]:null,i=r,m=0;m<n.length;m++){var y=n[m];if(y.dataset.precedence===t)i=y;else if(i!==r)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Do(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Lo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var fs=null;function Sm(e,t,a){if(fs===null){var n=new Map,r=fs=new Map;r.set(a,n)}else r=fs,n=r.get(a),n||(n=new Map,r.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),r=0;r<a.length;r++){var i=a[r];if(!(i[_a]||i[Fe]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var m=i.getAttribute(t)||"";m=e+m;var y=n.get(m);y?y.push(i):n.set(m,[i])}}return n}function Nm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function h0(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function wm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Zl=null;function p0(){}function y0(e,t,a){if(Zl===null)throw Error(f(475));var n=Zl;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var r=Wr(a.href),i=e.querySelector(Ql(r));if(i){e=i._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(n.count++,n=ms.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=i,rt(i);return}i=e.ownerDocument||e,a=_m(a),(r=ca.get(r))&&Do(a,r),i=i.createElement("link"),rt(i);var m=i;m._p=new Promise(function(y,x){m.onload=y,m.onerror=x}),wt(i,"link",a),t.instance=i}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(n.count++,t=ms.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}function g0(){if(Zl===null)throw Error(f(475));var e=Zl;return e.stylesheets&&e.count===0&&Mo(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&Mo(e,e.stylesheets),e.unsuspend){var n=e.unsuspend;e.unsuspend=null,n()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function ms(){if(this.count--,this.count===0){if(this.stylesheets)Mo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var hs=null;function Mo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,hs=new Map,t.forEach(v0,e),hs=null,ms.call(e))}function v0(e,t){if(!(t.state.loading&4)){var a=hs.get(e);if(a)var n=a.get(null);else{a=new Map,hs.set(e,a);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<r.length;i++){var m=r[i];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),n=m)}n&&a.set(null,n)}r=t.instance,m=r.getAttribute("data-precedence"),i=a.get(m)||n,i===n&&a.set(null,r),a.set(m,r),this.count++,n=ms.bind(this),r.addEventListener("load",n),r.addEventListener("error",n),i?i.parentNode.insertBefore(r,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var Wl={$$typeof:se,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function x0(e,t,a,n,r,i,m,y){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dr(0),this.hiddenUpdates=dr(null),this.identifierPrefix=n,this.onUncaughtError=r,this.onCaughtError=i,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=y,this.incompleteTransitions=new Map}function Cm(e,t,a,n,r,i,m,y,x,L,V,Q){return e=new x0(e,t,a,m,y,x,L,Q),t=1,i===!0&&(t|=24),i=Zt(3,null,null,t),e.current=i,i.stateNode=e,t=hu(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:n,isDehydrated:a,cache:t},vu(i),e}function Tm(e){return e?(e=Tr,e):Tr}function Am(e,t,a,n,r,i){r=Tm(r),n.context===null?n.context=r:n.pendingContext=r,n=xn(t),n.payload={element:a},i=i===void 0?null:i,i!==null&&(n.callback=i),a=bn(e,n,t),a!==null&&(Pt(a,e,t),wl(a,e,t))}function jm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Uo(e,t){jm(e,t),(e=e.alternate)&&jm(e,t)}function Om(e){if(e.tag===13){var t=Cr(e,67108864);t!==null&&Pt(t,e,67108864),Uo(e,67108864)}}var ps=!0;function b0(e,t,a,n){var r=q.T;q.T=null;var i=ee.p;try{ee.p=2,qo(e,t,a,n)}finally{ee.p=i,q.T=r}}function _0(e,t,a,n){var r=q.T;q.T=null;var i=ee.p;try{ee.p=8,qo(e,t,a,n)}finally{ee.p=i,q.T=r}}function qo(e,t,a,n){if(ps){var r=ko(n);if(r===null)So(e,t,n,ys,a),Dm(e,n);else if(S0(r,e,t,a,n))n.stopPropagation();else if(Dm(e,n),t&4&&-1<E0.indexOf(e)){for(;r!==null;){var i=sn(r);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var m=ba(i.pendingLanes);if(m!==0){var y=i;for(y.pendingLanes|=2,y.entangledLanes|=2;m;){var x=1<<31-Ct(m);y.entanglements[1]|=x,m&=~x}ja(i),(Ve&6)===0&&(Pi=Ut()+500,Vl(0))}}break;case 13:y=Cr(i,2),y!==null&&Pt(y,i,2),ts(),Uo(i,2)}if(i=ko(n),i===null&&So(e,t,n,ys,a),i===r)break;r=i}r!==null&&n.stopPropagation()}else So(e,t,n,null,a)}}function ko(e){return e=Ba(e),zo(e)}var ys=null;function zo(e){if(ys=null,e=Da(e),e!==null){var t=_(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=M(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ys=e,null}function Rm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ii()){case or:return 2;case Jr:return 8;case Ra:case Ns:return 32;case Fr:return 268435456;default:return 32}default:return 32}}var Ho=!1,Ln=null,Mn=null,Un=null,Kl=new Map,Jl=new Map,qn=[],E0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dm(e,t){switch(e){case"focusin":case"focusout":Ln=null;break;case"dragenter":case"dragleave":Mn=null;break;case"mouseover":case"mouseout":Un=null;break;case"pointerover":case"pointerout":Kl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(t.pointerId)}}function Fl(e,t,a,n,r,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:i,targetContainers:[r]},t!==null&&(t=sn(t),t!==null&&Om(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function S0(e,t,a,n,r){switch(t){case"focusin":return Ln=Fl(Ln,e,t,a,n,r),!0;case"dragenter":return Mn=Fl(Mn,e,t,a,n,r),!0;case"mouseover":return Un=Fl(Un,e,t,a,n,r),!0;case"pointerover":var i=r.pointerId;return Kl.set(i,Fl(Kl.get(i)||null,e,t,a,n,r)),!0;case"gotpointercapture":return i=r.pointerId,Jl.set(i,Fl(Jl.get(i)||null,e,t,a,n,r)),!0}return!1}function Lm(e){var t=Da(e.target);if(t!==null){var a=_(t);if(a!==null){if(t=a.tag,t===13){if(t=M(a),t!==null){e.blockedOn=t,tl(e.priority,function(){if(a.tag===13){var n=Ft();n=el(n);var r=Cr(a,n);r!==null&&Pt(r,a,n),Uo(a,n)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=ko(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);ta=n,a.target.dispatchEvent(n),ta=null}else return t=sn(a),t!==null&&Om(t),e.blockedOn=a,!1;t.shift()}return!0}function Mm(e,t,a){gs(e)&&a.delete(t)}function N0(){Ho=!1,Ln!==null&&gs(Ln)&&(Ln=null),Mn!==null&&gs(Mn)&&(Mn=null),Un!==null&&gs(Un)&&(Un=null),Kl.forEach(Mm),Jl.forEach(Mm)}function vs(e,t){e.blockedOn===t&&(e.blockedOn=null,Ho||(Ho=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,N0)))}var xs=null;function Um(e){xs!==e&&(xs=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){xs===e&&(xs=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],r=e[t+2];if(typeof n!="function"){if(zo(n||a)===null)continue;break}var i=sn(a);i!==null&&(e.splice(t,3),t-=3,ku(i,{pending:!0,data:r,method:a.method,action:n},n,r))}}))}function Pl(e){function t(x){return vs(x,e)}Ln!==null&&vs(Ln,e),Mn!==null&&vs(Mn,e),Un!==null&&vs(Un,e),Kl.forEach(t),Jl.forEach(t);for(var a=0;a<qn.length;a++){var n=qn[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<qn.length&&(a=qn[0],a.blockedOn===null);)Lm(a),a.blockedOn===null&&qn.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var r=a[n],i=a[n+1],m=r[_t]||null;if(typeof i=="function")m||Um(a);else if(m){var y=null;if(i&&i.hasAttribute("formAction")){if(r=i,m=i[_t]||null)y=m.formAction;else if(zo(r)!==null)continue}else y=m.action;typeof y=="function"?a[n+1]=y:(a.splice(n,3),n-=3),Um(a)}}}function Bo(e){this._internalRoot=e}bs.prototype.render=Bo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(f(409));var a=t.current,n=Ft();Am(a,n,e,t,null,null)},bs.prototype.unmount=Bo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Am(e.current,2,null,e,null,null),ts(),t[st]=null}};function bs(e){this._internalRoot=e}bs.prototype.unstable_scheduleHydration=function(e){if(e){var t=fr();e={blockedOn:null,target:e,priority:t};for(var a=0;a<qn.length&&t!==0&&t<qn[a].priority;a++);qn.splice(a,0,e),a===0&&Lm(e)}};var qm=u.version;if(qm!=="19.1.1")throw Error(f(527,qm,"19.1.1"));ee.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(f(188)):(e=Object.keys(e).join(","),Error(f(268,e)));return e=A(t),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var w0={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _s=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_s.isDisabled&&_s.supportsFiber)try{ma=_s.inject(w0),tt=_s}catch{}}return ti.createRoot=function(e,t){if(!v(e))throw Error(f(299));var a=!1,n="",r=Jd,i=Fd,m=Pd,y=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(y=t.unstable_transitionCallbacks)),t=Cm(e,1,!1,null,null,a,n,r,i,m,y,null),e[st]=t.current,Eo(e),new Bo(t)},ti.hydrateRoot=function(e,t,a){if(!v(e))throw Error(f(299));var n=!1,r="",i=Jd,m=Fd,y=Pd,x=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(r=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(x=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),t=Cm(e,1,!0,t,a??null,n,r,i,m,y,x,L),t.context=Tm(null),a=t.current,n=Ft(),n=el(n),r=xn(n),r.callback=null,bn(a,r,n),a=n,t.current.lanes=a,rn(t,a),ja(t),e[st]=t.current,Eo(e),new bs(t)},ti.version="19.1.1",ti}var Qm;function q0(){if(Qm)return $o.exports;Qm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(u){console.error(u)}}return s(),$o.exports=U0(),$o.exports}var k0=q0();const z0={csvData:[],cells:[{id:1,type:"markdown",content:`# Transaction Analysis Notebook

This notebook contains our analysis of financial transaction data, including fraud detection, geographic patterns, and payment method analysis.`,collapsed:!1,executed:!0,executionTime:null},{id:2,type:"data",title:"Load Transaction Data",query:"SELECT * FROM transactions ORDER BY txn_date_time DESC LIMIT 10",columns:[],visibleColumns:[],filters:[],collapsed:!1,executed:!1,executionTime:null,rowCount:null,queryResults:[]},{id:3,type:"state",title:"Define Computed States",states:[{name:"user_fraud_risk",description:"Fraud risk score based on decline patterns",query:"SELECT COUNT(*) FROM transactions WHERE user_id = t.user_id AND decline = 1",persistent:!1},{name:"merchant_success_rate",description:"Success rate for merchant transactions",query:'SELECT AVG(CASE WHEN outcome = "TN" THEN 1 ELSE 0 END) FROM transactions WHERE merchant_id = t.merchant_id',persistent:!1}],collapsed:!1,executed:!0,executionTime:"0.8s"},{id:4,type:"chart",title:"Transaction Volume Over Time",chartType:"line",xAxis:"txn_date_time",yAxis:"charged_amount",groupBy:"none",query:"SELECT DATE(txn_date_time) as date, SUM(charged_amount) as total_amount FROM transactions GROUP BY DATE(txn_date_time) ORDER BY date LIMIT 30",collapsed:!1,executed:!0,executionTime:"2.1s"},{id:5,type:"ai",title:"AI Assistant",messages:[],collapsed:!1,executed:!1,executionTime:null}],loading:!1,selectedCellId:null,editingCellId:null,modals:{aiAssist:{open:!1,cellId:null},addState:{open:!1,cellId:null},editState:{open:!1,cellId:null,stateIndex:null},settings:!1,saveInvestigation:!1},settings:{apiKey:localStorage.getItem("openai_api_key")||""},columnTypes:{},currentInvestigation:null,showLandingScreen:!0},Rt={SET_CSV_DATA:"SET_CSV_DATA",SET_LOADING:"SET_LOADING",SET_SELECTED_CELL:"SET_SELECTED_CELL",SET_EDITING_CELL:"SET_EDITING_CELL",ADD_CELL:"ADD_CELL",UPDATE_CELL:"UPDATE_CELL",DELETE_CELL:"DELETE_CELL",EXECUTE_CELL:"EXECUTE_CELL",TOGGLE_MODAL:"TOGGLE_MODAL",UPDATE_SETTINGS:"UPDATE_SETTINGS",SET_COLUMN_TYPES:"SET_COLUMN_TYPES",LOAD_INVESTIGATION:"LOAD_INVESTIGATION",SET_CURRENT_INVESTIGATION:"SET_CURRENT_INVESTIGATION",SHOW_LANDING_SCREEN:"SHOW_LANDING_SCREEN",RESET_NOTEBOOK:"RESET_NOTEBOOK"};function H0(s,u){switch(u.type){case Rt.SET_CSV_DATA:return{...s,csvData:u.payload};case Rt.SET_LOADING:return{...s,loading:u.payload};case Rt.SET_SELECTED_CELL:return{...s,selectedCellId:u.payload};case Rt.SET_EDITING_CELL:return{...s,editingCellId:u.payload};case Rt.ADD_CELL:const c=u.payload.afterId?(()=>{const f=s.cells.findIndex(_=>_.id===u.payload.afterId),v=[...s.cells];return v.splice(f+1,0,u.payload.cell),v})():[...s.cells,u.payload.cell];return{...s,cells:c};case Rt.UPDATE_CELL:return{...s,cells:s.cells.map(f=>f.id===u.payload.id?{...f,...u.payload.updates}:f)};case Rt.DELETE_CELL:return{...s,cells:s.cells.filter(f=>f.id!==u.payload)};case Rt.EXECUTE_CELL:return{...s,cells:s.cells.map(f=>f.id===u.payload.cellId?{...f,executed:u.payload.success,executionTime:u.payload.executionTime,queryResults:u.payload.results||f.queryResults,queryError:u.payload.error||null,rowCount:u.payload.rowCount||f.rowCount,columns:u.payload.columns||f.columns,visibleColumns:u.payload.visibleColumns||f.visibleColumns}:f)};case Rt.TOGGLE_MODAL:return{...s,modals:{...s.modals,[u.payload.modal]:u.payload.value}};case Rt.UPDATE_SETTINGS:return{...s,settings:{...s.settings,...u.payload}};case Rt.SET_COLUMN_TYPES:return{...s,columnTypes:u.payload};case Rt.LOAD_INVESTIGATION:return{...s,cells:u.payload.cells,currentInvestigation:u.payload.investigation,showLandingScreen:!1};case Rt.SET_CURRENT_INVESTIGATION:return{...s,currentInvestigation:u.payload};case Rt.SHOW_LANDING_SCREEN:return{...s,showLandingScreen:u.payload};case Rt.RESET_NOTEBOOK:return{...s,cells:[],selectedCellId:null,editingCellId:null,currentInvestigation:null,showLandingScreen:!1};default:return s}}const tp=S.createContext();function B0({children:s}){const[u,c]=S.useReducer(H0,z0);return o.jsx(tp.Provider,{value:{state:u,dispatch:c,ActionTypes:Rt},children:s})}function Mt(){const s=S.useContext(tp);if(!s)throw new Error("useNotebook must be used within a NotebookProvider");return s}const G0="modulepreload",V0=function(s){return"/amlboost-workbook/"+s},Xm={},Nc=function(u,c,f){let v=Promise.resolve();if(c&&c.length>0){let p=function(w){return Promise.all(w.map(j=>Promise.resolve(j).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var M=p;document.getElementsByTagName("link");const U=document.querySelector("meta[property=csp-nonce]"),A=U?.nonce||U?.getAttribute("nonce");v=p(c.map(w=>{if(w=V0(w),w in Xm)return;Xm[w]=!0;const j=w.endsWith(".css"),b=j?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${w}"]${b}`))return;const Y=document.createElement("link");if(Y.rel=j?"stylesheet":G0,j||(Y.as="script"),Y.crossOrigin="",Y.href=w,A&&Y.setAttribute("nonce",A),document.head.appendChild(Y),j)return new Promise((B,W)=>{Y.addEventListener("load",B),Y.addEventListener("error",()=>W(new Error(`Unable to preload CSS for ${w}`)))})}))}function _(U){const A=new Event("vite:preloadError",{cancelable:!0});if(A.payload=U,window.dispatchEvent(A),!A.defaultPrevented)throw U}return v.then(U=>{for(const A of U||[])A.status==="rejected"&&_(A.reason);return u().catch(_)})};class $0{async loadColumnTypes(){try{const u=await fetch("./data-types.json");if(u.ok)return(await u.json()).columnTypes||{}}catch(u){console.warn("Could not load column types configuration:",u)}return{}}parseCSVLine(u){const c=[];let f="",v=!1;for(let _=0;_<u.length;_++){const M=u[_];M==='"'?v=!v:M===","&&!v?(c.push(f),f=""):f+=M}return c.push(f),c}async loadCSV(u,c=25e3){try{console.log("Loading CSV from:",u,"max rows:",c);const f=await fetch(u);if(console.log("Response status:",f.status),!f.ok)throw new Error(`HTTP error! status: ${f.status}`);const v=f.body.getReader(),_=new TextDecoder;let M="",U=null;const A=[];let p=0,w=0;for(console.log("Starting streaming CSV parse...");;){const{done:b,value:Y}=await v.read();if(b)break;M+=_.decode(Y,{stream:!0});const B=M.split(`
`);M=B.pop();for(const W of B)if(W.trim()!==""){if(!U){U=this.parseCSVLine(W),console.log("Headers found:",U.length,"columns");continue}if(p++,w<c){const $=this.parseCSVLine(W),pe={};U.forEach((ye,se)=>{pe[ye]=$[se]||""}),A.push(pe),w++}if(p%1e4===0&&console.log(`Processed ${p} rows, collected ${w} rows`),p>1e6&&w>=c){console.log(`Early exit: collected ${w} rows, estimated total > ${p}`),v.cancel();break}}}if(M.trim()&&U&&w<c){p++;const b=this.parseCSVLine(M),Y={};U.forEach((B,W)=>{Y[B]=b[W]||""}),A.push(Y),w++}if(!U||A.length===0)throw new Error("CSV file is empty or invalid");const j=await this.loadColumnTypes();return console.log(`CSV loaded: ${w} rows processed out of ${p} total rows`),{success:!0,data:A,headers:U,totalRows:p,columnTypes:j}}catch(f){return console.error("CSV loading error:",f),{success:!1,error:f.message,data:[],headers:[]}}}getSample(u,c=10){return u.slice(0,c)}getColumnInfo(u){if(u.length===0)return{};const c={},f=u[0];return Object.keys(f).forEach(v=>{c[v]={type:this.inferColumnType(u,v),sampleValues:u.slice(0,5).map(_=>_[v])}}),c}inferColumnType(u,c){const f=u.slice(0,100).map(M=>M[c]).filter(M=>M!=="");if(f.length===0)return"text";const v=f.filter(M=>!isNaN(parseFloat(M))&&isFinite(M)).length,_=f.filter(M=>!isNaN(Date.parse(M))).length;return v/f.length>.8?"numeric":_/f.length>.8?"date":"text"}}const Y0=new $0;var Xo={exports:{}};const I0={},Q0=Object.freeze(Object.defineProperty({__proto__:null,default:I0},Symbol.toStringTag,{value:"Module"})),Zm=T0(Q0);var Wm;function X0(){return Wm||(Wm=1,(function(s,u){var c=void 0,f=function(v){return c||(c=new Promise(function(_,M){var U=typeof v<"u"?v:{},A=U.onAbort;U.onAbort=function(l){M(new Error(l)),A&&A(l)},U.postRun=U.postRun||[],U.postRun.push(function(){_(U)}),s=void 0;var p;p||=typeof U<"u"?U:{};var w=typeof window=="object",j=typeof WorkerGlobalScope<"u",b=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";p.onRuntimeInitialized=function(){function l(O,Z){switch(typeof Z){case"boolean":Zs(O,Z?1:0);break;case"number":Is(O,Z);break;case"string":Qs(O,Z,-1,-1);break;case"object":if(Z===null)bi(O);else if(Z.length!=null){var oe=dn(Z,Vn);Xs(O,oe,Z.length,-1),mn(oe)}else pn(O,"Wrong API use : tried to return a value of an unknown type ("+Z+").",-1);break;default:bi(O)}}function d(O,Z){for(var oe=[],be=0;be<O;be+=1){var Ee=Yt(Z+4*be,"i32"),Be=xi(Ee);if(Be===1||Be===2)Ee=Ys(Ee);else if(Be===3)Ee=Vs(Ee);else if(Be===4){Be=Ee,Ee=Gs(Be),Be=$s(Be);for(var It=new Uint8Array(Ee),Ht=0;Ht<Ee;Ht+=1)It[Ht]=re[Be+Ht];Ee=It}else Ee=null;oe.push(Ee)}return oe}function h(O,Z){this.Qa=O,this.db=Z,this.Oa=1,this.lb=[]}function g(O,Z){if(this.db=Z,Z=ma(O)+1,this.eb=_r(Z),this.eb===null)throw Error("Unable to allocate memory for the SQL string");tt(O,ue,this.eb,Z),this.kb=this.eb,this.Za=this.pb=null}function E(O){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),O!=null){var Z=this.filename,oe="/",be=Z;if(oe&&(oe=typeof oe=="string"?oe:fr(oe),be=Z?or(oe+"/"+Z):oe),Z=ba(!0,!0),be=Ma(be,Z),O){if(typeof O=="string"){oe=Array(O.length);for(var Ee=0,Be=O.length;Ee<Be;++Ee)oe[Ee]=O.charCodeAt(Ee);O=oe}qt(be,Z|146),oe=Ua(be,577),mi(oe,O,0,O.length,0),Sa(oe),qt(be,Z)}}this.handleError(me(this.filename,D)),this.db=Yt(D,"i32"),_i(this.db),this.fb={},this.Sa={}}var D=aa(4),H=p.cwrap,me=H("sqlite3_open","number",["string","number"]),Ae=H("sqlite3_close_v2","number",["number"]),Te=H("sqlite3_exec","number",["number","string","number","number","number"]),Pe=H("sqlite3_changes","number",["number"]),gt=H("sqlite3_prepare_v2","number",["number","string","number","number","number"]),Er=H("sqlite3_sql","string",["number"]),$n=H("sqlite3_normalized_sql","string",["number"]),Yn=H("sqlite3_prepare_v2","number",["number","number","number","number","number"]),yi=H("sqlite3_bind_text","number",["number","number","number","number","number"]),gi=H("sqlite3_bind_blob","number",["number","number","number","number","number"]),As=H("sqlite3_bind_double","number",["number","number","number"]),js=H("sqlite3_bind_int","number",["number","number","number"]),dl=H("sqlite3_bind_parameter_index","number",["number","string"]),Os=H("sqlite3_step","number",["number"]),Rs=H("sqlite3_errmsg","string",["number"]),Ds=H("sqlite3_column_count","number",["number"]),Ls=H("sqlite3_data_count","number",["number"]),Ms=H("sqlite3_column_double","number",["number","number"]),fl=H("sqlite3_column_text","string",["number","number"]),Us=H("sqlite3_column_blob","number",["number","number"]),qs=H("sqlite3_column_bytes","number",["number","number"]),ks=H("sqlite3_column_type","number",["number","number"]),zs=H("sqlite3_column_name","string",["number","number"]),ml=H("sqlite3_reset","number",["number"]),Hs=H("sqlite3_clear_bindings","number",["number"]),Bs=H("sqlite3_finalize","number",["number"]),vi=H("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),xi=H("sqlite3_value_type","number",["number"]),Gs=H("sqlite3_value_bytes","number",["number"]),Vs=H("sqlite3_value_text","string",["number"]),$s=H("sqlite3_value_blob","number",["number"]),Ys=H("sqlite3_value_double","number",["number"]),Is=H("sqlite3_result_double","",["number","number"]),bi=H("sqlite3_result_null","",["number"]),Qs=H("sqlite3_result_text","",["number","string","number","number"]),Xs=H("sqlite3_result_blob","",["number","number","number","number"]),Zs=H("sqlite3_result_int","",["number","number"]),pn=H("sqlite3_result_error","",["number","string","number"]),yn=H("sqlite3_aggregate_context","number",["number","number"]),_i=H("RegisterExtensionFunctions","number",["number"]),hl=H("sqlite3_update_hook","number",["number","number","number"]);h.prototype.bind=function(O){if(!this.Qa)throw"Statement closed";return this.reset(),Array.isArray(O)?this.Cb(O):O!=null&&typeof O=="object"?this.Db(O):!0},h.prototype.step=function(){if(!this.Qa)throw"Statement closed";this.Oa=1;var O=Os(this.Qa);switch(O){case 100:return!0;case 101:return!1;default:throw this.db.handleError(O)}},h.prototype.wb=function(O){return O==null&&(O=this.Oa,this.Oa+=1),Ms(this.Qa,O)},h.prototype.Gb=function(O){if(O==null&&(O=this.Oa,this.Oa+=1),O=fl(this.Qa,O),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(O)},h.prototype.Hb=function(O){return O==null&&(O=this.Oa,this.Oa+=1),fl(this.Qa,O)},h.prototype.getBlob=function(O){O==null&&(O=this.Oa,this.Oa+=1);var Z=qs(this.Qa,O);O=Us(this.Qa,O);for(var oe=new Uint8Array(Z),be=0;be<Z;be+=1)oe[be]=re[O+be];return oe},h.prototype.get=function(O,Z){Z=Z||{},O!=null&&this.bind(O)&&this.step(),O=[];for(var oe=Ls(this.Qa),be=0;be<oe;be+=1)switch(ks(this.Qa,be)){case 1:var Ee=Z.useBigInt?this.Gb(be):this.wb(be);O.push(Ee);break;case 2:O.push(this.wb(be));break;case 3:O.push(this.Hb(be));break;case 4:O.push(this.getBlob(be));break;default:O.push(null)}return O},h.prototype.getColumnNames=function(){for(var O=[],Z=Ds(this.Qa),oe=0;oe<Z;oe+=1)O.push(zs(this.Qa,oe));return O},h.prototype.getAsObject=function(O,Z){O=this.get(O,Z),Z=this.getColumnNames();for(var oe={},be=0;be<Z.length;be+=1)oe[Z[be]]=O[be];return oe},h.prototype.getSQL=function(){return Er(this.Qa)},h.prototype.getNormalizedSQL=function(){return $n(this.Qa)},h.prototype.run=function(O){return O!=null&&this.bind(O),this.step(),this.reset()},h.prototype.sb=function(O,Z){Z==null&&(Z=this.Oa,this.Oa+=1),O=ha(O);var oe=dn(O,Vn);this.lb.push(oe),this.db.handleError(yi(this.Qa,Z,oe,O.length-1,0))},h.prototype.Bb=function(O,Z){Z==null&&(Z=this.Oa,this.Oa+=1);var oe=dn(O,Vn);this.lb.push(oe),this.db.handleError(gi(this.Qa,Z,oe,O.length,0))},h.prototype.rb=function(O,Z){Z==null&&(Z=this.Oa,this.Oa+=1),this.db.handleError((O===(O|0)?js:As)(this.Qa,Z,O))},h.prototype.Eb=function(O){O==null&&(O=this.Oa,this.Oa+=1),gi(this.Qa,O,0,0,0)},h.prototype.tb=function(O,Z){switch(Z==null&&(Z=this.Oa,this.Oa+=1),typeof O){case"string":this.sb(O,Z);return;case"number":this.rb(O,Z);return;case"bigint":this.sb(O.toString(),Z);return;case"boolean":this.rb(O+0,Z);return;case"object":if(O===null){this.Eb(Z);return}if(O.length!=null){this.Bb(O,Z);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+O+")."},h.prototype.Db=function(O){var Z=this;return Object.keys(O).forEach(function(oe){var be=dl(Z.Qa,oe);be!==0&&Z.tb(O[oe],be)}),!0},h.prototype.Cb=function(O){for(var Z=0;Z<O.length;Z+=1)this.tb(O[Z],Z+1);return!0},h.prototype.reset=function(){return this.freemem(),Hs(this.Qa)===0&&ml(this.Qa)===0},h.prototype.freemem=function(){for(var O;(O=this.lb.pop())!==void 0;)mn(O)},h.prototype.free=function(){this.freemem();var O=Bs(this.Qa)===0;return delete this.db.fb[this.Qa],this.Qa=0,O},g.prototype.next=function(){if(this.eb===null)return{done:!0};if(this.Za!==null&&(this.Za.free(),this.Za=null),!this.db.db)throw this.mb(),Error("Database closed");var O=ya(),Z=aa(4);Oa(D),Oa(Z);try{this.db.handleError(Yn(this.db.db,this.kb,-1,D,Z)),this.kb=Yt(Z,"i32");var oe=Yt(D,"i32");return oe===0?(this.mb(),{done:!0}):(this.Za=new h(oe,this.db),this.db.fb[oe]=this.Za,{value:this.Za,done:!1})}catch(be){throw this.pb=Ut(this.kb),this.mb(),be}finally{Dt(O)}},g.prototype.mb=function(){mn(this.eb),this.eb=null},g.prototype.getRemainingSQL=function(){return this.pb!==null?this.pb:Ut(this.kb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(g.prototype[Symbol.iterator]=function(){return this}),E.prototype.run=function(O,Z){if(!this.db)throw"Database closed";if(Z){O=this.prepare(O,Z);try{O.step()}finally{O.free()}}else this.handleError(Te(this.db,O,0,0,D));return this},E.prototype.exec=function(O,Z,oe){if(!this.db)throw"Database closed";var be=ya(),Ee=null;try{var Be=ul(O),It=aa(4);for(O=[];Yt(Be,"i8")!==0;){Oa(D),Oa(It),this.handleError(Yn(this.db,Be,-1,D,It));var Ht=Yt(D,"i32");if(Be=Yt(It,"i32"),Ht!==0){var At=null;for(Ee=new h(Ht,this),Z!=null&&Ee.bind(Z);Ee.step();)At===null&&(At={columns:Ee.getColumnNames(),values:[]},O.push(At)),At.values.push(Ee.get(null,oe));Ee.free()}}return O}catch(Bt){throw Ee&&Ee.free(),Bt}finally{Dt(be)}},E.prototype.each=function(O,Z,oe,be,Ee){typeof Z=="function"&&(be=oe,oe=Z,Z=void 0),O=this.prepare(O,Z);try{for(;O.step();)oe(O.getAsObject(null,Ee))}finally{O.free()}if(typeof be=="function")return be()},E.prototype.prepare=function(O,Z){if(Oa(D),this.handleError(gt(this.db,O,-1,D,0)),O=Yt(D,"i32"),O===0)throw"Nothing to prepare";var oe=new h(O,this);return Z!=null&&oe.bind(Z),this.fb[O]=oe},E.prototype.iterateStatements=function(O){return new g(O,this)},E.prototype.export=function(){Object.values(this.fb).forEach(function(Z){Z.free()}),Object.values(this.Sa).forEach(ta),this.Sa={},this.handleError(Ae(this.db));var O=hi(this.filename);return this.handleError(me(this.filename,D)),this.db=Yt(D,"i32"),_i(this.db),O},E.prototype.close=function(){this.db!==null&&(Object.values(this.fb).forEach(function(O){O.free()}),Object.values(this.Sa).forEach(ta),this.Sa={},this.Ya&&(ta(this.Ya),this.Ya=void 0),this.handleError(Ae(this.db)),fi("/"+this.filename),this.db=null)},E.prototype.handleError=function(O){if(O===0)return null;throw O=Rs(this.db),Error(O)},E.prototype.getRowsModified=function(){return Pe(this.db)},E.prototype.create_function=function(O,Z){Object.prototype.hasOwnProperty.call(this.Sa,O)&&(ta(this.Sa[O]),delete this.Sa[O]);var oe=Ba(function(be,Ee,Be){Ee=d(Ee,Be);try{var It=Z.apply(null,Ee)}catch(Ht){pn(be,Ht,-1);return}l(be,It)},"viii");return this.Sa[O]=oe,this.handleError(vi(this.db,O,Z.length,1,0,oe,0,0,0)),this},E.prototype.create_aggregate=function(O,Z){var oe=Z.init||function(){return null},be=Z.finalize||function(At){return At},Ee=Z.step;if(!Ee)throw"An aggregate function must have a step function in "+O;var Be={};Object.hasOwnProperty.call(this.Sa,O)&&(ta(this.Sa[O]),delete this.Sa[O]),Z=O+"__finalize",Object.hasOwnProperty.call(this.Sa,Z)&&(ta(this.Sa[Z]),delete this.Sa[Z]);var It=Ba(function(At,Bt,Ga){var Qt=yn(At,1);Object.hasOwnProperty.call(Be,Qt)||(Be[Qt]=oe()),Bt=d(Bt,Ga),Bt=[Be[Qt]].concat(Bt);try{Be[Qt]=Ee.apply(null,Bt)}catch(Ws){delete Be[Qt],pn(At,Ws,-1)}},"viii"),Ht=Ba(function(At){var Bt=yn(At,1);try{var Ga=be(Be[Bt])}catch(Qt){delete Be[Bt],pn(At,Qt,-1);return}l(At,Ga),delete Be[Bt]},"vi");return this.Sa[O]=It,this.Sa[Z]=Ht,this.handleError(vi(this.db,O,Ee.length-1,1,0,0,It,Ht,0)),this},E.prototype.updateHook=function(O){this.Ya&&(hl(this.db,0,0),ta(this.Ya),this.Ya=void 0),O&&(this.Ya=Ba(function(Z,oe,be,Ee,Be){switch(oe){case 18:Z="insert";break;case 23:Z="update";break;case 9:Z="delete";break;default:throw"unknown operationCode in updateHook callback: "+oe}if(be=be?Je(ue,be):"",Ee=Ee?Je(ue,Ee):"",Be>Number.MAX_SAFE_INTEGER)throw"rowId too big to fit inside a Number";O(Z,be,Ee,Number(Be))},"viiiij"),hl(this.db,this.Ya,0))},p.Database=E};var Y={...p},B="./this.program",W=(l,d)=>{throw d},$="",pe,ye;if(b){var se=Zm;$=__dirname+"/",ye=l=>(l=de(l)?new URL(l):l,se.readFileSync(l)),pe=async l=>(l=de(l)?new URL(l):l,se.readFileSync(l,void 0)),!p.thisProgram&&1<process.argv.length&&(B=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),s.exports=p,W=(l,d)=>{throw process.exitCode=l,d}}else(w||j)&&(j?$=self.location.href:typeof document<"u"&&document.currentScript&&($=document.currentScript.src),$=$.startsWith("blob:")?"":$.slice(0,$.replace(/[?#].*/,"").lastIndexOf("/")+1),j&&(ye=l=>{var d=new XMLHttpRequest;return d.open("GET",l,!1),d.responseType="arraybuffer",d.send(null),new Uint8Array(d.response)}),pe=async l=>{if(de(l))return new Promise((h,g)=>{var E=new XMLHttpRequest;E.open("GET",l,!0),E.responseType="arraybuffer",E.onload=()=>{E.status==200||E.status==0&&E.response?h(E.response):g(E.status)},E.onerror=g,E.send(null)});var d=await fetch(l,{credentials:"same-origin"});if(d.ok)return d.arrayBuffer();throw Error(d.status+" : "+d.url)});var xe=p.print||console.log.bind(console),le=p.printErr||console.error.bind(console);Object.assign(p,Y),Y=null,p.thisProgram&&(B=p.thisProgram);var qe=p.wasmBinary,nt,P=!1,G,re,ue,he,K,F,ge,q,ee,de=l=>l.startsWith("file://");function Re(){var l=nt.buffer;p.HEAP8=re=new Int8Array(l),p.HEAP16=he=new Int16Array(l),p.HEAPU8=ue=new Uint8Array(l),p.HEAPU16=new Uint16Array(l),p.HEAP32=K=new Int32Array(l),p.HEAPU32=F=new Uint32Array(l),p.HEAPF32=ge=new Float32Array(l),p.HEAPF64=ee=new Float64Array(l),p.HEAP64=q=new BigInt64Array(l),p.HEAPU64=new BigUint64Array(l)}var N=0,X=null;function ae(l){throw p.onAbort?.(l),l="Aborted("+l+")",le(l),P=!0,new WebAssembly.RuntimeError(l+". Build with -sASSERTIONS for more info.")}var J;async function ne(l){if(!qe)try{var d=await pe(l);return new Uint8Array(d)}catch{}if(l==J&&qe)l=new Uint8Array(qe);else if(ye)l=ye(l);else throw"both async and sync fetching of the wasm failed";return l}async function Le(l,d){try{var h=await ne(l);return await WebAssembly.instantiate(h,d)}catch(g){le(`failed to asynchronously prepare wasm: ${g}`),ae(g)}}async function Ne(l){var d=J;if(!qe&&typeof WebAssembly.instantiateStreaming=="function"&&!de(d)&&!b)try{var h=fetch(d,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(h,l)}catch(g){le(`wasm streaming compile failed: ${g}`),le("falling back to ArrayBuffer instantiation")}return Le(d,l)}class yt{name="ExitStatus";constructor(d){this.message=`Program terminated with exit(${d})`,this.status=d}}var He=l=>{for(;0<l.length;)l.shift()(p)},fa=[],sr=[],ur=()=>{var l=p.preRun.shift();sr.unshift(l)};function Yt(l,d="i8"){switch(d.endsWith("*")&&(d="*"),d){case"i1":return re[l];case"i8":return re[l];case"i16":return he[l>>1];case"i32":return K[l>>2];case"i64":return q[l>>3];case"float":return ge[l>>2];case"double":return ee[l>>3];case"*":return F[l>>2];default:ae(`invalid type for getValue: ${d}`)}}var zn=p.noExitRuntime||!0;function Oa(l){var d="i32";switch(d.endsWith("*")&&(d="*"),d){case"i1":re[l]=0;break;case"i8":re[l]=0;break;case"i16":he[l>>1]=0;break;case"i32":K[l>>2]=0;break;case"i64":q[l>>3]=BigInt(0);break;case"float":ge[l>>2]=0;break;case"double":ee[l>>3]=0;break;case"*":F[l>>2]=0;break;default:ae(`invalid type for setValue: ${d}`)}}var li=typeof TextDecoder<"u"?new TextDecoder:void 0,Je=(l,d=0,h=NaN)=>{var g=d+h;for(h=d;l[h]&&!(h>=g);)++h;if(16<h-d&&l.buffer&&li)return li.decode(l.subarray(d,h));for(g="";d<h;){var E=l[d++];if(E&128){var D=l[d++]&63;if((E&224)==192)g+=String.fromCharCode((E&31)<<6|D);else{var H=l[d++]&63;E=(E&240)==224?(E&15)<<12|D<<6|H:(E&7)<<18|D<<12|H<<6|l[d++]&63,65536>E?g+=String.fromCharCode(E):(E-=65536,g+=String.fromCharCode(55296|E>>10,56320|E&1023))}}else g+=String.fromCharCode(E)}return g},Ut=(l,d)=>l?Je(ue,l,d):"",ii=(l,d)=>{for(var h=0,g=l.length-1;0<=g;g--){var E=l[g];E==="."?l.splice(g,1):E===".."?(l.splice(g,1),h++):h&&(l.splice(g,1),h--)}if(d)for(;h;h--)l.unshift("..");return l},or=l=>{var d=l.charAt(0)==="/",h=l.slice(-1)==="/";return(l=ii(l.split("/").filter(g=>!!g),!d).join("/"))||d||(l="."),l&&h&&(l+="/"),(d?"/":"")+l},Jr=l=>{var d=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(l).slice(1);return l=d[0],d=d[1],!l&&!d?".":(d&&=d.slice(0,-1),l+d)},Ra=l=>l&&l.match(/([^\/]+|\/)\/*$/)[1],Ns=()=>{if(b){var l=Zm;return d=>l.randomFillSync(d)}return d=>crypto.getRandomValues(d)},Fr=l=>{(Fr=Ns())(l)},ws=(...l)=>{for(var d="",h=!1,g=l.length-1;-1<=g&&!h;g--){if(h=0<=g?l[g]:"/",typeof h!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!h)return"";d=h+"/"+d,h=h.charAt(0)==="/"}return d=ii(d.split("/").filter(E=>!!E),!h).join("/"),(h?"/":"")+d||"."},Pr=[],ma=l=>{for(var d=0,h=0;h<l.length;++h){var g=l.charCodeAt(h);127>=g?d++:2047>=g?d+=2:55296<=g&&57343>=g?(d+=4,++h):d+=3}return d},tt=(l,d,h,g)=>{if(!(0<g))return 0;var E=h;g=h+g-1;for(var D=0;D<l.length;++D){var H=l.charCodeAt(D);if(55296<=H&&57343>=H){var me=l.charCodeAt(++D);H=65536+((H&1023)<<10)|me&1023}if(127>=H){if(h>=g)break;d[h++]=H}else{if(2047>=H){if(h+1>=g)break;d[h++]=192|H>>6}else{if(65535>=H){if(h+2>=g)break;d[h++]=224|H>>12}else{if(h+3>=g)break;d[h++]=240|H>>18,d[h++]=128|H>>12&63}d[h++]=128|H>>6&63}d[h++]=128|H&63}}return d[h]=0,h-E},ha=(l,d)=>{var h=Array(ma(l)+1);return l=tt(l,h,0,h.length),d&&(h.length=l),h},Ct=[];function si(l,d){Ct[l]={input:[],output:[],cb:d},rt(l,Cs)}var Cs={open(l){var d=Ct[l.node.rdev];if(!d)throw new te(43);l.tty=d,l.seekable=!1},close(l){l.tty.cb.fsync(l.tty)},fsync(l){l.tty.cb.fsync(l.tty)},read(l,d,h,g){if(!l.tty||!l.tty.cb.xb)throw new te(60);for(var E=0,D=0;D<g;D++){try{var H=l.tty.cb.xb(l.tty)}catch{throw new te(29)}if(H===void 0&&E===0)throw new te(6);if(H==null)break;E++,d[h+D]=H}return E&&(l.node.atime=Date.now()),E},write(l,d,h,g){if(!l.tty||!l.tty.cb.qb)throw new te(60);try{for(var E=0;E<g;E++)l.tty.cb.qb(l.tty,d[h+E])}catch{throw new te(29)}return g&&(l.node.mtime=l.node.ctime=Date.now()),E}},Ts={xb(){e:{if(!Pr.length){var l=null;if(b){var d=Buffer.alloc(256),h=0,g=process.stdin.fd;try{h=se.readSync(g,d,0,256)}catch(E){if(E.toString().includes("EOF"))h=0;else throw E}0<h&&(l=d.slice(0,h).toString("utf-8"))}else typeof window<"u"&&typeof window.prompt=="function"&&(l=window.prompt("Input: "),l!==null&&(l+=`
`));if(!l){l=null;break e}Pr=ha(l,!0)}l=Pr.shift()}return l},qb(l,d){d===null||d===10?(xe(Je(l.output)),l.output=[]):d!=0&&l.output.push(d)},fsync(l){0<l.output?.length&&(xe(Je(l.output)),l.output=[])},Tb(){return{Ob:25856,Qb:5,Nb:191,Pb:35387,Mb:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Ub(){return 0},Vb(){return[24,80]}},cr={qb(l,d){d===null||d===10?(le(Je(l.output)),l.output=[]):d!=0&&l.output.push(d)},fsync(l){0<l.output?.length&&(le(Je(l.output)),l.output=[])}},Ce={Wa:null,Xa(){return Ce.createNode(null,"/",16895,0)},createNode(l,d,h,g){if((h&61440)===24576||(h&61440)===4096)throw new te(63);return Ce.Wa||(Ce.Wa={dir:{node:{Ta:Ce.La.Ta,Ua:Ce.La.Ua,lookup:Ce.La.lookup,hb:Ce.La.hb,rename:Ce.La.rename,unlink:Ce.La.unlink,rmdir:Ce.La.rmdir,readdir:Ce.La.readdir,symlink:Ce.La.symlink},stream:{Va:Ce.Ma.Va}},file:{node:{Ta:Ce.La.Ta,Ua:Ce.La.Ua},stream:{Va:Ce.Ma.Va,read:Ce.Ma.read,write:Ce.Ma.write,ib:Ce.Ma.ib,jb:Ce.Ma.jb}},link:{node:{Ta:Ce.La.Ta,Ua:Ce.La.Ua,readlink:Ce.La.readlink},stream:{}},ub:{node:{Ta:Ce.La.Ta,Ua:Ce.La.Ua},stream:un}}),h=_t(l,d,h,g),st(h.mode)?(h.La=Ce.Wa.dir.node,h.Ma=Ce.Wa.dir.stream,h.Na={}):(h.mode&61440)===32768?(h.La=Ce.Wa.file.node,h.Ma=Ce.Wa.file.stream,h.Ra=0,h.Na=null):(h.mode&61440)===40960?(h.La=Ce.Wa.link.node,h.Ma=Ce.Wa.link.stream):(h.mode&61440)===8192&&(h.La=Ce.Wa.ub.node,h.Ma=Ce.Wa.ub.stream),h.atime=h.mtime=h.ctime=Date.now(),l&&(l.Na[d]=h,l.atime=l.mtime=l.ctime=h.atime),h},Sb(l){return l.Na?l.Na.subarray?l.Na.subarray(0,l.Ra):new Uint8Array(l.Na):new Uint8Array(0)},La:{Ta(l){var d={};return d.dev=(l.mode&61440)===8192?l.id:1,d.ino=l.id,d.mode=l.mode,d.nlink=1,d.uid=0,d.gid=0,d.rdev=l.rdev,st(l.mode)?d.size=4096:(l.mode&61440)===32768?d.size=l.Ra:(l.mode&61440)===40960?d.size=l.link.length:d.size=0,d.atime=new Date(l.atime),d.mtime=new Date(l.mtime),d.ctime=new Date(l.ctime),d.blksize=4096,d.blocks=Math.ceil(d.size/d.blksize),d},Ua(l,d){for(var h of["mode","atime","mtime","ctime"])d[h]!=null&&(l[h]=d[h]);d.size!==void 0&&(d=d.size,l.Ra!=d&&(d==0?(l.Na=null,l.Ra=0):(h=l.Na,l.Na=new Uint8Array(d),h&&l.Na.set(h.subarray(0,Math.min(d,l.Ra))),l.Ra=d)))},lookup(){throw Ce.vb},hb(l,d,h,g){return Ce.createNode(l,d,h,g)},rename(l,d,h){try{var g=Fe(d,h)}catch{}if(g){if(st(l.mode))for(var E in g.Na)throw new te(55);ea(g)}delete l.parent.Na[l.name],d.Na[h]=l,l.name=h,d.ctime=d.mtime=l.parent.ctime=l.parent.mtime=Date.now()},unlink(l,d){delete l.Na[d],l.ctime=l.mtime=Date.now()},rmdir(l,d){var h=Fe(l,d),g;for(g in h.Na)throw new te(55);delete l.Na[d],l.ctime=l.mtime=Date.now()},readdir(l){return[".","..",...Object.keys(l.Na)]},symlink(l,d,h){return l=Ce.createNode(l,d,41471,0),l.link=h,l},readlink(l){if((l.mode&61440)!==40960)throw new te(28);return l.link}},Ma:{read(l,d,h,g,E){var D=l.node.Na;if(E>=l.node.Ra)return 0;if(l=Math.min(l.node.Ra-E,g),8<l&&D.subarray)d.set(D.subarray(E,E+l),h);else for(g=0;g<l;g++)d[h+g]=D[E+g];return l},write(l,d,h,g,E,D){if(d.buffer===re.buffer&&(D=!1),!g)return 0;if(l=l.node,l.mtime=l.ctime=Date.now(),d.subarray&&(!l.Na||l.Na.subarray)){if(D)return l.Na=d.subarray(h,h+g),l.Ra=g;if(l.Ra===0&&E===0)return l.Na=d.slice(h,h+g),l.Ra=g;if(E+g<=l.Ra)return l.Na.set(d.subarray(h,h+g),E),g}D=E+g;var H=l.Na?l.Na.length:0;if(H>=D||(D=Math.max(D,H*(1048576>H?2:1.125)>>>0),H!=0&&(D=Math.max(D,256)),H=l.Na,l.Na=new Uint8Array(D),0<l.Ra&&l.Na.set(H.subarray(0,l.Ra),0)),l.Na.subarray&&d.subarray)l.Na.set(d.subarray(h,h+g),E);else for(D=0;D<g;D++)l.Na[E+D]=d[h+D];return l.Ra=Math.max(l.Ra,E+g),g},Va(l,d,h){if(h===1?d+=l.position:h===2&&(l.node.mode&61440)===32768&&(d+=l.node.Ra),0>d)throw new te(28);return d},ib(l,d,h,g,E){if((l.node.mode&61440)!==32768)throw new te(43);if(l=l.node.Na,E&2||!l||l.buffer!==re.buffer){E=!0,g=65536*Math.ceil(d/65536);var D=cl(65536,g);if(D&&ue.fill(0,D,D+g),g=D,!g)throw new te(48);l&&((0<h||h+d<l.length)&&(l.subarray?l=l.subarray(h,h+d):l=Array.prototype.slice.call(l,h,h+d)),re.set(l,g))}else E=!1,g=l.byteOffset;return{Kb:g,Ab:E}},jb(l,d,h,g){return Ce.Ma.write(l,d,0,g,h,!1),0}}},ba=(l,d)=>{var h=0;return l&&(h|=365),d&&(h|=146),h},tn=null,an={},nn=[],ui=1,pa=null,dr=!1,rn=!0,oi={},te=class{name="ErrnoError";constructor(l){this.Pa=l}},ci=class{gb={};node=null;get flags(){return this.gb.flags}set flags(l){this.gb.flags=l}get position(){return this.gb.position}set position(l){this.gb.position=l}},el=class{La={};Ma={};ab=null;constructor(l,d,h,g){l||=this,this.parent=l,this.Xa=l.Xa,this.id=ui++,this.name=d,this.mode=h,this.rdev=g,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&365)===365}set read(l){l?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(l){l?this.mode|=146:this.mode&=-147}};function Tt(l,d={}){if(!l)throw new te(44);d.nb??(d.nb=!0),l.charAt(0)==="/"||(l="//"+l);var h=0;e:for(;40>h;h++){l=l.split("/").filter(me=>!!me);for(var g=tn,E="/",D=0;D<l.length;D++){var H=D===l.length-1;if(H&&d.parent)break;if(l[D]!==".")if(l[D]==="..")E=Jr(E),g=g.parent;else{E=or(E+"/"+l[D]);try{g=Fe(g,l[D])}catch(me){if(me?.Pa===44&&H&&d.Jb)return{path:E};throw me}if(!g.ab||H&&!d.nb||(g=g.ab.root),(g.mode&61440)===40960&&(!H||d.$a)){if(!g.La.readlink)throw new te(52);g=g.La.readlink(g),g.charAt(0)==="/"||(g=Jr(E)+"/"+g),l=g+"/"+l.slice(D+1).join("/");continue e}}}return{path:E,node:g}}throw new te(32)}function fr(l){for(var d;;){if(l===l.parent)return l=l.Xa.zb,d?l[l.length-1]!=="/"?`${l}/${d}`:l+d:l;d=d?`${l.name}/${d}`:l.name,l=l.parent}}function tl(l,d){for(var h=0,g=0;g<d.length;g++)h=(h<<5)-h+d.charCodeAt(g)|0;return(l+h>>>0)%pa.length}function ea(l){var d=tl(l.parent.id,l.name);if(pa[d]===l)pa[d]=l.bb;else for(d=pa[d];d;){if(d.bb===l){d.bb=l.bb;break}d=d.bb}}function Fe(l,d){var h=st(l.mode)?(h=ln(l,"x"))?h:l.La.lookup?0:2:54;if(h)throw new te(h);for(h=pa[tl(l.id,d)];h;h=h.bb){var g=h.name;if(h.parent.id===l.id&&g===d)return h}return l.La.lookup(l,d)}function _t(l,d,h,g){return l=new el(l,d,h,g),d=tl(l.parent.id,l.name),l.bb=pa[d],pa[d]=l}function st(l){return(l&61440)===16384}function mr(l){var d=["r","w","rw"][l&3];return l&512&&(d+="w"),d}function ln(l,d){if(rn)return 0;if(!d.includes("r")||l.mode&292){if(d.includes("w")&&!(l.mode&146)||d.includes("x")&&!(l.mode&73))return 2}else return 2;return 0}function di(l,d){if(!st(l.mode))return 54;try{return Fe(l,d),20}catch{}return ln(l,"wx")}function al(l,d,h){try{var g=Fe(l,d)}catch(E){return E.Pa}if(l=ln(l,"wx"))return l;if(h){if(!st(g.mode))return 54;if(g===g.parent||fr(g)==="/")return 10}else if(st(g.mode))return 31;return 0}function _a(l){if(!l)throw new te(63);return l}function mt(l){if(l=nn[l],!l)throw new te(8);return l}function Da(l,d=-1){if(l=Object.assign(new ci,l),d==-1)e:{for(d=0;4096>=d;d++)if(!nn[d])break e;throw new te(33)}return l.fd=d,nn[d]=l}function sn(l,d=-1){return l=Da(l,d),l.Ma?.Rb?.(l),l}function La(l,d,h){var g=l?.Ma.Ua;l=g?l:d,g??=d.La.Ua,_a(g),g(l,h)}var un={open(l){l.Ma=an[l.node.rdev].Ma,l.Ma.open?.(l)},Va(){throw new te(70)}};function rt(l,d){an[l]={Ma:d}}function nl(l,d){var h=d==="/";if(h&&tn)throw new te(10);if(!h&&d){var g=Tt(d,{nb:!1});if(d=g.path,g=g.node,g.ab)throw new te(10);if(!st(g.mode))throw new te(54)}d={type:l,Wb:{},zb:d,Ib:[]},l=l.Xa(d),l.Xa=d,d.root=l,h?tn=l:g&&(g.ab=d,g.Xa&&g.Xa.Ib.push(d))}function Hn(l,d,h){var g=Tt(l,{parent:!0}).node;if(l=Ra(l),!l)throw new te(28);if(l==="."||l==="..")throw new te(20);var E=di(g,l);if(E)throw new te(E);if(!g.La.hb)throw new te(63);return g.La.hb(g,l,d,h)}function Ma(l,d=438){return Hn(l,d&4095|32768,0)}function Et(l,d=511){return Hn(l,d&1023|16384,0)}function hr(l,d,h){typeof h>"u"&&(h=d,d=438),Hn(l,d|8192,h)}function pr(l,d){if(!ws(l))throw new te(44);var h=Tt(d,{parent:!0}).node;if(!h)throw new te(44);d=Ra(d);var g=di(h,d);if(g)throw new te(g);if(!h.La.symlink)throw new te(63);h.La.symlink(h,d,l)}function rl(l){var d=Tt(l,{parent:!0}).node;l=Ra(l);var h=Fe(d,l),g=al(d,l,!0);if(g)throw new te(g);if(!d.La.rmdir)throw new te(63);if(h.ab)throw new te(10);d.La.rmdir(d,l),ea(h)}function fi(l){var d=Tt(l,{parent:!0}).node;if(!d)throw new te(44);l=Ra(l);var h=Fe(d,l),g=al(d,l,!1);if(g)throw new te(g);if(!d.La.unlink)throw new te(63);if(h.ab)throw new te(10);d.La.unlink(d,l),ea(h)}function Ea(l,d){return l=Tt(l,{$a:!d}).node,_a(l.La.Ta)(l)}function Bn(l,d,h,g){La(l,d,{mode:h&4095|d.mode&-4096,ctime:Date.now(),Fb:g})}function qt(l,d){l=typeof l=="string"?Tt(l,{$a:!0}).node:l,Bn(null,l,d)}function yr(l,d,h){if(st(d.mode))throw new te(31);if((d.mode&61440)!==32768)throw new te(28);var g=ln(d,"w");if(g)throw new te(g);La(l,d,{size:h,timestamp:Date.now()})}function Ua(l,d,h=438){if(l==="")throw new te(44);if(typeof d=="string"){var g={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[d];if(typeof g>"u")throw Error(`Unknown file open mode: ${d}`);d=g}if(h=d&64?h&4095|32768:0,typeof l=="object")g=l;else{var E=l.endsWith("/");l=Tt(l,{$a:!(d&131072),Jb:!0}),g=l.node,l=l.path}var D=!1;if(d&64)if(g){if(d&128)throw new te(20)}else{if(E)throw new te(31);g=Hn(l,h|511,0),D=!0}if(!g)throw new te(44);if((g.mode&61440)===8192&&(d&=-513),d&65536&&!st(g.mode))throw new te(54);if(!D&&(E=g?(g.mode&61440)===40960?32:st(g.mode)&&(mr(d)!=="r"||d&576)?31:ln(g,mr(d)):44))throw new te(E);return d&512&&!D&&(E=g,E=typeof E=="string"?Tt(E,{$a:!0}).node:E,yr(null,E,0)),d&=-131713,E=Da({node:g,path:fr(g),flags:d,seekable:!0,position:0,Ma:g.Ma,Lb:[],error:!1}),E.Ma.open&&E.Ma.open(E),D&&qt(g,h&511),!p.logReadFiles||d&1||l in oi||(oi[l]=1),E}function Sa(l){if(l.fd===null)throw new te(8);l.ob&&(l.ob=null);try{l.Ma.close&&l.Ma.close(l)}catch(d){throw d}finally{nn[l.fd]=null}l.fd=null}function gr(l,d,h){if(l.fd===null)throw new te(8);if(!l.seekable||!l.Ma.Va)throw new te(70);if(h!=0&&h!=1&&h!=2)throw new te(28);l.position=l.Ma.Va(l,d,h),l.Lb=[]}function vr(l,d,h,g,E){if(0>g||0>E)throw new te(28);if(l.fd===null)throw new te(8);if((l.flags&2097155)===1)throw new te(8);if(st(l.node.mode))throw new te(31);if(!l.Ma.read)throw new te(28);var D=typeof E<"u";if(!D)E=l.position;else if(!l.seekable)throw new te(70);return d=l.Ma.read(l,d,h,g,E),D||(l.position+=d),d}function mi(l,d,h,g,E){if(0>g||0>E)throw new te(28);if(l.fd===null)throw new te(8);if((l.flags&2097155)===0)throw new te(8);if(st(l.node.mode))throw new te(31);if(!l.Ma.write)throw new te(28);l.seekable&&l.flags&1024&&gr(l,0,2);var D=typeof E<"u";if(!D)E=l.position;else if(!l.seekable)throw new te(70);return d=l.Ma.write(l,d,h,g,E,void 0),D||(l.position+=d),d}function hi(l){var d,h=Ua(l,h||0);l=Ea(l).size;var g=new Uint8Array(l);return vr(h,g,0,l,0),d=g,Sa(h),d}function ut(l,d,h){l=or("/dev/"+l);var g=ba(!!d,!!h);ut.yb??(ut.yb=64);var E=ut.yb++<<8|0;rt(E,{open(D){D.seekable=!1},close(){h?.buffer?.length&&h(10)},read(D,H,me,Ae){for(var Te=0,Pe=0;Pe<Ae;Pe++){try{var gt=d()}catch{throw new te(29)}if(gt===void 0&&Te===0)throw new te(6);if(gt==null)break;Te++,H[me+Pe]=gt}return Te&&(D.node.atime=Date.now()),Te},write(D,H,me,Ae){for(var Te=0;Te<Ae;Te++)try{h(H[me+Te])}catch{throw new te(29)}return Ae&&(D.node.mtime=D.node.ctime=Date.now()),Te}}),hr(l,g,E)}var Ye={};function qa(l,d,h){if(d.charAt(0)==="/")return d;if(l=l===-100?"/":mt(l).path,d.length==0){if(!h)throw new te(44);return l}return l+"/"+d}function ka(l,d){K[l>>2]=d.dev,K[l+4>>2]=d.mode,F[l+8>>2]=d.nlink,K[l+12>>2]=d.uid,K[l+16>>2]=d.gid,K[l+20>>2]=d.rdev,q[l+24>>3]=BigInt(d.size),K[l+32>>2]=4096,K[l+36>>2]=d.blocks;var h=d.atime.getTime(),g=d.mtime.getTime(),E=d.ctime.getTime();return q[l+40>>3]=BigInt(Math.floor(h/1e3)),F[l+48>>2]=h%1e3*1e6,q[l+56>>3]=BigInt(Math.floor(g/1e3)),F[l+64>>2]=g%1e3*1e6,q[l+72>>3]=BigInt(Math.floor(E/1e3)),F[l+80>>2]=E%1e3*1e6,q[l+88>>3]=BigInt(d.ino),0}var Gn=void 0,za=()=>{var l=K[+Gn>>2];return Gn+=4,l},ll=0,kt=[0,31,60,91,121,152,182,213,244,274,305,335],il=[0,31,59,90,120,151,181,212,243,273,304,334],on={},xr=l=>{G=l,zn||0<ll||(p.onExit?.(l),P=!0),W(l,new yt(l))},cn=l=>{if(!P)try{if(l(),!(zn||0<ll))try{G=l=G,xr(l)}catch(d){d instanceof yt||d=="unwind"||W(1,d)}}catch(d){d instanceof yt||d=="unwind"||W(1,d)}},br={},sl=()=>{if(!Na){var l={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:B||"./this.program"},d;for(d in br)br[d]===void 0?delete l[d]:l[d]=br[d];var h=[];for(d in l)h.push(`${d}=${l[d]}`);Na=h}return Na},Na,ul=l=>{var d=ma(l)+1,h=aa(d);return tt(l,ue,h,d),h},pi=(l,d,h,g)=>{var E={string:Te=>{var Pe=0;return Te!=null&&Te!==0&&(Pe=ul(Te)),Pe},array:Te=>{var Pe=aa(Te.length);return re.set(Te,Pe),Pe}};l=p["_"+l];var D=[],H=0;if(g)for(var me=0;me<g.length;me++){var Ae=E[h[me]];Ae?(H===0&&(H=ya()),D[me]=Ae(g[me])):D[me]=g[me]}return h=l(...D),h=(function(Te){return H!==0&&Dt(H),d==="string"?Te?Je(ue,Te):"":d==="boolean"?!!Te:Te})(h)},Vn=0,dn=(l,d)=>(d=d==1?aa(l.length):_r(l.length),l.subarray||l.slice||(l=new Uint8Array(l)),ue.set(l,d),d),Ha,ol=[],zt,ta=l=>{Ha.delete(zt.get(l)),zt.set(l,null),ol.push(l)},Ba=(l,d)=>{if(!Ha){Ha=new WeakMap;var h=zt.length;if(Ha)for(var g=0;g<0+h;g++){var E=zt.get(g);E&&Ha.set(E,g)}}if(h=Ha.get(l)||0)return h;if(ol.length)h=ol.pop();else{try{zt.grow(1)}catch(Ae){throw Ae instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":Ae}h=zt.length-1}try{zt.set(h,l)}catch(Ae){if(!(Ae instanceof TypeError))throw Ae;if(typeof WebAssembly.Function=="function"){var D=WebAssembly.Function;g={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},E={parameters:[],results:d[0]=="v"?[]:[g[d[0]]]};for(var H=1;H<d.length;++H)E.parameters.push(g[d[H]]);d=new D(E,l)}else{g=[1],E=d.slice(0,1),d=d.slice(1),H={i:127,p:127,j:126,f:125,d:124,e:111},g.push(96);var me=d.length;128>me?g.push(me):g.push(me%128|128,me>>7);for(D of d)g.push(H[D]);E=="v"?g.push(0):g.push(1,H[E]),d=[0,97,115,109,1,0,0,0,1],D=g.length,128>D?d.push(D):d.push(D%128|128,D>>7),d.push(...g),d.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),d=new WebAssembly.Module(new Uint8Array(d)),d=new WebAssembly.Instance(d,{e:{f:l}}).exports.f}zt.set(h,d)}return Ha.set(l,h),h};pa=Array(4096),nl(Ce,"/"),Et("/tmp"),Et("/home"),Et("/home/web_user"),(function(){Et("/dev"),rt(259,{read:()=>0,write:(g,E,D,H)=>H,Va:()=>0}),hr("/dev/null",259),si(1280,Ts),si(1536,cr),hr("/dev/tty",1280),hr("/dev/tty1",1536);var l=new Uint8Array(1024),d=0,h=()=>(d===0&&(Fr(l),d=l.byteLength),l[--d]);ut("random",h),ut("urandom",h),Et("/dev/shm"),Et("/dev/shm/tmp")})(),(function(){Et("/proc");var l=Et("/proc/self");Et("/proc/self/fd"),nl({Xa(){var d=_t(l,"fd",16895,73);return d.Ma={Va:Ce.Ma.Va},d.La={lookup(h,g){h=+g;var E=mt(h);return h={parent:null,Xa:{zb:"fake"},La:{readlink:()=>E.path},id:h+1},h.parent=h},readdir(){return Array.from(nn.entries()).filter(([,h])=>h).map(([h])=>h.toString())}},d}},"/proc/self/fd")})(),Ce.vb=new te(44),Ce.vb.stack="<generic error, no stack>";var fn={a:(l,d,h,g)=>ae(`Assertion failed: ${l?Je(ue,l):""}, at: `+[d?d?Je(ue,d):"":"unknown filename",h,g?g?Je(ue,g):"":"unknown function"]),i:function(l,d){try{return l=l?Je(ue,l):"",qt(l,d),0}catch(h){if(typeof Ye>"u"||h.name!=="ErrnoError")throw h;return-h.Pa}},L:function(l,d,h){try{if(d=d?Je(ue,d):"",d=qa(l,d),h&-8)return-28;var g=Tt(d,{$a:!0}).node;return g?(l="",h&4&&(l+="r"),h&2&&(l+="w"),h&1&&(l+="x"),l&&ln(g,l)?-2:0):-44}catch(E){if(typeof Ye>"u"||E.name!=="ErrnoError")throw E;return-E.Pa}},j:function(l,d){try{var h=mt(l);return Bn(h,h.node,d,!1),0}catch(g){if(typeof Ye>"u"||g.name!=="ErrnoError")throw g;return-g.Pa}},h:function(l){try{var d=mt(l);return La(d,d.node,{timestamp:Date.now(),Fb:!1}),0}catch(h){if(typeof Ye>"u"||h.name!=="ErrnoError")throw h;return-h.Pa}},b:function(l,d,h){Gn=h;try{var g=mt(l);switch(d){case 0:var E=za();if(0>E)break;for(;nn[E];)E++;return sn(g,E).fd;case 1:case 2:return 0;case 3:return g.flags;case 4:return E=za(),g.flags|=E,0;case 12:return E=za(),he[E+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(D){if(typeof Ye>"u"||D.name!=="ErrnoError")throw D;return-D.Pa}},g:function(l,d){try{var h=mt(l),g=h.node,E=h.Ma.Ta;l=E?h:g,E??=g.La.Ta,_a(E);var D=E(l);return ka(d,D)}catch(H){if(typeof Ye>"u"||H.name!=="ErrnoError")throw H;return-H.Pa}},H:function(l,d){d=-9007199254740992>d||9007199254740992<d?NaN:Number(d);try{if(isNaN(d))return 61;var h=mt(l);if(0>d||(h.flags&2097155)===0)throw new te(28);return yr(h,h.node,d),0}catch(g){if(typeof Ye>"u"||g.name!=="ErrnoError")throw g;return-g.Pa}},G:function(l,d){try{if(d===0)return-28;var h=ma("/")+1;return d<h?-68:(tt("/",ue,l,d),h)}catch(g){if(typeof Ye>"u"||g.name!=="ErrnoError")throw g;return-g.Pa}},K:function(l,d){try{return l=l?Je(ue,l):"",ka(d,Ea(l,!0))}catch(h){if(typeof Ye>"u"||h.name!=="ErrnoError")throw h;return-h.Pa}},C:function(l,d,h){try{return d=d?Je(ue,d):"",d=qa(l,d),Et(d,h),0}catch(g){if(typeof Ye>"u"||g.name!=="ErrnoError")throw g;return-g.Pa}},J:function(l,d,h,g){try{d=d?Je(ue,d):"";var E=g&256;return d=qa(l,d,g&4096),ka(h,E?Ea(d,!0):Ea(d))}catch(D){if(typeof Ye>"u"||D.name!=="ErrnoError")throw D;return-D.Pa}},x:function(l,d,h,g){Gn=g;try{d=d?Je(ue,d):"",d=qa(l,d);var E=g?za():0;return Ua(d,h,E).fd}catch(D){if(typeof Ye>"u"||D.name!=="ErrnoError")throw D;return-D.Pa}},v:function(l,d,h,g){try{if(d=d?Je(ue,d):"",d=qa(l,d),0>=g)return-28;var E=Tt(d).node;if(!E)throw new te(44);if(!E.La.readlink)throw new te(28);var D=E.La.readlink(E),H=Math.min(g,ma(D)),me=re[h+H];return tt(D,ue,h,g+1),re[h+H]=me,H}catch(Ae){if(typeof Ye>"u"||Ae.name!=="ErrnoError")throw Ae;return-Ae.Pa}},u:function(l){try{return l=l?Je(ue,l):"",rl(l),0}catch(d){if(typeof Ye>"u"||d.name!=="ErrnoError")throw d;return-d.Pa}},f:function(l,d){try{return l=l?Je(ue,l):"",ka(d,Ea(l))}catch(h){if(typeof Ye>"u"||h.name!=="ErrnoError")throw h;return-h.Pa}},r:function(l,d,h){try{return d=d?Je(ue,d):"",d=qa(l,d),h===0?fi(d):h===512?rl(d):ae("Invalid flags passed to unlinkat"),0}catch(g){if(typeof Ye>"u"||g.name!=="ErrnoError")throw g;return-g.Pa}},q:function(l,d,h){try{d=d?Je(ue,d):"",d=qa(l,d,!0);var g=Date.now(),E,D;if(h){var H=F[h>>2]+4294967296*K[h+4>>2],me=K[h+8>>2];me==1073741823?E=g:me==1073741822?E=null:E=1e3*H+me/1e6,h+=16,H=F[h>>2]+4294967296*K[h+4>>2],me=K[h+8>>2],me==1073741823?D=g:me==1073741822?D=null:D=1e3*H+me/1e6}else D=E=g;if((D??E)!==null){l=E;var Ae=Tt(d,{$a:!0}).node;_a(Ae.La.Ua)(Ae,{atime:l,mtime:D})}return 0}catch(Te){if(typeof Ye>"u"||Te.name!=="ErrnoError")throw Te;return-Te.Pa}},m:()=>ae(""),l:()=>{zn=!1,ll=0},A:function(l,d){l=-9007199254740992>l||9007199254740992<l?NaN:Number(l),l=new Date(1e3*l),K[d>>2]=l.getSeconds(),K[d+4>>2]=l.getMinutes(),K[d+8>>2]=l.getHours(),K[d+12>>2]=l.getDate(),K[d+16>>2]=l.getMonth(),K[d+20>>2]=l.getFullYear()-1900,K[d+24>>2]=l.getDay();var h=l.getFullYear();K[d+28>>2]=(h%4!==0||h%100===0&&h%400!==0?il:kt)[l.getMonth()]+l.getDate()-1|0,K[d+36>>2]=-(60*l.getTimezoneOffset()),h=new Date(l.getFullYear(),6,1).getTimezoneOffset();var g=new Date(l.getFullYear(),0,1).getTimezoneOffset();K[d+32>>2]=(h!=g&&l.getTimezoneOffset()==Math.min(g,h))|0},y:function(l,d,h,g,E,D,H){E=-9007199254740992>E||9007199254740992<E?NaN:Number(E);try{if(isNaN(E))return 61;var me=mt(g);if((d&2)!==0&&(h&2)===0&&(me.flags&2097155)!==2)throw new te(2);if((me.flags&2097155)===1)throw new te(2);if(!me.Ma.ib)throw new te(43);if(!l)throw new te(28);var Ae=me.Ma.ib(me,l,E,d,h),Te=Ae.Kb;return K[D>>2]=Ae.Ab,F[H>>2]=Te,0}catch(Pe){if(typeof Ye>"u"||Pe.name!=="ErrnoError")throw Pe;return-Pe.Pa}},z:function(l,d,h,g,E,D){D=-9007199254740992>D||9007199254740992<D?NaN:Number(D);try{var H=mt(E);if(h&2){if(h=D,(H.node.mode&61440)!==32768)throw new te(43);if(!(g&2)){var me=ue.slice(l,l+d);H.Ma.jb&&H.Ma.jb(H,me,h,d,g)}}}catch(Ae){if(typeof Ye>"u"||Ae.name!=="ErrnoError")throw Ae;return-Ae.Pa}},n:(l,d)=>{if(on[l]&&(clearTimeout(on[l].id),delete on[l]),!d)return 0;var h=setTimeout(()=>{delete on[l],cn(()=>hn(l,performance.now()))},d);return on[l]={id:h,Xb:d},0},B:(l,d,h,g)=>{var E=new Date().getFullYear(),D=new Date(E,0,1).getTimezoneOffset();E=new Date(E,6,1).getTimezoneOffset(),F[l>>2]=60*Math.max(D,E),K[d>>2]=+(D!=E),d=H=>{var me=Math.abs(H);return`UTC${0<=H?"-":"+"}${String(Math.floor(me/60)).padStart(2,"0")}${String(me%60).padStart(2,"0")}`},l=d(D),d=d(E),E<D?(tt(l,ue,h,17),tt(d,ue,g,17)):(tt(l,ue,g,17),tt(d,ue,h,17))},d:()=>Date.now(),s:()=>2147483648,c:()=>performance.now(),o:l=>{var d=ue.length;if(l>>>=0,2147483648<l)return!1;for(var h=1;4>=h;h*=2){var g=d*(1+.2/h);g=Math.min(g,l+100663296);e:{g=(Math.min(2147483648,65536*Math.ceil(Math.max(l,g)/65536))-nt.buffer.byteLength+65535)/65536|0;try{nt.grow(g),Re();var E=1;break e}catch{}E=void 0}if(E)return!0}return!1},E:(l,d)=>{var h=0;return sl().forEach((g,E)=>{var D=d+h;for(E=F[l+4*E>>2]=D,D=0;D<g.length;++D)re[E++]=g.charCodeAt(D);re[E]=0,h+=g.length+1}),0},F:(l,d)=>{var h=sl();F[l>>2]=h.length;var g=0;return h.forEach(E=>g+=E.length+1),F[d>>2]=g,0},e:function(l){try{var d=mt(l);return Sa(d),0}catch(h){if(typeof Ye>"u"||h.name!=="ErrnoError")throw h;return h.Pa}},p:function(l,d){try{var h=mt(l);return re[d]=h.tty?2:st(h.mode)?3:(h.mode&61440)===40960?7:4,he[d+2>>1]=0,q[d+8>>3]=BigInt(0),q[d+16>>3]=BigInt(0),0}catch(g){if(typeof Ye>"u"||g.name!=="ErrnoError")throw g;return g.Pa}},w:function(l,d,h,g){try{e:{var E=mt(l);l=d;for(var D,H=d=0;H<h;H++){var me=F[l>>2],Ae=F[l+4>>2];l+=8;var Te=vr(E,re,me,Ae,D);if(0>Te){var Pe=-1;break e}if(d+=Te,Te<Ae)break;typeof D<"u"&&(D+=Te)}Pe=d}return F[g>>2]=Pe,0}catch(gt){if(typeof Ye>"u"||gt.name!=="ErrnoError")throw gt;return gt.Pa}},D:function(l,d,h,g){d=-9007199254740992>d||9007199254740992<d?NaN:Number(d);try{if(isNaN(d))return 61;var E=mt(l);return gr(E,d,h),q[g>>3]=BigInt(E.position),E.ob&&d===0&&h===0&&(E.ob=null),0}catch(D){if(typeof Ye>"u"||D.name!=="ErrnoError")throw D;return D.Pa}},I:function(l){try{var d=mt(l);return d.Ma?.fsync?d.Ma.fsync(d):0}catch(h){if(typeof Ye>"u"||h.name!=="ErrnoError")throw h;return h.Pa}},t:function(l,d,h,g){try{e:{var E=mt(l);l=d;for(var D,H=d=0;H<h;H++){var me=F[l>>2],Ae=F[l+4>>2];l+=8;var Te=mi(E,re,me,Ae,D);if(0>Te){var Pe=-1;break e}if(d+=Te,Te<Ae)break;typeof D<"u"&&(D+=Te)}Pe=d}return F[g>>2]=Pe,0}catch(gt){if(typeof Ye>"u"||gt.name!=="ErrnoError")throw gt;return gt.Pa}},k:xr},fe;(async function(){function l(h){return fe=h.exports,nt=fe.M,Re(),zt=fe.O,N--,p.monitorRunDependencies?.(N),N==0&&X&&(h=X,X=null,h()),fe}N++,p.monitorRunDependencies?.(N);var d={a:fn};return p.instantiateWasm?new Promise(h=>{p.instantiateWasm(d,(g,E)=>{l(g),h(g.exports)})}):(J??=p.locateFile?p.locateFile("sql-wasm.wasm",$):$+"sql-wasm.wasm",l((await Ne(d)).instance))})(),p._sqlite3_free=l=>(p._sqlite3_free=fe.P)(l),p._sqlite3_value_text=l=>(p._sqlite3_value_text=fe.Q)(l),p._sqlite3_prepare_v2=(l,d,h,g,E)=>(p._sqlite3_prepare_v2=fe.R)(l,d,h,g,E),p._sqlite3_step=l=>(p._sqlite3_step=fe.S)(l),p._sqlite3_reset=l=>(p._sqlite3_reset=fe.T)(l),p._sqlite3_exec=(l,d,h,g,E)=>(p._sqlite3_exec=fe.U)(l,d,h,g,E),p._sqlite3_finalize=l=>(p._sqlite3_finalize=fe.V)(l),p._sqlite3_column_name=(l,d)=>(p._sqlite3_column_name=fe.W)(l,d),p._sqlite3_column_text=(l,d)=>(p._sqlite3_column_text=fe.X)(l,d),p._sqlite3_column_type=(l,d)=>(p._sqlite3_column_type=fe.Y)(l,d),p._sqlite3_errmsg=l=>(p._sqlite3_errmsg=fe.Z)(l),p._sqlite3_clear_bindings=l=>(p._sqlite3_clear_bindings=fe._)(l),p._sqlite3_value_blob=l=>(p._sqlite3_value_blob=fe.$)(l),p._sqlite3_value_bytes=l=>(p._sqlite3_value_bytes=fe.aa)(l),p._sqlite3_value_double=l=>(p._sqlite3_value_double=fe.ba)(l),p._sqlite3_value_int=l=>(p._sqlite3_value_int=fe.ca)(l),p._sqlite3_value_type=l=>(p._sqlite3_value_type=fe.da)(l),p._sqlite3_result_blob=(l,d,h,g)=>(p._sqlite3_result_blob=fe.ea)(l,d,h,g),p._sqlite3_result_double=(l,d)=>(p._sqlite3_result_double=fe.fa)(l,d),p._sqlite3_result_error=(l,d,h)=>(p._sqlite3_result_error=fe.ga)(l,d,h),p._sqlite3_result_int=(l,d)=>(p._sqlite3_result_int=fe.ha)(l,d),p._sqlite3_result_int64=(l,d)=>(p._sqlite3_result_int64=fe.ia)(l,d),p._sqlite3_result_null=l=>(p._sqlite3_result_null=fe.ja)(l),p._sqlite3_result_text=(l,d,h,g)=>(p._sqlite3_result_text=fe.ka)(l,d,h,g),p._sqlite3_aggregate_context=(l,d)=>(p._sqlite3_aggregate_context=fe.la)(l,d),p._sqlite3_column_count=l=>(p._sqlite3_column_count=fe.ma)(l),p._sqlite3_data_count=l=>(p._sqlite3_data_count=fe.na)(l),p._sqlite3_column_blob=(l,d)=>(p._sqlite3_column_blob=fe.oa)(l,d),p._sqlite3_column_bytes=(l,d)=>(p._sqlite3_column_bytes=fe.pa)(l,d),p._sqlite3_column_double=(l,d)=>(p._sqlite3_column_double=fe.qa)(l,d),p._sqlite3_bind_blob=(l,d,h,g,E)=>(p._sqlite3_bind_blob=fe.ra)(l,d,h,g,E),p._sqlite3_bind_double=(l,d,h)=>(p._sqlite3_bind_double=fe.sa)(l,d,h),p._sqlite3_bind_int=(l,d,h)=>(p._sqlite3_bind_int=fe.ta)(l,d,h),p._sqlite3_bind_text=(l,d,h,g,E)=>(p._sqlite3_bind_text=fe.ua)(l,d,h,g,E),p._sqlite3_bind_parameter_index=(l,d)=>(p._sqlite3_bind_parameter_index=fe.va)(l,d),p._sqlite3_sql=l=>(p._sqlite3_sql=fe.wa)(l),p._sqlite3_normalized_sql=l=>(p._sqlite3_normalized_sql=fe.xa)(l),p._sqlite3_changes=l=>(p._sqlite3_changes=fe.ya)(l),p._sqlite3_close_v2=l=>(p._sqlite3_close_v2=fe.za)(l),p._sqlite3_create_function_v2=(l,d,h,g,E,D,H,me,Ae)=>(p._sqlite3_create_function_v2=fe.Aa)(l,d,h,g,E,D,H,me,Ae),p._sqlite3_update_hook=(l,d,h)=>(p._sqlite3_update_hook=fe.Ba)(l,d,h),p._sqlite3_open=(l,d)=>(p._sqlite3_open=fe.Ca)(l,d);var _r=p._malloc=l=>(_r=p._malloc=fe.Da)(l),mn=p._free=l=>(mn=p._free=fe.Ea)(l);p._RegisterExtensionFunctions=l=>(p._RegisterExtensionFunctions=fe.Fa)(l);var cl=(l,d)=>(cl=fe.Ga)(l,d),hn=(l,d)=>(hn=fe.Ha)(l,d),Dt=l=>(Dt=fe.Ia)(l),aa=l=>(aa=fe.Ja)(l),ya=()=>(ya=fe.Ka)();p.stackSave=()=>ya(),p.stackRestore=l=>Dt(l),p.stackAlloc=l=>aa(l),p.cwrap=(l,d,h,g)=>{var E=!h||h.every(D=>D==="number"||D==="boolean");return d!=="string"&&E&&!g?p["_"+l]:(...D)=>pi(l,d,h,D)},p.addFunction=Ba,p.removeFunction=ta,p.UTF8ToString=Ut,p.ALLOC_NORMAL=Vn,p.allocate=dn,p.allocateUTF8OnStack=ul;function na(){function l(){if(p.calledRun=!0,!P){if(!p.noFSInit&&!dr){var d,h;dr=!0,g??=p.stdin,d??=p.stdout,h??=p.stderr,g?ut("stdin",g):pr("/dev/tty","/dev/stdin"),d?ut("stdout",null,d):pr("/dev/tty","/dev/stdout"),h?ut("stderr",null,h):pr("/dev/tty1","/dev/stderr"),Ua("/dev/stdin",0),Ua("/dev/stdout",1),Ua("/dev/stderr",1)}if(fe.N(),rn=!1,p.onRuntimeInitialized?.(),p.postRun)for(typeof p.postRun=="function"&&(p.postRun=[p.postRun]);p.postRun.length;){var g=p.postRun.shift();fa.unshift(g)}He(fa)}}if(0<N)X=na;else{if(p.preRun)for(typeof p.preRun=="function"&&(p.preRun=[p.preRun]);p.preRun.length;)ur();He(sr),0<N?X=na:p.setStatus?(p.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>p.setStatus(""),1),l()},1)):l()}}if(p.preInit)for(typeof p.preInit=="function"&&(p.preInit=[p.preInit]);0<p.preInit.length;)p.preInit.pop()();return na(),U}),c)};s.exports=f,s.exports.default=f})(Xo)),Xo.exports}var Z0=X0();const W0=ep(Z0);class ap{constructor(){this.SQL=null,this.db=null,this.columnTypes={},this.isInitialized=!1}async initialize(){if(!this.isInitialized)try{this.SQL=await W0({locateFile:u=>(console.log("SQLite requesting file:",u),u.endsWith(".wasm")?"./sql-wasm.wasm":"./sql-wasm.js")}),this.db=new this.SQL.Database,this.isInitialized=!0}catch(u){throw console.error("Failed to initialize SQL.js:",u),new Error("Failed to initialize SQLite engine")}}setColumnTypes(u){this.columnTypes=u||{}}async setData(u){if(this.isInitialized||await this.initialize(),!(!u||u.length===0))try{this.db.run("DROP TABLE IF EXISTS transactions");const c=Object.keys(u[0]),v=`CREATE TABLE transactions (${c.map(w=>{const j=this.columnTypes[w]||"text";let b="TEXT";switch(j){case"integer":b="INTEGER";break;case"decimal":case"currency":case"percentage":b="REAL";break;case"boolean":b="INTEGER";break;case"date":case"datetime":b="TEXT";break;default:b="TEXT"}return`${w} ${b}`}).join(", ")})`;this.db.run(v);const _=c.map(()=>"?").join(", "),M=`INSERT INTO transactions (${c.join(", ")}) VALUES (${_})`,U=this.db.prepare(M),A=1e3,p=u.length;console.log(`Inserting ${p} rows in batches of ${A}...`),this.db.run("BEGIN TRANSACTION");for(let w=0;w<p;w+=A){const j=u.slice(w,w+A);for(const b of j){const Y=c.map(B=>{const W=b[B],$=this.columnTypes[B]||"text";if(W==null||W==="")return null;switch($){case"integer":const pe=parseInt(W);return isNaN(pe)?null:pe;case"decimal":case"currency":case"percentage":const ye=parseFloat(W);return isNaN(ye)?null:ye;case"boolean":return W==="1"||W===1||W===!0||W==="true"?1:W==="0"||W===0||W===!1||W==="false"?0:null;default:return String(W)}});U.run(Y)}(w+A)%5e3===0&&w+A<p&&(this.db.run("COMMIT"),this.db.run("BEGIN TRANSACTION"),console.log(`Processed ${w+A}/${p} rows...`))}this.db.run("COMMIT"),console.log(`Successfully inserted ${p} rows into SQLite database`),U.free(),this.createIndexes(c)}catch(c){throw this.db.run("ROLLBACK"),console.error("Failed to load data into SQLite:",c),new Error(`Failed to load data: ${c.message}`)}}createIndexes(u){["user_id","txn_date_time","merchant_id","fraud","decline","outcome"].forEach(f=>{if(u.includes(f))try{this.db.run(`CREATE INDEX IF NOT EXISTS idx_${f} ON transactions(${f})`)}catch(v){console.warn(`Failed to create index on ${f}:`,v.message)}})}execute(u){if(!this.isInitialized||!this.db)return{success:!1,error:"Database not initialized",data:[],rowCount:0};try{const c=u.trim();if(!c.toLowerCase().startsWith("select"))throw new Error("Only SELECT queries are supported");const f=this.db.prepare(c),v=[];for(;f.step();){const _=f.getAsObject();v.push(_)}return f.free(),{success:!0,data:v,rowCount:v.length}}catch(c){return console.error("SQL execution error:",c),{success:!1,error:c.message,data:[],rowCount:0}}}getTableInfo(){if(!this.isInitialized||!this.db)return[];try{const u=this.db.prepare("PRAGMA table_info(transactions)"),c=[];for(;u.step();){const f=u.getAsObject();c.push({name:f.name,type:f.type,nullable:!f.notnull,defaultValue:f.dflt_value})}return u.free(),c}catch(u){return console.error("Failed to get table info:",u),[]}}getStats(){if(!this.isInitialized||!this.db)return{rowCount:0,columns:[]};try{const u=this.db.prepare("SELECT COUNT(*) as count FROM transactions");u.step();const c=u.getAsObject().count;u.free();const f=this.getTableInfo().map(v=>v.name);return{rowCount:c,columns:f}}catch(u){return console.error("Failed to get database stats:",u),{rowCount:0,columns:[]}}}close(){this.db&&(this.db.close(),this.db=null),this.isInitialized=!1}}const ir=new ap,wc=Object.freeze(Object.defineProperty({__proto__:null,SQLiteEngine:ap,sqliteEngine:ir},Symbol.toStringTag,{value:"Module"}));class K0{constructor(u){this.sqlEngine=u}generateStateQuery(u,c,f,v,_){switch(u){case"window_sum":return _?`SUM(${c}) OVER (PARTITION BY ${_} ORDER BY txn_date_time RANGE BETWEEN INTERVAL ${v||7} DAY PRECEDING AND CURRENT ROW)`:`SUM(${c}) OVER (ORDER BY txn_date_time RANGE BETWEEN INTERVAL ${v||7} DAY PRECEDING AND CURRENT ROW)`;case"window_avg":return _?`AVG(${c}) OVER (PARTITION BY ${_} ORDER BY txn_date_time RANGE BETWEEN INTERVAL ${v||7} DAY PRECEDING AND CURRENT ROW)`:`AVG(${c}) OVER (ORDER BY txn_date_time RANGE BETWEEN INTERVAL ${v||7} DAY PRECEDING AND CURRENT ROW)`;case"window_count":return _?`COUNT(*) OVER (PARTITION BY ${_} ORDER BY txn_date_time RANGE BETWEEN INTERVAL ${v||7} DAY PRECEDING AND CURRENT ROW)`:`COUNT(*) OVER (ORDER BY txn_date_time RANGE BETWEEN INTERVAL ${v||7} DAY PRECEDING AND CURRENT ROW)`;case"running_total":return _?`SUM(${c}) OVER (PARTITION BY ${_} ORDER BY txn_date_time)`:`SUM(${c}) OVER (ORDER BY txn_date_time)`;case"rank":return _?`RANK() OVER (PARTITION BY ${_} ORDER BY ${c} DESC)`:`RANK() OVER (ORDER BY ${c} DESC)`;case"lag":return _?`LAG(${c}, 1) OVER (PARTITION BY ${_} ORDER BY txn_date_time)`:`LAG(${c}, 1) OVER (ORDER BY txn_date_time)`;case"row_number":return _?`ROW_NUMBER() OVER (PARTITION BY ${_} ORDER BY txn_date_time)`:"ROW_NUMBER() OVER (ORDER BY txn_date_time)";default:return"COUNT(*) OVER ()"}}computeWindowValues(u,c){const f=[...u].sort((_,M)=>new Date(_.txn_date_time)-new Date(M.txn_date_time)),v=new Map;return f.forEach((_,M)=>{let U;const A=new Date(_.txn_date_time);switch(c.computationType){case"window_sum":case"window_avg":case"window_count":const p=new Date(A);p.setDate(p.getDate()-(c.windowDays||7));let w=f.filter($=>{const pe=new Date($.txn_date_time),ye=c.groupBy?$[c.groupBy]===_[c.groupBy]:!0,se=pe>=p&&pe<=A;return ye&&se});if(c.computationType==="window_sum")U=w.reduce(($,pe)=>$+(parseFloat(pe[c.field])||0),0);else if(c.computationType==="window_avg"){const $=w.reduce((pe,ye)=>pe+(parseFloat(ye[c.field])||0),0);U=w.length>0?$/w.length:0}else c.computationType==="window_count"&&(U=w.length);break;case"running_total":let j=f.slice(0,M+1);c.groupBy&&(j=j.filter($=>$[c.groupBy]===_[c.groupBy])),U=j.reduce(($,pe)=>$+(parseFloat(pe[c.field])||0),0);break;case"rank":let b=c.groupBy?f.filter($=>$[c.groupBy]===_[c.groupBy]):f;b.sort(($,pe)=>(parseFloat(pe[c.field])||0)-(parseFloat($[c.field])||0)),U=b.findIndex($=>$===_)+1;break;case"lag":let Y=c.groupBy?f.filter($=>$[c.groupBy]===_[c.groupBy]):f;const B=Y.indexOf(_);U=B>0?parseFloat(Y[B-1][c.field])||0:null;break;case"row_number":U=(c.groupBy?f.filter($=>$[c.groupBy]===_[c.groupBy]):f).indexOf(_)+1;break;default:U=0}v.set(_,U)}),v}async executeStateQuery(u,c){if(console.log("executeStateQuery called with state:",c.name,"data rows:",u.length),!this.sqlEngine||!this.sqlEngine.isInitialized)throw new Error("SQL engine not initialized");if(c.query&&c.query.startsWith("(SELECT")){console.log("Processing SQL subquery state:",c.query);const f=new Map,v=100;for(let _=0;_<u.length;_+=v){const M=Math.min(_+v,u.length);console.log(`Processing batch ${_} to ${M}`);for(let U=_;U<M;U++){const A=u[U];let p;c.name==="merchant_country_risk"?p=`SELECT AVG(CASE WHEN fraud = 1 THEN 1.0 ELSE 0.0 END) as fraud_rate FROM transactions WHERE merchant_country = '${A.merchant_country}'`:p=c.query.replace(/transactions\.user_id/g,`'${A.user_id}'`).replace(/transactions\.merchant_id/g,`'${A.merchant_id}'`).replace(/transactions\.merchant_country/g,`'${A.merchant_country}'`).slice(1,-1);const w=this.sqlEngine.execute(p);if(w.success&&w.data.length>0){const j=Object.values(w.data[0])[0];f.set(A,j||0)}else console.warn(`Query failed for row ${U}:`,w.error),f.set(A,0)}}return console.log("Computed values for",f.size,"rows"),f}else return console.log("Using window functions approach for state:",c.name),this.computeWindowValues(u,c)}async persistStateToDataset(u,c){const f=await this.executeStateQuery(u,c),v=u.map(M=>({...M,[c.name]:f.get(M)||0})),_=Array.from(f.values()).slice(0,5);return console.log(`Sample computed values for ${c.name}:`,_),console.log(`Unique values for ${c.name}:`,[...new Set(_)]),v}validateState(u){const c=[];return(!u.name||u.name.trim()==="")&&c.push("State name is required"),(!u.description||u.description.trim()==="")&&c.push("State description is required"),["window_sum","window_avg","running_total","rank","lag"].includes(u.computationType)&&!u.field&&c.push("Field is required for this computation type"),["window_sum","window_avg","window_count"].includes(u.computationType)&&(!u.windowDays||u.windowDays<1)&&c.push("Window size must be at least 1 day"),{valid:c.length===0,errors:c}}getAvailableFields(u){return u.length===0?[]:Object.keys(u[0]).filter(c=>{const f=u.slice(0,10).map(_=>_[c]).filter(_=>_!=="");return f.filter(_=>!isNaN(parseFloat(_))&&isFinite(_)).length/f.length>.5})}getGroupingFields(u){return u.length===0?[]:Object.keys(u[0]).filter(c=>{const f=new Set(u.slice(0,100).map(v=>v[c]));return f.size>1&&f.size<50})}}let ni=null;function Km(s){return ni=new K0(s),ni}function Ss(){const{state:s,dispatch:u,ActionTypes:c}=Mt(),f=S.useRef(!1),v=S.useRef(!1),_=S.useRef(!1),M=S.useCallback(async p=>{const w=s.cells.find(j=>j.id===p);if(w&&w.type==="state"&&w.states&&s.csvData.length>0){const j=Date.now();try{if(ni||(console.log("Initializing computedStatesService"),Km(ir)),!ni)throw new Error("computedStatesService could not be initialized");console.log("Executing state cell with",w.states.length,"states");let b=s.csvData;for(const B of w.states)B.persistent&&(console.log(`Computing and persisting state: ${B.name}`,B),b=await ni.persistStateToDataset(b,B),console.log("State applied, data now has",Object.keys(b[0]||{}).length,"columns"),await ir.setData(b),u({type:c.SET_CSV_DATA,payload:b}));const Y=`${((Date.now()-j)/1e3).toFixed(1)}s`;u({type:c.EXECUTE_CELL,payload:{cellId:p,success:!0,executionTime:Y,results:[],rowCount:0}})}catch(b){console.error("Failed to execute state cell:",b);const Y=`${((Date.now()-j)/1e3).toFixed(1)}s`;u({type:c.EXECUTE_CELL,payload:{cellId:p,success:!1,executionTime:Y,error:b.message}})}}},[s.cells,s.csvData,u,c]),U=S.useCallback(async p=>{const w=s.cells.find(j=>j.id===p);if(w&&(w.type==="data"||w.type==="chart")&&w.query&&s.csvData.length>0){console.log(`Executing ${w.type} cell ${p}: ${w.title}`),console.log("Query:",w.query);const j=Date.now(),b=ir.execute(w.query),Y=`${((Date.now()-j)/1e3).toFixed(1)}s`;if(console.log("Query result:",b.success,"rows:",b.data?.length),b.success){const B=b.data.length>0?Object.keys(b.data[0]):[];u({type:c.EXECUTE_CELL,payload:{cellId:p,success:!0,executionTime:Y,results:b.data,rowCount:b.rowCount,columns:B,visibleColumns:B}})}else u({type:c.EXECUTE_CELL,payload:{cellId:p,success:!1,executionTime:Y,error:b.error}})}else w&&w.type==="state"&&await M(p)},[s.cells,s.csvData,u,c,M]);S.useEffect(()=>{s.csvData.length===0&&!v.current&&!_.current&&(console.log("Initiating CSV data load..."),A())},[]),S.useEffect(()=>{console.log("useEffect triggered - csvData.length:",s.csvData.length,"hasAutoExecuted:",f.current),(async()=>{if(console.log("executeCellsSequentially called"),s.csvData.length>0&&!f.current&&!v.current){console.log("Starting auto-execution process"),f.current=!0,console.log("Total cells found:",s.cells.length),console.log("Cell types:",s.cells.map(B=>`${B.id}:${B.type}`));const w=s.cells.filter(B=>B.type==="state"&&B.states&&B.states.some(W=>W.persistent)),j=s.cells.filter(B=>B.type==="data"&&(!B.queryResults||B.queryResults.length===0)&&B.query),b=s.cells.filter(B=>B.type==="chart"&&(!B.queryResults||B.queryResults.length===0)&&B.query);if(console.log("Auto-executing state cells:",w.length),console.log("Auto-executing data cells:",j.length),console.log("Auto-executing chart cells:",b.length),w.length===0&&console.log("No state cells found! Available cells:",s.cells.map(B=>({id:B.id,type:B.type,title:B.title,hasStates:!!B.states}))),w.length>0){console.log("Will execute state cells:",w.map(B=>`${B.id}: ${B.title}`));for(const B of w)console.log(`Executing state cell ${B.id}: ${B.title}`),await M(B.id),await new Promise(W=>setTimeout(W,100));console.log("All state cells completed, now executing data cells")}const Y=[...j,...b];if(Y.length>0)for(const B of Y)U(B.id),await new Promise(W=>setTimeout(W,50))}})()},[s.csvData.length]);const A=S.useCallback(async()=>{if(v.current||_.current){console.log("CSV loading already in progress or completed, skipping...");return}v.current=!0,u({type:c.SET_LOADING,payload:!0});const p=Date.now(),w=1e3;try{const j=await Y0.loadCSV("./data.csv",25e3);if(j.success){await ir.setColumnTypes(j.columnTypes),await ir.setData(j.data),Km(ir);const b=Date.now()-p,Y=Math.max(0,w-b);Y>0&&await new Promise(B=>setTimeout(B,Y)),u({type:c.SET_CSV_DATA,payload:j.data}),j.columnTypes&&u({type:c.SET_COLUMN_TYPES,payload:j.columnTypes}),_.current=!0,console.log("CSV data loaded successfully:",j.data.length,"rows")}else console.error("Failed to load CSV:",j.error)}catch(j){console.error("Error loading CSV data:",j)}finally{v.current=!1,u({type:c.SET_LOADING,payload:!1})}},[u,c]);return{loading:s.loading,csvData:s.csvData,executeCell:U,reloadData:A}}const Ze=Sc.createContext({});var J0=Object.defineProperty,Jm=Object.getOwnPropertySymbols,F0=Object.prototype.hasOwnProperty,P0=Object.prototype.propertyIsEnumerable,Fm=(s,u,c)=>u in s?J0(s,u,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[u]=c,Zo=(s,u)=>{for(var c in u||(u={}))F0.call(u,c)&&Fm(s,c,u[c]);if(Jm)for(var c of Jm(u))P0.call(u,c)&&Fm(s,c,u[c]);return s};const ey=(s,u)=>{const c=S.useContext(Ze),f=Zo(Zo({},c),s);return S.createElement("svg",Zo({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:u},f),S.createElement("path",{d:"M7 14C5.34315 14 4 15.3431 4 17C4 18.6569 5.34315 20 7 20C7.35064 20 7.68722 19.9398 8 19.8293",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M4.26392 15.6046C2.9243 14.9582 2.00004 13.587 2.00004 12C2.00004 10.7883 2.53877 9.70251 3.38978 8.96898",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M3.42053 8.8882C3.1549 8.49109 3 8.01363 3 7.5C3 6.11929 4.11929 5 5.5 5C6.06291 5 6.58237 5.18604 7.00024 5.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M7.23769 5.56533C7.08524 5.24215 7 4.88103 7 4.5C7 3.11929 8.11929 2 9.5 2C10.8807 2 12 3.11929 12 4.5V20",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M8 20C8 21.1046 8.89543 22 10 22C11.1046 22 12 21.1046 12 20",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M12 7C12 8.65685 13.3431 10 15 10",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M17 14C18.6569 14 20 15.3431 20 17C20 18.6569 18.6569 20 17 20C16.6494 20 16.3128 19.9398 16 19.8293",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M19.7361 15.6046C21.0757 14.9582 22 13.587 22 12C22 10.7883 21.4612 9.70251 20.6102 8.96898",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M20.5795 8.8882C20.8451 8.49109 21 8.01363 21 7.5C21 6.11929 19.8807 5 18.5 5C17.9371 5 17.4176 5.18604 16.9998 5.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M12 4.5C12 3.11929 13.1193 2 14.5 2C15.8807 2 17 3.11929 17 4.5C17 4.88103 16.9148 5.24215 16.7623 5.56533",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M16 20C16 21.1046 15.1046 22 14 22C12.8954 22 12 21.1046 12 20",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},ty=S.forwardRef(ey);var ay=ty,ny=Object.defineProperty,Pm=Object.getOwnPropertySymbols,ry=Object.prototype.hasOwnProperty,ly=Object.prototype.propertyIsEnumerable,eh=(s,u,c)=>u in s?ny(s,u,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[u]=c,Wo=(s,u)=>{for(var c in u||(u={}))ry.call(u,c)&&eh(s,c,u[c]);if(Pm)for(var c of Pm(u))ly.call(u,c)&&eh(s,c,u[c]);return s};const iy=(s,u)=>{const c=S.useContext(Ze),f=Wo(Wo({},c),s);return S.createElement("svg",Wo({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:u},f),S.createElement("path",{d:"M5 16V14",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M12 21V19",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M19 13V11",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M5 8V6",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M12 13V11",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M19 5V3",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M7 8.6V13.4C7 13.7314 6.73137 14 6.4 14H3.6C3.26863 14 3 13.7314 3 13.4V8.6C3 8.26863 3.26863 8 3.6 8H6.4C6.73137 8 7 8.26863 7 8.6Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M14 13.6V18.4C14 18.7314 13.7314 19 13.4 19H10.6C10.2686 19 10 18.7314 10 18.4V13.6C10 13.2686 10.2686 13 10.6 13H13.4C13.7314 13 14 13.2686 14 13.6Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M21 5.6V10.4C21 10.7314 20.7314 11 20.4 11H17.6C17.2686 11 17 10.7314 17 10.4V5.6C17 5.26863 17.2686 5 17.6 5H20.4C20.7314 5 21 5.26863 21 5.6Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},sy=S.forwardRef(iy);var uy=sy,oy=Object.defineProperty,th=Object.getOwnPropertySymbols,cy=Object.prototype.hasOwnProperty,dy=Object.prototype.propertyIsEnumerable,ah=(s,u,c)=>u in s?oy(s,u,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[u]=c,Ko=(s,u)=>{for(var c in u||(u={}))cy.call(u,c)&&ah(s,c,u[c]);if(th)for(var c of th(u))dy.call(u,c)&&ah(s,c,u[c]);return s};const fy=(s,u)=>{const c=S.useContext(Ze),f=Ko(Ko({},c),s);return S.createElement("svg",Ko({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:u},f),S.createElement("path",{d:"M17 12.5C17.2761 12.5 17.5 12.2761 17.5 12C17.5 11.7239 17.2761 11.5 17 11.5C16.7239 11.5 16.5 11.7239 16.5 12C16.5 12.2761 16.7239 12.5 17 12.5Z",fill:"currentColor",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M12 12.5C12.2761 12.5 12.5 12.2761 12.5 12C12.5 11.7239 12.2761 11.5 12 11.5C11.7239 11.5 11.5 11.7239 11.5 12C11.5 12.2761 11.7239 12.5 12 12.5Z",fill:"currentColor",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M7 12.5C7.27614 12.5 7.5 12.2761 7.5 12C7.5 11.7239 7.27614 11.5 7 11.5C6.72386 11.5 6.5 11.7239 6.5 12C6.5 12.2761 6.72386 12.5 7 12.5Z",fill:"currentColor",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 13.8214 2.48697 15.5291 3.33782 17L2.5 21.5L7 20.6622C8.47087 21.513 10.1786 22 12 22Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},my=S.forwardRef(fy);var hy=my,py=Object.defineProperty,nh=Object.getOwnPropertySymbols,yy=Object.prototype.hasOwnProperty,gy=Object.prototype.propertyIsEnumerable,rh=(s,u,c)=>u in s?py(s,u,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[u]=c,Jo=(s,u)=>{for(var c in u||(u={}))yy.call(u,c)&&rh(s,c,u[c]);if(nh)for(var c of nh(u))gy.call(u,c)&&rh(s,c,u[c]);return s};const vy=(s,u)=>{const c=S.useContext(Ze),f=Jo(Jo({},c),s);return S.createElement("svg",Jo({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:u},f),S.createElement("path",{d:"M7 12.5L10 15.5L17 8.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},xy=S.forwardRef(vy);var by=xy,_y=Object.defineProperty,lh=Object.getOwnPropertySymbols,Ey=Object.prototype.hasOwnProperty,Sy=Object.prototype.propertyIsEnumerable,ih=(s,u,c)=>u in s?_y(s,u,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[u]=c,Fo=(s,u)=>{for(var c in u||(u={}))Ey.call(u,c)&&ih(s,c,u[c]);if(lh)for(var c of lh(u))Sy.call(u,c)&&ih(s,c,u[c]);return s};const Ny=(s,u)=>{const c=S.useContext(Ze),f=Fo(Fo({},c),s);return S.createElement("svg",Fo({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:u},f),S.createElement("path",{d:"M12 6L12 12L18 12",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},wy=S.forwardRef(Ny);var Cy=wy,Ty=Object.defineProperty,sh=Object.getOwnPropertySymbols,Ay=Object.prototype.hasOwnProperty,jy=Object.prototype.propertyIsEnumerable,uh=(s,u,c)=>u in s?Ty(s,u,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[u]=c,Po=(s,u)=>{for(var c in u||(u={}))Ay.call(u,c)&&uh(s,c,u[c]);if(sh)for(var c of sh(u))jy.call(u,c)&&uh(s,c,u[c]);return s};const Oy=(s,u)=>{const c=S.useContext(Ze),f=Po(Po({},c),s);return S.createElement("svg",Po({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:u},f),S.createElement("path",{d:"M19.4 20H9.6C9.26863 20 9 19.7314 9 19.4V9.6C9 9.26863 9.26863 9 9.6 9H19.4C19.7314 9 20 9.26863 20 9.6V19.4C20 19.7314 19.7314 20 19.4 20Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M15 9V4.6C15 4.26863 14.7314 4 14.4 4H4.6C4.26863 4 4 4.26863 4 4.6V14.4C4 14.7314 4.26863 15 4.6 15H9",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},Ry=S.forwardRef(Oy);var Dy=Ry,Ly=Object.defineProperty,oh=Object.getOwnPropertySymbols,My=Object.prototype.hasOwnProperty,Uy=Object.prototype.propertyIsEnumerable,ch=(s,u,c)=>u in s?Ly(s,u,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[u]=c,ec=(s,u)=>{for(var c in u||(u={}))My.call(u,c)&&ch(s,c,u[c]);if(oh)for(var c of oh(u))Uy.call(u,c)&&ch(s,c,u[c]);return s};const qy=(s,u)=>{const c=S.useContext(Ze),f=ec(ec({},c),s);return S.createElement("svg",ec({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:u},f),S.createElement("path",{d:"M4 6V12C4 12 4 15 11 15C18 15 18 12 18 12V6",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M11 3C18 3 18 6 18 6C18 6 18 9 11 9C4 9 4 6 4 6C4 6 4 3 11 3Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M11 21C4 21 4 18 4 18V12",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M15 21V19",stroke:"currentColor",strokeLinecap:"round"}),S.createElement("path",{d:"M18 21V17",stroke:"currentColor",strokeLinecap:"round"}),S.createElement("path",{d:"M21 21V15",stroke:"currentColor",strokeLinecap:"round"}))},ky=S.forwardRef(qy);var zy=ky,Hy=Object.defineProperty,dh=Object.getOwnPropertySymbols,By=Object.prototype.hasOwnProperty,Gy=Object.prototype.propertyIsEnumerable,fh=(s,u,c)=>u in s?Hy(s,u,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[u]=c,tc=(s,u)=>{for(var c in u||(u={}))By.call(u,c)&&fh(s,c,u[c]);if(dh)for(var c of dh(u))Gy.call(u,c)&&fh(s,c,u[c]);return s};const Vy=(s,u)=>{const c=S.useContext(Ze),f=tc(tc({},c),s);return S.createElement("svg",tc({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:u},f),S.createElement("path",{d:"M6 20L18 20",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M12 4V16M12 16L15.5 12.5M12 16L8.5 12.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},$y=S.forwardRef(Vy);var Yy=$y,Iy=Object.defineProperty,mh=Object.getOwnPropertySymbols,Qy=Object.prototype.hasOwnProperty,Xy=Object.prototype.propertyIsEnumerable,hh=(s,u,c)=>u in s?Iy(s,u,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[u]=c,ac=(s,u)=>{for(var c in u||(u={}))Qy.call(u,c)&&hh(s,c,u[c]);if(mh)for(var c of mh(u))Xy.call(u,c)&&hh(s,c,u[c]);return s};const Zy=(s,u)=>{const c=S.useContext(Ze),f=ac(ac({},c),s);return S.createElement("svg",ac({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:u},f),S.createElement("path",{d:"M14.3632 5.65156L15.8431 4.17157C16.6242 3.39052 17.8905 3.39052 18.6716 4.17157L20.0858 5.58579C20.8668 6.36683 20.8668 7.63316 20.0858 8.41421L18.6058 9.8942M14.3632 5.65156L4.74749 15.2672C4.41542 15.5993 4.21079 16.0376 4.16947 16.5054L3.92738 19.2459C3.87261 19.8659 4.39148 20.3848 5.0115 20.33L7.75191 20.0879C8.21972 20.0466 8.65806 19.8419 8.99013 19.5099L18.6058 9.8942M14.3632 5.65156L18.6058 9.8942",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},Wy=S.forwardRef(Zy);var Ky=Wy,Jy=Object.defineProperty,ph=Object.getOwnPropertySymbols,Fy=Object.prototype.hasOwnProperty,Py=Object.prototype.propertyIsEnumerable,yh=(s,u,c)=>u in s?Jy(s,u,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[u]=c,nc=(s,u)=>{for(var c in u||(u={}))Fy.call(u,c)&&yh(s,c,u[c]);if(ph)for(var c of ph(u))Py.call(u,c)&&yh(s,c,u[c]);return s};const eg=(s,u)=>{const c=S.useContext(Ze),f=nc(nc({},c),s);return S.createElement("svg",nc({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:u},f),S.createElement("path",{d:"M19.5 16L17.0248 12.6038",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M12 17.5V14",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M4.5 16L6.96895 12.6124",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M3 8C6.6 16 17.4 16 21 8",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},tg=S.forwardRef(eg);var ag=tg,ng=Object.defineProperty,gh=Object.getOwnPropertySymbols,rg=Object.prototype.hasOwnProperty,lg=Object.prototype.propertyIsEnumerable,vh=(s,u,c)=>u in s?ng(s,u,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[u]=c,rc=(s,u)=>{for(var c in u||(u={}))rg.call(u,c)&&vh(s,c,u[c]);if(gh)for(var c of gh(u))lg.call(u,c)&&vh(s,c,u[c]);return s};const ig=(s,u)=>{const c=S.useContext(Ze),f=rc(rc({},c),s);return S.createElement("svg",rc({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:u},f),S.createElement("path",{d:"M3 13C6.6 5 17.4 5 21 13",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M12 17C10.3431 17 9 15.6569 9 14C9 12.3431 10.3431 11 12 11C13.6569 11 15 12.3431 15 14C15 15.6569 13.6569 17 12 17Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},sg=S.forwardRef(ig);var ug=sg,og=Object.defineProperty,xh=Object.getOwnPropertySymbols,cg=Object.prototype.hasOwnProperty,dg=Object.prototype.propertyIsEnumerable,bh=(s,u,c)=>u in s?og(s,u,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[u]=c,lc=(s,u)=>{for(var c in u||(u={}))cg.call(u,c)&&bh(s,c,u[c]);if(xh)for(var c of xh(u))dg.call(u,c)&&bh(s,c,u[c]);return s};const fg=(s,u)=>{const c=S.useContext(Ze),f=lc(lc({},c),s);return S.createElement("svg",lc({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:u},f),S.createElement("path",{d:"M12 8L12 12",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M12 16.01L12.01 15.9989",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M9 3H4V6",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M4 11V13",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M20 11V13",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M15 3H20V6",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M9 21H4V18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M15 21H20V18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},mg=S.forwardRef(fg);var hg=mg,pg=Object.defineProperty,_h=Object.getOwnPropertySymbols,yg=Object.prototype.hasOwnProperty,gg=Object.prototype.propertyIsEnumerable,Eh=(s,u,c)=>u in s?pg(s,u,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[u]=c,ic=(s,u)=>{for(var c in u||(u={}))yg.call(u,c)&&Eh(s,c,u[c]);if(_h)for(var c of _h(u))gg.call(u,c)&&Eh(s,c,u[c]);return s};const vg=(s,u)=>{const c=S.useContext(Ze),f=ic(ic({},c),s);return S.createElement("svg",ic({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:u},f),S.createElement("path",{d:"M3 19V5C3 3.89543 3.89543 3 5 3H16.1716C16.702 3 17.2107 3.21071 17.5858 3.58579L20.4142 6.41421C20.7893 6.78929 21 7.29799 21 7.82843V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19Z",stroke:"currentColor"}),S.createElement("path",{d:"M8.6 9H15.4C15.7314 9 16 8.73137 16 8.4V3.6C16 3.26863 15.7314 3 15.4 3H8.6C8.26863 3 8 3.26863 8 3.6V8.4C8 8.73137 8.26863 9 8.6 9Z",stroke:"currentColor"}),S.createElement("path",{d:"M6 13.6V21H18V13.6C18 13.2686 17.7314 13 17.4 13H6.6C6.26863 13 6 13.2686 6 13.6Z",stroke:"currentColor"}))},xg=S.forwardRef(vg);var bg=xg,_g=Object.defineProperty,Sh=Object.getOwnPropertySymbols,Eg=Object.prototype.hasOwnProperty,Sg=Object.prototype.propertyIsEnumerable,Nh=(s,u,c)=>u in s?_g(s,u,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[u]=c,sc=(s,u)=>{for(var c in u||(u={}))Eg.call(u,c)&&Nh(s,c,u[c]);if(Sh)for(var c of Sh(u))Sg.call(u,c)&&Nh(s,c,u[c]);return s};const Ng=(s,u)=>{const c=S.useContext(Ze),f=sc(sc({},c),s);return S.createElement("svg",sc({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:u},f),S.createElement("path",{d:"M2 11V4.6C2 4.26863 2.26863 4 2.6 4H8.77805C8.92127 4 9.05977 4.05124 9.16852 4.14445L12.3315 6.85555C12.4402 6.94876 12.5787 7 12.722 7H21.4C21.7314 7 22 7.26863 22 7.6V11M2 11V19.4C2 19.7314 2.26863 20 2.6 20H21.4C21.7314 20 22 19.7314 22 19.4V11M2 11H22",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},wg=S.forwardRef(Ng);var Cg=wg,Tg=Object.defineProperty,wh=Object.getOwnPropertySymbols,Ag=Object.prototype.hasOwnProperty,jg=Object.prototype.propertyIsEnumerable,Ch=(s,u,c)=>u in s?Tg(s,u,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[u]=c,uc=(s,u)=>{for(var c in u||(u={}))Ag.call(u,c)&&Ch(s,c,u[c]);if(wh)for(var c of wh(u))jg.call(u,c)&&Ch(s,c,u[c]);return s};const Og=(s,u)=>{const c=S.useContext(Ze),f=uc(uc({},c),s);return S.createElement("svg",uc({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:u},f),S.createElement("path",{d:"M2 8L11.7317 3.13416C11.9006 3.04971 12.0994 3.0497 12.2683 3.13416L22 8",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M20 11V19C20 20.1046 19.1046 21 18 21H6C4.89543 21 4 20.1046 4 19V11",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},Rg=S.forwardRef(Og);var Dg=Rg,Lg=Object.defineProperty,Th=Object.getOwnPropertySymbols,Mg=Object.prototype.hasOwnProperty,Ug=Object.prototype.propertyIsEnumerable,Ah=(s,u,c)=>u in s?Lg(s,u,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[u]=c,oc=(s,u)=>{for(var c in u||(u={}))Mg.call(u,c)&&Ah(s,c,u[c]);if(Th)for(var c of Th(u))Ug.call(u,c)&&Ah(s,c,u[c]);return s};const qg=(s,u)=>{const c=S.useContext(Ze),f=oc(oc({},c),s);return S.createElement("svg",oc({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:u},f),S.createElement("path",{d:"M12 11.5V16.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M12 7.51L12.01 7.49889",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},kg=S.forwardRef(qg);var zg=kg,Hg=Object.defineProperty,jh=Object.getOwnPropertySymbols,Bg=Object.prototype.hasOwnProperty,Gg=Object.prototype.propertyIsEnumerable,Oh=(s,u,c)=>u in s?Hg(s,u,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[u]=c,cc=(s,u)=>{for(var c in u||(u={}))Bg.call(u,c)&&Oh(s,c,u[c]);if(jh)for(var c of jh(u))Gg.call(u,c)&&Oh(s,c,u[c]);return s};const Vg=(s,u)=>{const c=S.useContext(Ze),f=cc(cc({},c),s);return S.createElement("svg",cc({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:u},f),S.createElement("path",{d:"M3 21L13 11M18 6L15.5 8.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M9.5 2L10.4453 4.55468L13 5.5L10.4453 6.44532L9.5 9L8.55468 6.44532L6 5.5L8.55468 4.55468L9.5 2Z",stroke:"currentColor",strokeLinejoin:"round"}),S.createElement("path",{d:"M19 10L19.5402 11.4598L21 12L19.5402 12.5402L19 14L18.4598 12.5402L17 12L18.4598 11.4598L19 10Z",stroke:"currentColor",strokeLinejoin:"round"}))},$g=S.forwardRef(Vg);var Yg=$g,Ig=Object.defineProperty,Rh=Object.getOwnPropertySymbols,Qg=Object.prototype.hasOwnProperty,Xg=Object.prototype.propertyIsEnumerable,Dh=(s,u,c)=>u in s?Ig(s,u,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[u]=c,dc=(s,u)=>{for(var c in u||(u={}))Qg.call(u,c)&&Dh(s,c,u[c]);if(Rh)for(var c of Rh(u))Xg.call(u,c)&&Dh(s,c,u[c]);return s};const Zg=(s,u)=>{const c=S.useContext(Ze),f=dc(dc({},c),s);return S.createElement("svg",dc({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:u},f),S.createElement("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},Wg=S.forwardRef(Zg);var Kg=Wg,Jg=Object.defineProperty,Lh=Object.getOwnPropertySymbols,Fg=Object.prototype.hasOwnProperty,Pg=Object.prototype.propertyIsEnumerable,Mh=(s,u,c)=>u in s?Jg(s,u,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[u]=c,fc=(s,u)=>{for(var c in u||(u={}))Fg.call(u,c)&&Mh(s,c,u[c]);if(Lh)for(var c of Lh(u))Pg.call(u,c)&&Mh(s,c,u[c]);return s};const e1=(s,u)=>{const c=S.useContext(Ze),f=fc(fc({},c),s);return S.createElement("svg",fc({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:u},f),S.createElement("path",{d:"M6 15L12 9L18 15",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},t1=S.forwardRef(e1);var a1=t1,n1=Object.defineProperty,Uh=Object.getOwnPropertySymbols,r1=Object.prototype.hasOwnProperty,l1=Object.prototype.propertyIsEnumerable,qh=(s,u,c)=>u in s?n1(s,u,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[u]=c,mc=(s,u)=>{for(var c in u||(u={}))r1.call(u,c)&&qh(s,c,u[c]);if(Uh)for(var c of Uh(u))l1.call(u,c)&&qh(s,c,u[c]);return s};const i1=(s,u)=>{const c=S.useContext(Ze),f=mc(mc({},c),s);return S.createElement("svg",mc({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:u},f),S.createElement("path",{d:"M4 21.4V2.6C4 2.26863 4.26863 2 4.6 2H16.2515C16.4106 2 16.5632 2.06321 16.6757 2.17574L19.8243 5.32426C19.9368 5.43679 20 5.5894 20 5.74853V21.4C20 21.7314 19.7314 22 19.4 22H4.6C4.26863 22 4 21.7314 4 21.4Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M8 10L16 10",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M8 18L16 18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M8 14L12 14",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M16 2V5.4C16 5.73137 16.2686 6 16.6 6H20",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},s1=S.forwardRef(i1);var u1=s1,o1=Object.defineProperty,kh=Object.getOwnPropertySymbols,c1=Object.prototype.hasOwnProperty,d1=Object.prototype.propertyIsEnumerable,zh=(s,u,c)=>u in s?o1(s,u,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[u]=c,hc=(s,u)=>{for(var c in u||(u={}))c1.call(u,c)&&zh(s,c,u[c]);if(kh)for(var c of kh(u))d1.call(u,c)&&zh(s,c,u[c]);return s};const f1=(s,u)=>{const c=S.useContext(Ze),f=hc(hc({},c),s);return S.createElement("svg",hc({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:u},f),S.createElement("path",{d:"M6.90588 4.53682C6.50592 4.2998 6 4.58808 6 5.05299V18.947C6 19.4119 6.50592 19.7002 6.90588 19.4632L18.629 12.5162C19.0211 12.2838 19.0211 11.7162 18.629 11.4838L6.90588 4.53682Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},m1=S.forwardRef(f1);var h1=m1,p1=Object.defineProperty,Hh=Object.getOwnPropertySymbols,y1=Object.prototype.hasOwnProperty,g1=Object.prototype.propertyIsEnumerable,Bh=(s,u,c)=>u in s?p1(s,u,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[u]=c,pc=(s,u)=>{for(var c in u||(u={}))y1.call(u,c)&&Bh(s,c,u[c]);if(Hh)for(var c of Hh(u))g1.call(u,c)&&Bh(s,c,u[c]);return s};const v1=(s,u)=>{const c=S.useContext(Ze),f=pc(pc({},c),s);return S.createElement("svg",pc({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:u},f),S.createElement("path",{d:"M6 12H12M18 12H12M12 12V6M12 12V18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},x1=S.forwardRef(v1);var b1=x1,_1=Object.defineProperty,Gh=Object.getOwnPropertySymbols,E1=Object.prototype.hasOwnProperty,S1=Object.prototype.propertyIsEnumerable,Vh=(s,u,c)=>u in s?_1(s,u,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[u]=c,yc=(s,u)=>{for(var c in u||(u={}))E1.call(u,c)&&Vh(s,c,u[c]);if(Gh)for(var c of Gh(u))S1.call(u,c)&&Vh(s,c,u[c]);return s};const N1=(s,u)=>{const c=S.useContext(Ze),f=yc(yc({},c),s);return S.createElement("svg",yc({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:u},f),S.createElement("path",{d:"M22 12L3 20L6.5625 12L3 4L22 12Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M6.5 12L22 12",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},w1=S.forwardRef(N1);var C1=w1,T1=Object.defineProperty,$h=Object.getOwnPropertySymbols,A1=Object.prototype.hasOwnProperty,j1=Object.prototype.propertyIsEnumerable,Yh=(s,u,c)=>u in s?T1(s,u,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[u]=c,gc=(s,u)=>{for(var c in u||(u={}))A1.call(u,c)&&Yh(s,c,u[c]);if($h)for(var c of $h(u))j1.call(u,c)&&Yh(s,c,u[c]);return s};const O1=(s,u)=>{const c=S.useContext(Ze),f=gc(gc({},c),s);return S.createElement("svg",gc({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:u},f),S.createElement("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M19.6224 10.3954L18.5247 7.7448L20 6L18 4L16.2647 5.48295L13.5578 4.36974L12.9353 2H10.981L10.3491 4.40113L7.70441 5.51596L6 4L4 6L5.45337 7.78885L4.3725 10.4463L2 11V13L4.40111 13.6555L5.51575 16.2997L4 18L6 20L7.79116 18.5403L10.397 19.6123L11 22H13L13.6045 19.6132L16.2551 18.5155C16.6969 18.8313 18 20 18 20L20 18L18.5159 16.2494L19.6139 13.598L21.9999 12.9772L22 11L19.6224 10.3954Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},R1=S.forwardRef(O1);var D1=R1,L1=Object.defineProperty,Ih=Object.getOwnPropertySymbols,M1=Object.prototype.hasOwnProperty,U1=Object.prototype.propertyIsEnumerable,Qh=(s,u,c)=>u in s?L1(s,u,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[u]=c,vc=(s,u)=>{for(var c in u||(u={}))M1.call(u,c)&&Qh(s,c,u[c]);if(Ih)for(var c of Ih(u))U1.call(u,c)&&Qh(s,c,u[c]);return s};const q1=(s,u)=>{const c=S.useContext(Ze),f=vc(vc({},c),s);return S.createElement("svg",vc({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:u},f),S.createElement("path",{d:"M20 9L18.005 20.3463C17.8369 21.3026 17.0062 22 16.0353 22H7.96474C6.99379 22 6.1631 21.3026 5.99496 20.3463L4 9",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M21 6L15.375 6M3 6L8.625 6M8.625 6V4C8.625 2.89543 9.52043 2 10.625 2H13.375C14.4796 2 15.375 2.89543 15.375 4V6M8.625 6L15.375 6",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},k1=S.forwardRef(q1);var z1=k1,H1=Object.defineProperty,Xh=Object.getOwnPropertySymbols,B1=Object.prototype.hasOwnProperty,G1=Object.prototype.propertyIsEnumerable,Zh=(s,u,c)=>u in s?H1(s,u,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[u]=c,xc=(s,u)=>{for(var c in u||(u={}))B1.call(u,c)&&Zh(s,c,u[c]);if(Xh)for(var c of Xh(u))G1.call(u,c)&&Zh(s,c,u[c]);return s};const V1=(s,u)=>{const c=S.useContext(Ze),f=xc(xc({},c),s);return S.createElement("svg",xc({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:u},f),S.createElement("path",{d:"M12 7L12 13",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M12 17.01L12.01 16.9989",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),S.createElement("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},$1=S.forwardRef(V1);var Y1=$1,I1=Object.defineProperty,Wh=Object.getOwnPropertySymbols,Q1=Object.prototype.hasOwnProperty,X1=Object.prototype.propertyIsEnumerable,Kh=(s,u,c)=>u in s?I1(s,u,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[u]=c,bc=(s,u)=>{for(var c in u||(u={}))Q1.call(u,c)&&Kh(s,c,u[c]);if(Wh)for(var c of Wh(u))X1.call(u,c)&&Kh(s,c,u[c]);return s};const Z1=(s,u)=>{const c=S.useContext(Ze),f=bc(bc({},c),s);return S.createElement("svg",bc({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:u},f),S.createElement("path",{d:"M20.0429 21H3.95705C2.41902 21 1.45658 19.3364 2.22324 18.0031L10.2662 4.01533C11.0352 2.67792 12.9648 2.67791 13.7338 4.01532L21.7768 18.0031C22.5434 19.3364 21.581 21 20.0429 21Z",stroke:"currentColor",strokeLinecap:"round"}),S.createElement("path",{d:"M12 9V13",stroke:"currentColor",strokeLinecap:"round"}),S.createElement("path",{d:"M12 17.01L12.01 16.9989",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},W1=S.forwardRef(Z1);var K1=W1,J1=Object.defineProperty,Jh=Object.getOwnPropertySymbols,F1=Object.prototype.hasOwnProperty,P1=Object.prototype.propertyIsEnumerable,Fh=(s,u,c)=>u in s?J1(s,u,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[u]=c,_c=(s,u)=>{for(var c in u||(u={}))F1.call(u,c)&&Fh(s,c,u[c]);if(Jh)for(var c of Jh(u))P1.call(u,c)&&Fh(s,c,u[c]);return s};const ev=(s,u)=>{const c=S.useContext(Ze),f=_c(_c({},c),s);return S.createElement("svg",_c({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:u},f),S.createElement("path",{d:"M6.75827 17.2426L12.0009 12M17.2435 6.75736L12.0009 12M12.0009 12L6.75827 6.75736M12.0009 12L17.2435 17.2426",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},tv=S.forwardRef(ev);var av=tv;const nv={Play:h1,Plus:b1,ChevronDown:Kg,ChevronUp:a1,BarChart3:uy,Database:zy,Brain:ay,Sparkles:Yg,Save:bg,Download:Yy,Edit3:Ky,Trash2:z1,Copy:Dy,Send:C1,CheckCircle:by,Clock:Cy,Eye:ug,EyeOff:ag,AlertCircle:Y1,AlertTriangle:K1,Info:zg,MessageCircle:hy,X:av,Settings:D1,Home:Dg,FolderOpen:Cg,FileX:hg,FileText:u1},rv=s=>({Play:"",Plus:"+",ChevronDown:"",ChevronUp:"",MoreVertical:"",BarChart3:"",Database:"",Brain:"",Save:"",Download:"",Eye:"",EyeOff:"",Sparkles:"",Edit3:"",Trash2:"",CheckCircle:"",Clock:"",MessageCircle:"",Send:"",X:"",Settings:""})[s]||"";function ie({name:s,className:u="w-4 h-4",...c}){const f=nv[s];return f?o.jsx(f,{className:u,...c}):o.jsx("span",{className:u,...c,children:rv(s)})}class lv{constructor(u){this.apiKey=u,this.baseURL="https://api.openai.com/v1",this.dataSchema=null,this.columnTypes={}}setDataContext(u,c){this.columnTypes=c||{},u&&u.length>0&&(this.dataSchema=this.buildSchemaInfo(u))}buildSchemaInfo(u){const c=Object.keys(u[0]),f={};return c.forEach(v=>{const _=this.columnTypes[v]||"text",M=u.slice(0,10).map(A=>A[v]).filter(A=>A!==null&&A!==""),U=[...new Set(u.slice(0,100).map(A=>A[v]))];f[v]={type:_,sampleValues:M.slice(0,3),uniqueCount:Math.min(U.length,100),hasNulls:u.some(A=>!A[v]||A[v]==="")}}),f}async sendMessage(u,c=null){if(!this.apiKey)throw new Error("OpenAI API key is required");const v={model:"gpt-4",messages:[{role:"system",content:this.buildSystemPrompt(c)},...u],temperature:.7,max_tokens:1e3};try{const _=await fetch(`${this.baseURL}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`},body:JSON.stringify(v)});if(!_.ok){const U=await _.json().catch(()=>({}));throw new Error(`OpenAI API error: ${_.status} - ${U.error?.message||"Unknown error"}`)}const M=await _.json();if(!M.choices||M.choices.length===0)throw new Error("No response from OpenAI API");return M.choices[0].message.content}catch(_){throw console.error("OpenAI API Error:",_),_}}buildSystemPrompt(u){let c="You are an AI assistant helping with transaction data analysis in a Jupyter-like notebook environment.";return this.dataSchema?(c+=`

You have access to a dataset of financial transactions with the following detailed structure:

`,Object.entries(this.dataSchema).forEach(([f,v])=>{c+=` ${f} (${v.type}): `,c+={user_id:"Unique identifier for users",txn_date_time:"Transaction timestamp",transaction_id:"Unique transaction identifier",action:"Transaction action type",type:"Payment method type",orig_currency:"Original currency code",charged_currency:"Charged currency code",charged_amount:"Transaction amount",decline_reason:"Reason for declined transactions",merchant_id:"Merchant identifier",terminal_id:"Payment terminal identifier",merchant_city:"Merchant location",mcc:"Merchant Category Code",merchant_country:"Merchant country",merchant_name:"Merchant business name",three_ds:"3D Secure authentication flag",_wallet:"Digital wallet type",processor_code:"Payment processor code",is_recurring:"Recurring payment flag",fraud:"Fraud indicator (Yes=fraud, No=legitimate)",decline:"Decline flag (1=declined, 0=approved)",outcome:"Transaction outcome code (TN=successful)"}[f]||"Data field",v.sampleValues.length>0&&(c+=`. Sample values: ${v.sampleValues.map(M=>`"${M}"`).join(", ")}`),v.uniqueCount<=20&&(c+=` (${v.uniqueCount} unique values)`),c+=`
`}),c+=`
IMPORTANT SQL Guidelines:
- The table name is "transactions"
- Use exact column names as shown above
- For boolean fields (fraud, decline, is_recurring, three_ds): use 1 for true, 0 for false
- For dates: use DATE() function for date-only queries, or direct comparison for datetime
- Popular outcomes: 'TN' = successful, others indicate various failure reasons
- Use appropriate data types in your queries based on the column types above`):c+=`

You have access to a dataset of financial transactions. When writing SQL queries, use the table name "transactions" and ask the user for specific column names if you're unsure.`,c+=`

You should provide helpful insights, suggest SQL queries, explain patterns in the data, and help with analysis. Be concise but informative. When suggesting SQL queries, make them practical and focused on the user's specific request.`,u&&u.length>0&&(c+=`

Context from previous cells in this notebook:
`,u.forEach((f,v)=>{if(f.type==="markdown")c+=`
Markdown Cell ${f.id}: ${f.title||"Untitled"}
${f.content}
`;else if(f.type==="data"){if(c+=`
Data Cell ${f.id}: ${f.title}
Query: ${f.query}
`,f.queryResults&&f.queryResults.length>0){const _=f.queryResults.slice(0,3);c+=`Sample Results (${f.queryResults.length} total rows):
${JSON.stringify(_,null,2)}
`}}else f.type==="chart"?c+=`
Chart Cell ${f.id}: ${f.title}
Chart Type: ${f.chartType}
Query: ${f.query}
`:f.type==="state"&&(c+=`
State Cell ${f.id}: ${f.title}
`,f.states.forEach(_=>{c+=`- State: ${_.name} - ${_.description}
  Query: ${_.query}
`}))}),c+=`
Use this context to provide relevant and specific help with the user's questions about their data analysis.`),c}buildChartSystemPrompt(u,c){let f="You are an AI assistant specialized in creating chart configurations for financial transaction data analysis.";return this.dataSchema?(f+=`

You have access to a dataset of financial transactions with the following structure:

`,Object.entries(this.dataSchema).forEach(([v,_])=>{f+=` ${v} (${_.type}): `,f+={user_id:"Unique identifier for users",txn_date_time:"Transaction timestamp - ideal for time series",transaction_id:"Unique transaction identifier",action:"Transaction action type",type:"Payment method type",orig_currency:"Original currency code",charged_currency:"Charged currency code",charged_amount:"Transaction amount - numeric, good for Y-axis",decline_reason:"Reason for declined transactions",merchant_id:"Merchant identifier",terminal_id:"Payment terminal identifier",merchant_city:"Merchant location - categorical",mcc:"Merchant Category Code - categorical",merchant_country:"Merchant country - good for grouping/X-axis",merchant_name:"Merchant business name - categorical",three_ds:"3D Secure authentication flag - binary",_wallet:"Digital wallet type - categorical",processor_code:"Payment processor code",is_recurring:"Recurring payment flag - binary",fraud:"Fraud indicator (Yes/No or 1/0) - good for pie charts",decline:"Decline flag (1/0) - binary for analysis",outcome:"Transaction outcome code - categorical"}[v]||"Data field",_.sampleValues.length>0&&(f+=`. Sample values: ${_.sampleValues.map(U=>`"${U}"`).join(", ")}`),f+=`
`}),f+=`
Chart Configuration Guidelines:
- For TIME SERIES: Use txn_date_time as X-axis, numeric columns like charged_amount as Y-axis, chart type: line/area
- For COMPARISONS: Use categorical columns (merchant_country, merchant_name) as X-axis, numeric aggregations as Y-axis, chart type: bar/column
- For DISTRIBUTIONS: Use categorical columns for both category and value, chart type: pie
- For CORRELATIONS: Use two numeric columns, chart type: scatter/bubble
- For PATTERNS: Use two categorical columns with numeric value, chart type: heatmap
- AGGREGATION: Use "sum" for amounts, "count" for transaction frequency, "avg" for averages
- GROUPING: Group by categorical fields to aggregate data meaningfully`):f+=`

You have access to financial transaction data. Available columns: ${u.join(", ")}.
      
Choose appropriate chart types:
- Line/Area charts for time series data
- Bar/Column charts for categorical comparisons
- Pie charts for distribution analysis
- Scatter plots for correlations
- Heatmaps for pattern analysis`,f+=`

You must respond with valid JSON only. Example response:
{
  "title": "Revenue by Merchant Country",
  "chartType": "bar",
  "xAxis": "merchant_country",
  "yAxis": "charged_amount",
  "groupBy": "merchant_country",
  "aggregation": "sum",
  "dataSource": "csv",
  "reasoning": "Bar chart best shows revenue comparison across countries with sum aggregation"
}

IMPORTANT: Only use column names that exist in the available columns: ${u.join(", ")}`,c&&c.length>0&&(f+=`

Context from previous cells in this notebook:
`,c.forEach((v,_)=>{v.type==="data"&&v.queryResults&&v.queryResults.length>0&&(f+=`
Data Cell ${v.id}: ${v.title}
Columns available: ${Object.keys(v.queryResults[0]).join(", ")}
`)}),f+=`
Consider this context when choosing chart configurations.`),f}async generateChartConfiguration(u,c,f=null){if(!this.apiKey)throw new Error("OpenAI API key is required");const v={role:"system",content:this.buildChartSystemPrompt(c,f)},_={role:"user",content:`Configure a chart for this request: "${u}"
      
Available columns: ${c.join(", ")}

Respond with a JSON object containing:
{
  "title": "Descriptive chart title",
  "chartType": "line|bar|column|area|pie|scatter|bubble|heatmap",
  "xAxis": "column_name_for_x_axis",
  "yAxis": "column_name_for_y_axis",
  "zAxis": "column_name_for_z_axis_if_needed",
  "groupBy": "column_to_group_by_if_needed",
  "aggregation": "none|sum|avg|count|min|max",
  "dataSource": "csv",
  "reasoning": "Brief explanation of choices"
}

Only include fields that are necessary. Respond with JSON only.`},M={model:"gpt-4",messages:[v,_],temperature:.3,max_tokens:500};try{const U=await fetch(`${this.baseURL}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`},body:JSON.stringify(M)});if(!U.ok){const p=await U.json().catch(()=>({}));throw new Error(`OpenAI API error: ${U.status} - ${p.error?.message||"Unknown error"}`)}const A=await U.json();if(!A.choices||A.choices.length===0)throw new Error("No response from OpenAI API");return A.choices[0].message.content}catch(U){throw console.error("OpenAI Chart Configuration Error:",U),U}}async generateStateDefinition(u,c,f=null){if(!this.apiKey)throw new Error("OpenAI API key is required");const v={role:"system",content:this.buildStateSystemPrompt(c,f)},_={role:"user",content:`Create a computed state definition for this request: "${u}"
      
Available columns: ${c.join(", ")}

Respond with a JSON object containing:
{
  "name": "state_variable_name",
  "description": "Brief description of what this computes",
  "computationType": "window_sum|window_avg|window_count|aggregate_sum|aggregate_count|risk_score",
  "field": "column_name_to_compute_on",
  "condition": "optional_sql_condition",
  "windowDays": 7,
  "groupBy": "column_to_group_by_if_needed",
  "persistent": false,
  "reasoning": "Brief explanation of choices"
}

Respond with JSON only.`},M={model:"gpt-4",messages:[v,_],temperature:.3,max_tokens:600};try{const U=await fetch(`${this.baseURL}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`},body:JSON.stringify(M)});if(!U.ok){const p=await U.json().catch(()=>({}));throw new Error(`OpenAI API error: ${U.status} - ${p.error?.message||"Unknown error"}`)}const A=await U.json();if(!A.choices||A.choices.length===0)throw new Error("No response from OpenAI API");return A.choices[0].message.content}catch(U){throw console.error("OpenAI State Definition Error:",U),U}}buildStateSystemPrompt(u,c){let f="You are an AI assistant specialized in creating computed state definitions for financial transaction data analysis.";return this.dataSchema?(f+=`

You have access to a dataset of financial transactions with the following structure:

`,Object.entries(this.dataSchema).forEach(([v,_])=>{f+=` ${v} (${_.type}): `,f+={user_id:"User identifier - good for groupBy in user-level states",txn_date_time:"Transaction timestamp - essential for time-based windows",transaction_id:"Unique transaction identifier",charged_amount:"Transaction amount - primary field for sum/avg computations",decline:"Decline flag (1/0) - good for risk scoring",merchant_id:"Merchant identifier - useful for merchant-level grouping",merchant_country:"Merchant country - useful for geographic analysis",merchant_name:"Merchant name - for merchant-specific states",fraud:"Fraud indicator - essential for risk calculations",outcome:"Transaction outcome - useful for success rate calculations",mcc:"Merchant Category Code - for industry analysis",payment_method:"Payment method type - for method-specific states"}[v]||"Data field",_.sampleValues.length>0&&(f+=`. Sample values: ${_.sampleValues.map(U=>`"${U}"`).join(", ")}`),f+=`
`}),f+=`
State Computation Guidelines:
- WINDOW FUNCTIONS: Use for rolling calculations (e.g., "last 7 days", "over time")
  - window_sum: Rolling sum of amounts
  - window_avg: Rolling average of values  
  - window_count: Rolling count of transactions
  - windowDays: Number of days to look back

- AGGREGATE FUNCTIONS: Use for total calculations across groups
  - aggregate_sum: Total sum for a group
  - aggregate_count: Total count for a group
  - No windowDays needed

- GROUPING: Choose appropriate groupBy field
  - user_id: For per-user calculations
  - merchant_id: For per-merchant calculations
  - merchant_country: For geographic analysis
  - Leave empty for overall totals

- RISK SCORING: Use risk_score type for fraud/decline patterns
  - Automatically considers decline patterns
  - Groups by user_id typically

- FIELD SELECTION: Choose the right field to compute on
  - charged_amount: For monetary calculations
  - fraud/decline: For binary risk calculations
  - "*": For counting all transactions

- CONDITIONS: Add SQL conditions to filter data
  - "fraud = 1": Only fraudulent transactions
  - "charged_amount > 100": Only high-value transactions`):f+=`

You have access to financial transaction data with columns: ${u.join(", ")}.
      
Key computation types:
- window_sum/window_avg/window_count: For rolling time-based calculations
- aggregate_sum/aggregate_count: For total calculations across groups
- risk_score: For fraud/risk pattern detection`,f+=`

Example state definitions:

{
  "name": "user_30day_spending",
  "description": "Total amount spent by user in last 30 days",
  "computationType": "window_sum",
  "field": "charged_amount",
  "windowDays": 30,
  "groupBy": "user_id",
  "persistent": false
}

{
  "name": "user_fraud_risk",
  "description": "Risk score based on decline patterns",
  "computationType": "risk_score",
  "field": "decline",
  "windowDays": 7,
  "groupBy": "user_id",
  "persistent": false
}

IMPORTANT: Only use column names that exist in the available columns: ${u.join(", ")}`,c&&c.length>0&&(f+=`

Context from previous cells in this notebook:
`,c.forEach((v,_)=>{v.type==="data"&&v.queryResults&&v.queryResults.length>0&&(f+=`
Data Cell ${v.id}: ${v.title}
Columns available: ${Object.keys(v.queryResults[0]).join(", ")}
`)}),f+=`
Consider this context when creating state definitions.`),f}}function Es(s=null,u=null){const c=localStorage.getItem("openai_api_key");if(!c)throw new Error("No OpenAI API key found. Please configure your API key in Settings.");const f=new lv(c);return s&&u&&f.setDataContext(s,u),f}function ri({cell:s,isSelected:u}){const{dispatch:c,ActionTypes:f}=Mt(),[v,_]=S.useState(!1),M=()=>{c({type:f.UPDATE_CELL,payload:{id:s.id,updates:{collapsed:!s.collapsed}}})},U=()=>{c({type:f.SET_EDITING_CELL,payload:s.id})},A=()=>{confirm("Delete this cell?")&&c({type:f.DELETE_CELL,payload:s.id}),_(!1)},p=()=>{const b={...s,id:Date.now(),executed:!1,executionTime:null,queryResults:[],messages:s.type==="ai"?[]:void 0};c({type:f.ADD_CELL,payload:{cell:b,afterId:s.id}}),_(!1)},w=b=>{switch(b){case"markdown":return"Edit3";case"data":return"Database";case"chart":return"BarChart3";case"ai":return"Brain";case"state":return"Settings";default:return"Circle"}},j=b=>{switch(b){case"markdown":return"Markdown";case"data":return"Data Query";case"chart":return"Chart";case"ai":return"AI Assistant";case"state":return"Computed States";default:return b}};return o.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-200 bg-gray-50",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(ie,{name:w(s.type),className:"w-4 h-4 text-gray-500"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:s.title||j(s.type)})]}),s.executed&&s.executionTime&&o.jsxs("div",{className:"flex items-center space-x-1 text-xs text-green-600",children:[o.jsx(ie,{name:"CheckCircle",className:"w-3 h-3"}),o.jsx("span",{children:s.executionTime})]})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("button",{onClick:U,className:"p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Edit cell",children:o.jsx(ie,{name:"Edit3",className:"w-4 h-4"})}),o.jsx("button",{onClick:M,className:"p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors",title:s.collapsed?"Expand cell":"Collapse cell",children:o.jsx(ie,{name:s.collapsed?"ChevronDown":"ChevronUp",className:"w-4 h-4"})}),o.jsxs("div",{className:"relative",children:[o.jsx("button",{onClick:()=>_(!v),className:"p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Cell options",children:o.jsx(ie,{name:"MoreVertical",className:"w-4 h-4"})}),v&&o.jsxs("div",{className:"absolute right-0 top-8 bg-white border border-gray-200 rounded-lg shadow-lg z-10 min-w-[120px]",children:[o.jsxs("button",{onClick:p,className:"w-full px-3 py-2 text-left text-sm hover:bg-gray-50 flex items-center space-x-2",children:[o.jsx(ie,{name:"Copy",className:"w-4 h-4"}),o.jsx("span",{children:"Duplicate"})]}),o.jsxs("button",{onClick:A,className:"w-full px-3 py-2 text-left text-sm hover:bg-gray-50 text-red-600 flex items-center space-x-2",children:[o.jsx(ie,{name:"Trash2",className:"w-4 h-4"}),o.jsx("span",{children:"Delete"})]})]})]})]})]})}function iv({cell:s}){const{state:u,dispatch:c,ActionTypes:f}=Mt(),[v,_]=S.useState(""),[M,U]=S.useState(!1),A=S.useRef(null);S.useEffect(()=>{A.current?.scrollIntoView({behavior:"smooth"})},[s.messages]);const p=async j=>{if(j.preventDefault(),!v.trim()||M)return;const b={role:"user",content:v.trim(),timestamp:new Date().toISOString()},Y=s.messages||[];c({type:f.UPDATE_CELL,payload:{id:s.id,updates:{messages:[...Y,b]}}});const B=v.trim();_(""),U(!0);try{const W=u.cells.findIndex(qe=>qe.id===s.id),$=u.cells.slice(0,W);if(!(u.settings.apiKey||localStorage.getItem("openai_api_key")))throw new Error("OpenAI API key not configured. Please set your API key in Settings.");const ye=Es(u.csvData,u.columnTypes),se=Y.map(qe=>({role:qe.role,content:qe.content}));se.push({role:"user",content:B});const le={role:"assistant",content:await ye.sendMessage(se,$),timestamp:new Date().toISOString()};c({type:f.UPDATE_CELL,payload:{id:s.id,updates:{messages:[...Y,b,le],executed:!0,executionTime:"2.1s"}}})}catch(W){console.error("AI conversation error:",W);const $={role:"assistant",content:`Sorry, I encountered an error: ${W.message}

Please check your API key in Settings if you haven't configured it yet.`,timestamp:new Date().toISOString(),isError:!0};c({type:f.UPDATE_CELL,payload:{id:s.id,updates:{messages:[...Y,b,$],executed:!1,executionTime:null}}})}finally{U(!1)}},w=()=>{c({type:f.UPDATE_CELL,payload:{id:s.id,updates:{messages:[]}}})};return o.jsxs("div",{className:`border border-gray-200 rounded-lg bg-white ${u.selectedCellId===s.id?"ring-2 ring-blue-500":""}`,onClick:()=>c({type:f.SET_SELECTED_CELL,payload:s.id}),children:[o.jsx(ri,{cell:s,isSelected:u.selectedCellId===s.id}),o.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b border-gray-100 bg-gray-25",children:[o.jsxs("span",{className:"text-xs text-orange-600",children:["Context: ",u.cells.findIndex(j=>j.id===s.id)," previous cells"]}),o.jsx("button",{onClick:w,className:"text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded hover:bg-orange-200",children:"Clear Chat"})]}),o.jsx("div",{className:"p-4 border-b border-gray-200 bg-orange-50",children:o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"AI Assistant Chat"})})}),o.jsxs("div",{className:"h-96 flex flex-col",children:[o.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:!s.messages||s.messages.length===0?o.jsxs("div",{className:"text-center text-gray-500 py-8",children:[o.jsx(ie,{name:"MessageCircle",className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),o.jsx("p",{className:"text-sm",children:"Start a conversation with the AI assistant"}),o.jsx("p",{className:"text-xs mt-1",children:"I have access to all previous cells in this notebook"})]}):o.jsxs("div",{className:"space-y-4",children:[s.messages.map((j,b)=>o.jsx("div",{className:`flex ${j.role==="user"?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-3/4 p-3 rounded-lg ${j.role==="user"?"bg-blue-500 text-white":j.isError?"bg-red-50 text-red-900 border border-red-200":"bg-gray-100 text-gray-900"}`,children:[o.jsx("div",{className:"text-sm whitespace-pre-wrap",children:j.content}),o.jsx("div",{className:`text-xs mt-2 ${j.role==="user"?"text-blue-100":j.isError?"text-red-500":"text-gray-500"}`,children:new Date(j.timestamp).toLocaleTimeString()})]})},b)),M&&o.jsx("div",{className:"flex justify-start",children:o.jsx("div",{className:"max-w-3/4 p-3 rounded-lg bg-gray-100 text-gray-900",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600"}),o.jsx("span",{className:"text-sm",children:"AI is thinking..."})]})})}),o.jsx("div",{ref:A})]})}),o.jsxs("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:[!u.settings.apiKey&&!localStorage.getItem("openai_api_key")?o.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ie,{name:"Settings",className:"w-4 h-4 text-yellow-600"}),o.jsx("span",{className:"text-sm text-yellow-700",children:"Configure your OpenAI API key in Settings to start chatting with the AI assistant."}),o.jsx("button",{onClick:()=>c({type:f.TOGGLE_MODAL,payload:{modal:"settings",value:!0}}),className:"text-xs bg-yellow-600 text-white px-2 py-1 rounded hover:bg-yellow-700",children:"Open Settings"})]})}):null,o.jsxs("form",{onSubmit:p,className:"flex space-x-3",children:[o.jsx("input",{type:"text",value:v,onChange:j=>_(j.target.value),placeholder:"Ask about your data or request analysis...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",disabled:M}),o.jsx("button",{type:"submit",disabled:!v.trim()||M,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-1",children:M?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),o.jsx("span",{children:"Sending..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(ie,{name:"Send",className:"w-4 h-4"}),o.jsx("span",{children:"Send"})]})})]})]})]})]})}function sv(s,u,c={}){if(s==null||s==="")return o.jsx("span",{className:"text-gray-400",children:"-"});switch(c[u]||"text"){case"currency":const _=parseFloat(s);if(!isNaN(_))return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(_);break;case"integer":const M=parseInt(s);if(!isNaN(M))return M.toLocaleString();break;case"decimal":const U=parseFloat(s);if(!isNaN(U))return U.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2});break;case"percentage":const A=parseFloat(s);if(!isNaN(A))return(A*100).toFixed(1)+"%";break;case"date":const p=new Date(s);if(!isNaN(p.getTime()))return p.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});break;case"datetime":const w=new Date(s);if(!isNaN(w.getTime()))return w.toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});break;case"boolean":if(s==="1"||s===1||s===!0||s==="true"){const b=u.includes("fraud")||u.includes("decline");return o.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${b?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:b?"Yes":""})}if(s==="0"||s===0||s===!1||s==="false"){const b=u.includes("fraud")||u.includes("decline");return o.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${b?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:b?"No":""})}break;case"id":const j=String(s);return j.length>20?o.jsxs("span",{title:j,className:"font-mono text-xs",children:[j.substring(0,8),"...",j.substring(j.length-8)]}):o.jsx("span",{className:"font-mono text-xs",children:j});case"category":return o.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:String(s)})}const v=String(s);return v.length>50?o.jsxs("span",{title:v,children:[v.substring(0,47),"..."]}):v}function uv({cell:s,executeCell:u}){const{state:c,dispatch:f,ActionTypes:v}=Mt(),[_,M]=S.useState(s.query),[U,A]=S.useState(s.title),p=c.editingCellId===s.id;S.useEffect(()=>{M(s.query),A(s.title)},[s.query,s.title]);const w=()=>{f({type:v.UPDATE_CELL,payload:{id:s.id,updates:{query:_,title:U}}}),f({type:v.SET_EDITING_CELL,payload:null})},j=()=>{M(s.query),A(s.title),f({type:v.SET_EDITING_CELL,payload:null})};return o.jsxs("div",{className:`border border-gray-200 rounded-lg bg-white ${c.selectedCellId===s.id?"ring-2 ring-blue-500":""}`,onClick:()=>f({type:v.SET_SELECTED_CELL,payload:s.id}),children:[o.jsx(ri,{cell:s,isSelected:c.selectedCellId===s.id}),o.jsxs("div",{className:"flex items-center justify-end space-x-2 px-3 py-2 border-b border-gray-100 bg-gray-25",children:[o.jsxs("button",{onClick:()=>f({type:v.TOGGLE_MODAL,payload:{modal:"aiAssist",value:{open:!0,cellId:s.id}}}),className:"px-2 py-1 text-xs bg-purple-100 text-purple-700 rounded hover:bg-purple-200 transition-colors flex items-center space-x-1",children:[o.jsx(ie,{name:"Sparkles",className:"w-3 h-3"}),o.jsx("span",{children:"AI"})]}),o.jsxs("button",{onClick:()=>u(s.id),className:"px-3 py-1.5 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center space-x-1",children:[o.jsx(ie,{name:"Play",className:"w-3 h-3"}),o.jsx("span",{children:"Run"})]})]}),!s.collapsed&&o.jsx("div",{className:"p-4",children:p?o.jsxs("div",{children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),o.jsx("input",{type:"text",value:U,onChange:b=>A(b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Query title..."})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SQL Query"}),o.jsx("textarea",{value:_,onChange:b=>M(b.target.value),className:"w-full h-32 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:"SELECT * FROM transactions..."})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:w,className:"px-3 py-1.5 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Save"}),o.jsx("button",{onClick:j,className:"px-3 py-1.5 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",children:"Cancel"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"SQL Query"}),o.jsx("div",{className:"bg-gray-50 rounded border p-3 font-mono text-sm",children:s.query})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Results"}),o.jsx("span",{className:"text-xs text-gray-500",children:s.queryError?"Error":`${s.rowCount||0} rows`})]}),s.queryError?o.jsx("div",{className:"text-xs text-red-600 bg-red-50 px-2 py-1 rounded",children:s.queryError}):s.queryResults&&s.queryResults.length>0?o.jsxs("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:[o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsx("tr",{children:s.visibleColumns?.map(b=>o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:b},b))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.queryResults.slice(0,10).map((b,Y)=>o.jsx("tr",{className:"hover:bg-gray-50 transition-colors",children:s.visibleColumns?.map(B=>o.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 max-w-xs truncate",children:sv(b[B],B,c.columnTypes)},B))},Y))})]}),s.queryResults.length>10&&o.jsxs("div",{className:"bg-gray-50 px-4 py-2 text-xs text-gray-500 border-t border-gray-200",children:["Showing 10 of ",s.queryResults.length," results"]})]}):o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(ie,{name:"Database",className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),o.jsx("p",{className:"text-sm",children:"Click the Play button to execute the query"})]})]})]})})]})}function ov({cell:s}){const{state:u,dispatch:c,ActionTypes:f}=Mt(),{executeCell:v}=Ss(),_=S.useRef(null),[M,U]=S.useState(null),[A,p]=S.useState(!1),[w,j]=S.useState(null),[b,Y]=S.useState({title:s.title||"New Chart",chartType:s.chartType||"line",dataSource:s.dataSource||"csv",query:s.query||"",xAxis:s.xAxis||"",yAxis:s.yAxis||"",zAxis:s.zAxis||"",groupBy:s.groupBy||"",aggregation:s.aggregation||"none",filterCondition:s.filterCondition||"",colorBy:s.colorBy||"",sizeBy:s.sizeBy||"",sortBy:s.sortBy||"",sortOrder:s.sortOrder||"asc",limit:s.limit||100,showHeatmapLabels:s.showHeatmapLabels!==void 0?s.showHeatmapLabels:"auto"}),B=u.editingCellId===s.id,W=()=>b.dataSource==="query"&&s.queryResults&&s.queryResults.length>0?Object.keys(s.queryResults[0]):u.csvData&&u.csvData.length>0?Object.keys(u.csvData[0]):[],$=[{value:"line",label:"Line Chart"},{value:"bar",label:"Bar Chart"},{value:"column",label:"Column Chart"},{value:"area",label:"Area Chart"},{value:"pie",label:"Pie Chart"},{value:"scatter",label:"Scatter Plot"},{value:"bubble",label:"Bubble Chart"},{value:"heatmap",label:"Heatmap"}],pe=[{value:"none",label:"No Aggregation"},{value:"sum",label:"Sum"},{value:"avg",label:"Average"},{value:"count",label:"Count"},{value:"min",label:"Minimum"},{value:"max",label:"Maximum"}];S.useEffect(()=>{s&&Y(P=>({...P,title:s.title||P.title,chartType:s.chartType||P.chartType,dataSource:s.dataSource||P.dataSource,query:s.query||P.query,xAxis:s.xAxis||P.xAxis,yAxis:s.yAxis||P.yAxis,zAxis:s.zAxis||P.zAxis,groupBy:s.groupBy||P.groupBy,aggregation:s.aggregation||P.aggregation,filterCondition:s.filterCondition||P.filterCondition,colorBy:s.colorBy||P.colorBy,sizeBy:s.sizeBy||P.sizeBy,sortBy:s.sortBy||P.sortBy,sortOrder:s.sortOrder||P.sortOrder,limit:s.limit||P.limit,showHeatmapLabels:s.showHeatmapLabels!==void 0?s.showHeatmapLabels:P.showHeatmapLabels}))},[s]),S.useEffect(()=>{if(console.log("Chart initialization effect:",{hasChartRef:!!_.current,hasEcharts:!!window.echarts,hasChartInstance:!!M,echartsVersion:window.echarts?.version}),_.current&&window.echarts&&!M){console.log("Initializing ECharts instance");const P=_.current;(P.offsetWidth===0||P.offsetHeight===0)&&(console.warn("Container has zero dimensions, setting default size"),P.style.width="100%",P.style.height="320px"),console.log("Chart container dimensions:",{width:P.clientWidth,height:P.clientHeight,offsetWidth:P.offsetWidth,offsetHeight:P.offsetHeight}),requestAnimationFrame(()=>{if(_.current&&!M)try{console.log("Creating ECharts with init...");const G=_.current;G.style.display="block",G.style.visibility="visible";const re=window.echarts.init(G,null,{renderer:"canvas",useDirtyRect:!1});U(re),console.log("ECharts instance created successfully");const ue=G.querySelectorAll("canvas");console.log("Canvas elements immediately after init:",ue.length),setTimeout(()=>{const he=G.querySelectorAll("canvas");console.log("Canvas elements after delay:",he?.length),he.length===0&&console.error("ECharts failed to create canvas during initialization!")},100)}catch(G){console.error("Failed to initialize ECharts:",G)}})}else window.echarts||console.warn("ECharts not available on window object");return()=>{if(M){console.log("Disposing ECharts instance");try{M.dispose()}catch(P){console.warn("Error disposing chart:",P)}U(null)}}},[M]),S.useEffect(()=>{console.log("Chart render effect triggered:",{chartInstance:!!M,hasCSVData:u.csvData.length,hasQueryResults:s.queryResults?.length,configKeys:Object.keys(b).length}),M&&b.xAxis&&b.yAxis?(console.log("About to call renderChart..."),se(),console.log("renderChart call completed")):console.log("Chart not ready for rendering:",{hasChartInstance:!!M,hasXAxis:!!b.xAxis,hasYAxis:!!b.yAxis})},[M,s.queryResults,u.csvData,b.title,b.chartType,b.xAxis,b.yAxis,b.zAxis,b.dataSource]);const ye=(P,G)=>{const re=[];if(!P||P.length===0)return re.push("No data available for chart"),{valid:!1,errors:re};const ue=P.length>0?Object.keys(P[0]):[];if(G.chartType==="pie")G.xAxis||re.push("Category column is required for pie charts"),G.yAxis||re.push("Value column is required for pie charts"),G.yAxis&&ue.includes(G.yAxis)&&P.slice(0,10).map(K=>parseFloat(K[G.yAxis])).some(K=>isNaN(K))&&re.push(`Value column "${G.yAxis}" must contain numeric data for pie charts`);else if(G.chartType==="heatmap")G.xAxis||re.push("X-axis column is required for heatmaps"),G.yAxis||re.push("Y-axis column is required for heatmaps"),G.zAxis||re.push("Value column is required for heatmaps"),G.zAxis&&ue.includes(G.zAxis)&&P.slice(0,10).map(K=>parseFloat(K[G.zAxis])).some(K=>isNaN(K))&&re.push(`Value column "${G.zAxis}" must contain numeric data for heatmaps`);else if(["scatter","bubble"].includes(G.chartType)){if(G.xAxis||re.push("X-axis column is required"),G.yAxis||re.push("Y-axis column is required"),G.xAxis&&ue.includes(G.xAxis)){const K=P.slice(0,10).map(F=>F[G.xAxis]).filter(F=>F!==""&&F!==null&&F!==void 0&&isNaN(parseFloat(F)));K.length>7&&re.push(`X-axis column "${G.xAxis}" should contain mostly numeric data for ${G.chartType} charts. Found: ${K.slice(0,3).join(", ")}`)}if(G.yAxis&&ue.includes(G.yAxis)){const K=P.slice(0,10).map(F=>F[G.yAxis]).filter(F=>F!==""&&F!==null&&F!==void 0&&isNaN(parseFloat(F)));K.length>7&&re.push(`Y-axis column "${G.yAxis}" should contain mostly numeric data for ${G.chartType} charts. Found: ${K.slice(0,3).join(", ")}`)}if(G.chartType==="bubble"&&G.zAxis&&ue.includes(G.zAxis)){const K=P.slice(0,10).map(F=>F[G.zAxis]).filter(F=>F!==""&&F!==null&&F!==void 0&&isNaN(parseFloat(F)));K.length>7&&re.push(`Size column "${G.zAxis}" should contain mostly numeric data for bubble charts. Found: ${K.slice(0,3).join(", ")}`)}}else if(G.xAxis||re.push("X-axis column is required"),G.yAxis||re.push("Y-axis column is required"),G.yAxis&&ue.includes(G.yAxis)){const he=P.slice(0,10).map(F=>F[G.yAxis]);console.log(`Validating Y-axis "${G.yAxis}":`,he);const K=he.filter(F=>F!==""&&F!==null&&F!==void 0&&isNaN(parseFloat(F)));console.log(`Non-numeric values for Y-axis "${G.yAxis}":`,K),K.length>7&&re.push(`Y-axis column "${G.yAxis}" should contain mostly numeric data. Found non-numeric values: ${K.slice(0,3).join(", ")}${K.length>3?"...":""}`)}return G.xAxis&&!ue.includes(G.xAxis)&&re.push(`Selected column "${G.xAxis}" not found in data. Available columns: ${ue.join(", ")}`),G.yAxis&&!ue.includes(G.yAxis)&&re.push(`Selected column "${G.yAxis}" not found in data. Available columns: ${ue.join(", ")}`),G.zAxis&&!ue.includes(G.zAxis)&&re.push(`Selected column "${G.zAxis}" not found in data. Available columns: ${ue.join(", ")}`),{valid:re.length===0,errors:re}},se=()=>{if(console.log("renderChart called:",{chartInstance:!!M,configDataSource:b.dataSource,configXAxis:b.xAxis,configYAxis:b.yAxis,csvDataLength:u.csvData.length,queryResultsLength:s.queryResults?.length,cellId:s.id,cellTitle:s.title}),_.current&&b.xAxis&&b.yAxis&&(_.current.style.display="block"),!M){console.warn("Chart instance not available"),j("Chart not initialized properly");return}j(null);let P=[];b.dataSource==="query"&&s.queryResults&&s.queryResults.length>0?(P=s.queryResults,console.log("Using query results:",P.length,"rows")):u.csvData&&u.csvData.length>0?(P=u.csvData,console.log("Using CSV data:",P.length,"rows")):console.log("No data available for chart:",{dataSource:b.dataSource,hasQueryResults:!!s.queryResults,queryResultsLength:s.queryResults?.length,hasCSVData:!!u.csvData,csvDataLength:u.csvData?.length,cellId:s.id}),console.log("=== VALIDATING CHART CONFIGURATION ==="),console.log("Config:",b),console.log("Data sample:",P.slice(0,2)),console.log("Available columns:",P.length>0?Object.keys(P[0]):[]),console.log("X-axis column requested:",b.xAxis),console.log("X-axis column exists:",P.length>0&&Object.keys(P[0]).includes(b.xAxis));const G=ye(P,b);if(console.log("Validation result:",G),!G.valid){console.error("Chart validation failed:",G.errors),j(G.errors[0]);const he={title:{text:"Configuration Error",left:"center",top:"center",textStyle:{color:"#ef4444",fontSize:16,fontWeight:"bold"}},graphic:{type:"text",left:"center",top:"60%",style:{text:G.errors.join(`
`),textAlign:"center",fill:"#6b7280",fontSize:12,lineDash:[0,0]}}};try{console.log("Setting error chart option"),M.setOption(he,!0)}catch(K){console.error("Error showing chart error:",K)}return}console.log("=== VALIDATION PASSED, PROCEEDING WITH CHART GENERATION ===");let re=[...P];if(b.filterCondition)try{re=re.filter(he=>!0)}catch(he){console.warn("Filter condition error:",he)}if(b.groupBy&&b.aggregation!=="none"){const he={};re.forEach(K=>{const F=K[b.groupBy];he[F]||(he[F]=[]),he[F].push(K)}),re=Object.keys(he).map(K=>{const F=he[K],ge={[b.groupBy]:K};return b.aggregation==="sum"?ge[b.yAxis]=F.reduce((q,ee)=>q+(parseFloat(ee[b.yAxis])||0),0):b.aggregation==="avg"?ge[b.yAxis]=F.reduce((q,ee)=>q+(parseFloat(ee[b.yAxis])||0),0)/F.length:b.aggregation==="count"?ge[b.yAxis]=F.length:b.aggregation==="min"?ge[b.yAxis]=Math.min(...F.map(q=>parseFloat(q[b.yAxis])||0)):b.aggregation==="max"&&(ge[b.yAxis]=Math.max(...F.map(q=>parseFloat(q[b.yAxis])||0))),ge})}b.sortBy&&re.sort((he,K)=>{const F=he[b.sortBy],ge=K[b.sortBy],q=F<ge?-1:F>ge?1:0;return b.sortOrder==="desc"?-q:q}),b.limit&&b.limit>0&&(re=re.slice(0,b.limit)),console.log("=== GENERATING CHART OPTION ==="),console.log("Chart type:",b.chartType),console.log("Processed data length:",re.length),console.log("Processed data sample:",re.slice(0,3));const ue=xe(re,b);console.log("=== GENERATED CHART OPTION ==="),console.log("Chart option:",ue),console.log("Chart container ref current:",!!_.current),console.log("Chart instance ready:",!!M);try{console.log("=== SETTING CHART OPTION ==="),M.setOption(ue,!0),console.log("Chart option set successfully"),setTimeout(()=>{if(M&&_.current){console.log("=== RESIZING CHART ==="),M.resize(),console.log("Chart resized");const he=_.current.querySelectorAll("canvas");if(console.log("Canvas elements found:",he?.length),he?.length>0)console.log("Canvas dimensions:",{width:he[0].width,height:he[0].height,style:he[0].style.cssText,visible:he[0].offsetParent!==null});else{console.warn("No canvas elements found after chart render! Attempting to recreate...");try{console.log("Disposing current chart instance..."),M.dispose();const K=_.current;console.log("Container before recreation:",{width:K.offsetWidth,height:K.offsetHeight,display:window.getComputedStyle(K).display,visibility:window.getComputedStyle(K).visibility}),K.style.display="block",K.style.width="100%",K.style.height="320px",K.style.visibility="visible",setTimeout(()=>{console.log("Recreating ECharts instance...");const F=window.echarts.init(K);U(F),F.setOption(ue,!0),console.log("Chart recreated and option set"),setTimeout(()=>{const ge=K.querySelectorAll("canvas");console.log("Canvas elements after recreation:",ge.length)},50)},50)}catch(K){console.error("Error recreating chart:",K)}}}},100)}catch(he){console.error("Error setting chart option:",he),console.error("Error details:",he.stack)}},xe=(P,G)=>{const re={title:{text:G.title||"Chart",left:"center",textStyle:{fontSize:16,fontWeight:"normal"}},tooltip:{trigger:"axis"},grid:{left:"3%",right:"4%",bottom:"10%",containLabel:!0}};if(G.chartType==="pie")return{...re,tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)"},series:[{type:"pie",radius:"60%",data:P.map(K=>({name:K[G.xAxis],value:parseFloat(K[G.yAxis])||0})),label:{show:!0,formatter:"{b}: {c} ({d}%)"}}]};if(G.chartType==="heatmap"){const K=[...new Set(P.map(J=>J[G.xAxis]))],F=[...new Set(P.map(J=>J[G.yAxis]))],ge=P.map(J=>[K.indexOf(J[G.xAxis]),F.indexOf(J[G.yAxis]),parseFloat(J[G.zAxis])||0]),q=600,ee=320,de=q*.7/K.length,Re=ee*.7/F.length;let N=!1;const X=45;G.showHeatmapLabels==="always"?N=!0:G.showHeatmapLabels==="never"?N=!1:N=de>=X&&Re>=X&&K.length<=12&&F.length<=10;const ae=Math.max(8,Math.min(11,Math.min(de,Re)*.25));return{...re,tooltip:{position:"top",formatter:function(J){return`${G.xAxis}: ${K[J.data[0]]}<br/>${G.yAxis}: ${F[J.data[1]]}<br/>${G.zAxis}: ${J.data[2]}`}},grid:{left:"10%",right:"15%",top:"15%",bottom:"15%"},xAxis:{type:"category",data:K,axisLabel:{fontSize:Math.min(11,ae+1),rotate:K.length>8?45:0,interval:0},splitArea:{show:!0,areaStyle:{color:["#f7f7f7","#ffffff"]}}},yAxis:{type:"category",data:F,axisLabel:{fontSize:Math.min(11,ae+1),interval:0},splitArea:{show:!0,areaStyle:{color:["#f7f7f7","#ffffff"]}}},visualMap:{min:Math.min(...ge.map(J=>J[2])),max:Math.max(...ge.map(J=>J[2])),calculable:!0,orient:"vertical",left:"right",top:"center",show:!0,dimension:2,inRange:{color:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},text:["High","Low"],textStyle:{fontSize:10}},series:[{name:G.zAxis,type:"heatmap",data:ge,label:{show:N,position:G.showHeatmapLabels==="always"&&(de<40||Re<30)?"outside":"inside",fontSize:G.showHeatmapLabels==="always"&&(de<40||Re<30)?Math.max(6,ae-2):ae,fontWeight:"normal",distance:G.showHeatmapLabels==="always"&&(de<40||Re<30)?3:0,color:function(J){if(G.showHeatmapLabels==="always"&&(de<40||Re<30))return"#333333";const ne=J.value[2],Le=Math.max(...ge.map(He=>He[2])),Ne=Math.min(...ge.map(He=>He[2]));return(ne-Ne)/(Le-Ne)>.5?"#ffffff":"#333333"},formatter:function(J){const ne=J.value[2];return(de<35||Re<25)&&G.showHeatmapLabels==="always"?Math.abs(ne)>=1e6?Math.round(ne/1e6)+"M":Math.abs(ne)>=1e3?Math.round(ne/1e3)+"k":Math.abs(ne)>=100?Math.round(ne).toString():Math.round(ne*10)/10:Math.abs(ne)>=1e6?(ne/1e6).toFixed(1)+"M":Math.abs(ne)>=1e3?(ne/1e3).toFixed(1)+"k":Math.abs(ne)>=100?Math.round(ne).toString():Math.abs(ne)>=1?ne.toFixed(1):ne.toFixed(2)}},itemStyle:{borderColor:"#ffffff",borderWidth:1,borderRadius:2},emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}if(["scatter","bubble"].includes(G.chartType)){const K=P.map(F=>{const ge=[parseFloat(F[G.xAxis])||0,parseFloat(F[G.yAxis])||0];return G.chartType==="bubble"&&G.zAxis&&ge.push(parseFloat(F[G.zAxis])||1),ge});return{...re,tooltip:{trigger:"item",formatter:function(F){let ge=`${G.xAxis}: ${F.data[0]}<br/>${G.yAxis}: ${F.data[1]}`;return G.chartType==="bubble"&&F.data[2]!==void 0&&(ge+=`<br/>${G.zAxis}: ${F.data[2]}`),ge}},xAxis:{type:"value",name:G.xAxis,axisLabel:{fontSize:10}},yAxis:{type:"value",name:G.yAxis,axisLabel:{fontSize:10}},series:[{name:G.title,type:"scatter",data:K,symbolSize:function(F){return G.chartType==="bubble"&&F[2]!==void 0?Math.sqrt(F[2])*2:8},itemStyle:{color:"#3B82F6"}}]}}const ue=P.map((K,F)=>{const ge=K[G.xAxis];if(ge==null||ge==="")return F===0&&(console.warn(`Missing column '${G.xAxis}' in data. Available columns:`,Object.keys(K)),console.warn("Sample row:",K)),`Row ${F+1}`;if(G.xAxis.toLowerCase().includes("date")||G.xAxis.toLowerCase().includes("time"))try{const q=new Date(ge);return isNaN(q.getTime())?(console.warn("Invalid date value:",ge),String(ge)):ge&&typeof ge=="string"&&ge.includes(":")?q.toLocaleDateString()+" "+q.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):q.toLocaleDateString()}catch(q){return console.warn("Failed to parse datetime:",ge,q),String(ge)}return String(ge)}),he=P.map(K=>parseFloat(K[G.yAxis])||0);return{...re,xAxis:{type:"category",data:ue,axisLabel:{rotate:G.xAxis.toLowerCase().includes("date")||G.xAxis.toLowerCase().includes("time")||ue.length>10?45:0,fontSize:10,interval:ue.length>20?"auto":0}},yAxis:{type:"value",axisLabel:{fontSize:10}},series:[{name:G.yAxis,type:G.chartType==="column"?"bar":G.chartType,data:he,smooth:G.chartType==="line",itemStyle:{color:"#3B82F6"},areaStyle:G.chartType==="area"?{}:void 0}]}},le=()=>{console.log("=== SAVING CHART CONFIGURATION ==="),console.log("Config being saved:",b),console.log("Cell ID:",s.id),console.log("Available columns:",W()),console.log("CSV data rows:",u.csvData.length),console.log("Chart instance exists:",!!M),c({type:f.UPDATE_CELL,payload:{id:s.id,updates:{...b,executed:!0,executionTime:"0.1s"}}}),c({type:f.SET_EDITING_CELL,payload:null}),p(!1),console.log("=== CONFIGURATION SAVE COMPLETE ==="),setTimeout(()=>{M&&u.csvData.length>0&&(console.log("=== FORCING CHART RE-RENDER AFTER SAVE ==="),se())},100)},qe=()=>{Y({title:s.title||"New Chart",chartType:s.chartType||"line",dataSource:s.dataSource||"csv",query:s.query||"",xAxis:s.xAxis||"",yAxis:s.yAxis||"",zAxis:s.zAxis||"",groupBy:s.groupBy||"",aggregation:s.aggregation||"none",filterCondition:s.filterCondition||"",colorBy:s.colorBy||"",sizeBy:s.sizeBy||"",sortBy:s.sortBy||"",sortOrder:s.sortOrder||"asc",limit:s.limit||100,showHeatmapLabels:s.showHeatmapLabels!==void 0?s.showHeatmapLabels:"auto"}),c({type:f.SET_EDITING_CELL,payload:null}),p(!1)},nt=(P,G)=>{Y(re=>({...re,[P]:G}))};return o.jsxs("div",{className:`border border-gray-200 rounded-lg bg-white ${u.selectedCellId===s.id?"ring-2 ring-blue-500":""}`,onClick:()=>c({type:f.SET_SELECTED_CELL,payload:s.id}),children:[o.jsx(ri,{cell:s,isSelected:u.selectedCellId===s.id}),o.jsxs("div",{className:"flex items-center justify-end space-x-2 px-3 py-2 border-b border-gray-100 bg-gray-25",children:[o.jsxs("button",{onClick:()=>c({type:f.TOGGLE_MODAL,payload:{modal:"aiAssist",value:{open:!0,cellId:s.id}}}),className:"px-2 py-1 text-xs bg-purple-100 text-purple-700 rounded hover:bg-purple-200 transition-colors flex items-center space-x-1",children:[o.jsx(ie,{name:"Sparkles",className:"w-3 h-3"}),o.jsx("span",{children:"AI"})]}),o.jsx("button",{onClick:()=>{c({type:f.SET_EDITING_CELL,payload:s.id}),p(!0)},className:"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",children:"Configure"})]}),!s.collapsed&&o.jsx("div",{className:"p-4",children:A||B?o.jsx(cv,{config:b,onConfigChange:nt,availableColumns:W(),chartTypeOptions:$,aggregationOptions:pe,onSave:le,onCancel:qe,cell:s,executeCell:v,dispatch:c,ActionTypes:f}):o.jsx(o.Fragment,{children:o.jsxs("div",{children:[w&&o.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md",children:o.jsxs("div",{className:"flex",children:[o.jsx(ie,{name:"AlertCircle",className:"w-5 h-5 text-red-400"}),o.jsxs("div",{className:"ml-3",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Chart Configuration Error"}),o.jsx("p",{className:"text-sm text-red-700 mt-1",children:w})]})]})}),o.jsx("div",{className:"w-full border border-gray-200 rounded bg-white",ref:_,style:{height:"320px",minHeight:"320px",width:"100%",backgroundColor:"#ffffff",display:b.xAxis&&b.yAxis?"block":"none"}}),s.aiReasoning&&o.jsx("div",{className:"mt-3 p-2 bg-purple-50 border border-purple-200 rounded-md",children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(ie,{name:"Sparkles",className:"w-3 h-3 text-purple-600 mt-0.5"}),o.jsxs("div",{className:"text-xs text-purple-700",children:[o.jsx("span",{className:"font-medium",children:"AI Configuration:"})," ",s.aiReasoning]})]})}),b.xAxis&&b.yAxis&&o.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm text-gray-500",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Data:"})," ",b.dataSource==="csv"?"CSV Data":"Custom Query"," ",o.jsx("span",{className:"font-medium",children:" Type:"})," ",$.find(P=>P.value===b.chartType)?.label," ",o.jsx("span",{className:"font-medium",children:" X:"})," ",b.xAxis," ",o.jsx("span",{className:"font-medium",children:" Y:"})," ",b.yAxis,b.groupBy&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"font-medium",children:"  Group:"})," ",b.groupBy]}),b.aggregation!=="none"&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"font-medium",children:"  Agg:"})," ",b.aggregation]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("button",{onClick:()=>{console.log("Manual refresh triggered"),M&&(M.resize(),se())},className:"text-xs text-blue-600 hover:text-blue-700",children:"Refresh Chart"}),o.jsx("button",{onClick:()=>{c({type:f.SET_EDITING_CELL,payload:s.id}),p(!0)},className:"text-xs text-green-600 hover:text-green-700",children:"Reconfigure"})]})]}),!(b.xAxis&&b.yAxis)&&o.jsxs("div",{className:"h-64 bg-gray-50 rounded border flex flex-col items-center justify-center p-4",children:[o.jsxs("div",{className:"text-center text-gray-500 mb-4",children:[o.jsx(ie,{name:"BarChart3",className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),o.jsx("p",{className:"text-sm",children:"Chart not configured"}),o.jsx("p",{className:"text-xs mt-1",children:'Click "Configure" to set up your chart'})]}),o.jsxs("div",{className:"text-xs text-gray-400 max-w-full overflow-hidden",children:[o.jsx("p",{children:o.jsx("strong",{children:"Debug Info:"})}),o.jsxs("p",{children:["Data Source: ",b.dataSource]}),o.jsxs("p",{children:["CSV Data: ",u.csvData?.length||0," rows"]}),o.jsxs("p",{children:["Query Results: ",s.queryResults?.length||0," rows"]}),o.jsxs("p",{children:["Available Columns: ",W().length>0?W().join(", "):"None"]}),o.jsxs("p",{children:["X-Axis: ",b.xAxis||"Not set"]}),o.jsxs("p",{children:["Y-Axis: ",b.yAxis||"Not set"]})]})]})]})})})]})}function cv({config:s,onConfigChange:u,availableColumns:c,chartTypeOptions:f,aggregationOptions:v,onSave:_,onCancel:M,cell:U,executeCell:A,dispatch:p,ActionTypes:w}){const j=c.map(W=>({value:W,label:W})),b=[{value:"asc",label:"Ascending"},{value:"desc",label:"Descending"}],Y=(W,$,pe,ye="Select option")=>o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:W}),o.jsxs("select",{value:s[$],onChange:se=>u($,se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[o.jsx("option",{value:"",children:ye}),pe.map(se=>o.jsx("option",{value:se.value,children:se.label},se.value))]})]}),B=(W,$,pe="text",ye="")=>o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:W}),o.jsx("input",{type:pe,value:s[$],onChange:se=>u($,pe==="number"?parseInt(se.target.value)||0:se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:ye})]});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-4",children:[B("Chart Title","title","text","Enter chart title"),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chart Type"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:f.map(W=>o.jsx("button",{onClick:()=>u("chartType",W.value),className:`p-3 border rounded-lg text-left transition-colors ${s.chartType===W.value?"border-green-500 bg-green-50 text-green-700":"border-gray-300 hover:border-gray-400"}`,children:o.jsx("div",{className:"flex items-center",children:o.jsx("span",{className:"text-sm",children:W.label})})},W.value))})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data Source"}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"dataSource",value:"csv",checked:s.dataSource==="csv",onChange:W=>u("dataSource",W.target.value),className:"mr-2"}),"CSV Data"]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"dataSource",value:"query",checked:s.dataSource==="query",onChange:W=>u("dataSource",W.target.value),className:"mr-2"}),"Custom Query"]})]})]}),s.dataSource==="query"&&o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SQL Query"}),o.jsx("textarea",{value:s.query,onChange:W=>u("query",W.target.value),className:"w-full h-24 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 font-mono text-sm",placeholder:"SELECT x, y FROM transactions..."}),o.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[s.query&&o.jsxs("button",{onClick:async()=>{p({type:w.UPDATE_CELL,payload:{id:U.id,updates:{query:s.query}}}),await A(U.id)},className:"px-3 py-1.5 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center space-x-1",children:[o.jsx(ie,{name:"Play",className:"w-3 h-3"}),o.jsx("span",{children:"Execute Query"})]}),o.jsx("div",{className:"flex-1 ml-3",children:c.length===0&&s.dataSource==="query"?o.jsxs("div",{className:"p-2 bg-yellow-50 border border-yellow-200 rounded text-sm text-yellow-700",children:[o.jsx(ie,{name:"AlertTriangle",className:"w-4 h-4 inline mr-1"}),s.query?'Click "Execute Query" to get column options':"Enter a query to get started"]}):s.dataSource==="query"&&c.length>0?o.jsxs("div",{className:"p-2 bg-green-50 border border-green-200 rounded text-sm text-green-700",children:[o.jsx(ie,{name:"CheckCircle",className:"w-4 h-4 inline mr-1"}),"Query results available. Available columns: ",c.join(", ")]}):null})]})]})]})]}),o.jsxs("div",{className:"border-t pt-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Data Configuration"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:s.chartType==="pie"?o.jsxs(o.Fragment,{children:[Y("Category Column","xAxis",j,"Select category column"),Y("Value Column","yAxis",j,"Select value column")]}):s.chartType==="heatmap"?o.jsxs(o.Fragment,{children:[Y("X Axis (Categories)","xAxis",j,"Select X axis column"),Y("Y Axis (Categories)","yAxis",j,"Select Y axis column"),Y("Value Column","zAxis",j,"Select value column for heat intensity")]}):o.jsxs(o.Fragment,{children:[Y("X Axis","xAxis",j,"Select X axis column"),Y("Y Axis","yAxis",j,"Select Y axis column"),["bubble","scatter"].includes(s.chartType)&&Y("Size Column","zAxis",j,"Select column for bubble size")]})}),o.jsx("div",{className:"mt-3 p-3 bg-blue-50 rounded-md",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx(ie,{name:"Info",className:"w-4 h-4 text-blue-500 mt-0.5 mr-2"}),o.jsxs("div",{className:"text-sm text-blue-700",children:[s.chartType==="pie"&&o.jsxs("p",{children:[o.jsx("strong",{children:"Pie Chart:"})," Category column provides slice labels, Value column determines slice sizes"]}),s.chartType==="heatmap"&&o.jsxs("p",{children:[o.jsx("strong",{children:"Heatmap:"})," X and Y axes create the grid, Value column determines color intensity"]}),s.chartType==="heatmap"&&o.jsxs("div",{className:"mt-3",children:[o.jsx("label",{className:"block text-sm font-medium text-blue-700 mb-2",children:"Label Display"}),o.jsxs("select",{value:s.showHeatmapLabels,onChange:W=>u("showHeatmapLabels",W.target.value),className:"w-full px-2 py-1 text-sm border border-blue-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:[o.jsx("option",{value:"auto",children:"Auto (smart based on size)"}),o.jsx("option",{value:"always",children:"Always show labels"}),o.jsx("option",{value:"never",children:"Never show labels"})]}),o.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:[s.showHeatmapLabels==="auto"&&"Labels shown when cells are large enough",s.showHeatmapLabels==="always"&&"Labels always displayed (may overlap on small cells)",s.showHeatmapLabels==="never"&&"Labels hidden, use tooltip to see values"]})]}),["line","area","bar","column"].includes(s.chartType)&&o.jsxs("p",{children:[o.jsxs("strong",{children:[f.find(W=>W.value===s.chartType)?.label,":"]})," X axis for categories/time, Y axis for numeric values"]}),["scatter","bubble"].includes(s.chartType)&&o.jsxs("p",{children:[o.jsxs("strong",{children:[f.find(W=>W.value===s.chartType)?.label,":"]})," Both X and Y should be numeric columns",s.chartType==="bubble"?", Size column scales bubble sizes":""]})]})]})})]}),!["pie","heatmap"].includes(s.chartType)&&o.jsxs("div",{className:"border-t pt-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Data Processing"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Y("Group By","groupBy",j,"Group data by column (optional)"),s.groupBy&&Y("Aggregation","aggregation",v,"Select aggregation method")]}),s.groupBy&&o.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 rounded text-sm text-yellow-700",children:[o.jsx(ie,{name:"AlertTriangle",className:"w-4 h-4 inline mr-1"}),"Grouping will combine rows with the same ",s.groupBy," value using ",v.find(W=>W.value===s.aggregation)?.label.toLowerCase()," aggregation"]})]}),o.jsxs("div",{className:"border-t pt-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Visual Settings"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Y("Color By","colorBy",j,"Color series by column"),["bubble"].includes(s.chartType)&&Y("Size By","sizeBy",j,"Size bubbles by column"),Y("Sort By","sortBy",j,"Sort data by column"),Y("Sort Order","sortOrder",b)]})]}),o.jsxs("div",{className:"border-t pt-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Advanced Settings"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[B("Filter Condition","filterCondition","text","WHERE clause (optional)"),B("Row Limit","limit","number","100")]})]}),o.jsxs("div",{className:"border-t pt-4 flex items-center justify-end space-x-3",children:[o.jsx("button",{onClick:M,className:"px-4 py-2 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",children:"Cancel"}),o.jsxs("button",{onClick:_,className:"px-4 py-2 text-sm bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center space-x-2",children:[o.jsx(ie,{name:"Save",className:"w-4 h-4"}),o.jsx("span",{children:"Apply Configuration"})]})]})]})}function dv(){const{state:s,dispatch:u,ActionTypes:c}=Mt(),{aiAssist:f}=s.modals,[v,_]=S.useState(""),[M,U]=S.useState(!1),p=s.cells.find(B=>B.id===f.cellId)?.type==="chart",w=()=>{u({type:c.TOGGLE_MODAL,payload:{modal:"aiAssist",value:{open:!1,cellId:null}}}),_("")},j=async(B,W)=>{try{const $=Es(s.csvData,s.columnTypes),pe=s.csvData.length>0?Object.keys(s.csvData[0]):[],ye=s.cells.slice(0,s.cells.findIndex(le=>le.id===B)),se=await $.generateChartConfiguration(W,pe,ye);let xe;try{const le=se.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();xe=JSON.parse(le)}catch(le){throw console.error("Failed to parse AI response:",le),new Error("AI returned invalid chart configuration format")}if(!xe.chartType||!xe.xAxis||!xe.yAxis)throw new Error("AI response missing required chart configuration fields");return u({type:c.UPDATE_CELL,payload:{id:B,updates:{title:xe.title||"AI Generated Chart",chartType:xe.chartType,dataSource:xe.dataSource||"csv",xAxis:xe.xAxis,yAxis:xe.yAxis,zAxis:xe.zAxis||"",groupBy:xe.groupBy||"",aggregation:xe.aggregation||"none",executed:!1,aiReasoning:xe.reasoning}}}),!0}catch($){throw console.error("Chart configuration failed:",$),$}},b=async(B,W)=>{try{const $=Es(s.csvData,s.columnTypes),pe=`Generate a SQL query for this request: "${W}"
      
Please provide only the SQL query without explanation. The query should be practical and executable.`,ye=s.cells.slice(0,s.cells.findIndex(P=>P.id===B)),xe=(await $.sendMessage([{role:"user",content:pe}],ye)).replace(/```sql\n?/g,"").replace(/```\n?/g,"").trim(),le=W.toLowerCase();let qe="";le.includes("fraud")?qe="Fraud Pattern Analysis":le.includes("revenue")||le.includes("amount")?qe="Revenue Analysis":le.includes("merchant")?qe="Merchant Performance":le.includes("time")?qe="Temporal Analysis":le.includes("country")||le.includes("location")?qe="Geographic Analysis":qe="AI Generated Query";const nt={query:xe,title:qe,executed:!1,queryResults:[],queryError:null};return u({type:c.UPDATE_CELL,payload:{id:B,updates:nt}}),!0}catch($){throw console.error("SQL generation failed:",$),$}},Y=async(B,W)=>{if(!W.trim())return;U(!0);const $=s.cells.find(pe=>pe.id===B);if(!$){U(!1);return}try{$.type==="chart"?await j(B,W):await b(B,W),U(!1),w()}catch(pe){console.error("AI assist failed:",pe),U(!1)}};return f.open?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-[520px] max-w-full mx-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:p?"AI Assist - Natural Language to Chart":"AI Assist - Natural Language to SQL"}),o.jsx("button",{onClick:w,className:"text-gray-400 hover:text-gray-600",children:o.jsx(ie,{name:"X",className:"w-5 h-5"})})]}),o.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(ie,{name:p?"BarChart3":"Brain",className:"w-5 h-5 text-blue-600 mt-0.5"}),o.jsxs("div",{className:"text-sm text-blue-700",children:[o.jsx("p",{className:"font-medium",children:"How it works:"}),o.jsx("p",{className:"mt-1",children:p?"Describe what kind of chart you want to create, and I'll configure it with the right settings for your transaction data.":"Describe what you want to analyze in plain English, and I'll generate a SQL query for your transaction data."})]})]})}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:p?"Chart Description":"Natural Language Query"}),o.jsx("textarea",{value:v,onChange:B=>_(B.target.value),className:"w-full h-24 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",placeholder:p?"e.g., Create a bar chart showing total revenue by merchant country":"e.g., Show me all high-value transactions over $1000 in the last month",disabled:M})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-2",children:p?"Example chart requests:":"Example queries:"}),o.jsx("div",{className:"space-y-1",children:p?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded",children:' "Show me a line chart of transaction amounts over time"'}),o.jsx("div",{className:"text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded",children:' "Create a pie chart showing the distribution of fraud vs legitimate transactions"'}),o.jsx("div",{className:"text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded",children:' "Make a bar chart comparing revenue by different merchants"'}),o.jsx("div",{className:"text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded",children:' "Show a scatter plot of transaction amounts vs merchant countries"'})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded",children:' "Show me suspicious transactions that might be fraud"'}),o.jsx("div",{className:"text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded",children:` "What's our total revenue by day over the last month?"`}),o.jsx("div",{className:"text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded",children:' "Which merchants have the most transactions?"'})]})})]}),o.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[o.jsx("button",{onClick:w,className:"px-4 py-2 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",disabled:M,children:"Cancel"}),o.jsx("button",{onClick:()=>Y(f.cellId,v),disabled:!v.trim()||M,className:"px-4 py-2 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:M?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),o.jsx("span",{children:"Processing..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(ie,{name:"Sparkles",className:"w-4 h-4"}),o.jsx("span",{children:p?"Configure Chart":"Generate Query"})]})})]})]})}):null}function fv(){const{state:s,dispatch:u,ActionTypes:c}=Mt(),{addState:f}=s.modals,[v,_]=S.useState({name:"",description:"",computationType:"window_sum",field:"charged_amount",condition:"",windowDays:7,groupBy:"merchant_id",persistent:!1}),[M,U]=S.useState(!1),[A,p]=S.useState(""),[w,j]=S.useState(!1);Sc.useEffect(()=>{f.open&&f.showAIHelper&&U(!0)},[f.open,f.showAIHelper]);const b=()=>{u({type:c.TOGGLE_MODAL,payload:{modal:"addState",value:{open:!1,cellId:null}}}),_({name:"",description:"",computationType:"window_sum",field:"charged_amount",condition:"",windowDays:7,groupBy:"merchant_id",persistent:!1}),U(!1),p("")},Y=async()=>{if(A.trim()){j(!0);try{const $=Es(s.csvData,s.columnTypes),pe=s.csvData.length>0?Object.keys(s.csvData[0]):[],ye=await $.generateStateDefinition(A,pe);let se;try{const xe=ye.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();se=JSON.parse(xe)}catch(xe){console.error("Failed to parse AI response:",xe),alert("AI returned invalid configuration format. Please try again.");return}_({name:se.name||"",description:se.description||"",computationType:se.computationType||"window_sum",field:se.field||"charged_amount",condition:se.condition||"",windowDays:se.windowDays||7,groupBy:se.groupBy||"",persistent:se.persistent||!1}),U(!1),p("")}catch($){console.error("AI state generation failed:",$),alert(`AI generation failed: ${$.message}`)}finally{j(!1)}}},B=($,pe,ye,se,xe)=>{const le=pe==="*"?"*":pe;switch($){case"window_sum":return xe?`SUM(${le}) OVER (PARTITION BY ${xe} ORDER BY txn_date_time ROWS BETWEEN ${se*10} PRECEDING AND CURRENT ROW)`:`SUM(${le}) OVER (ORDER BY txn_date_time ROWS BETWEEN ${se*10} PRECEDING AND CURRENT ROW)`;case"window_avg":return xe?`AVG(${le}) OVER (PARTITION BY ${xe} ORDER BY txn_date_time ROWS BETWEEN ${se*10} PRECEDING AND CURRENT ROW)`:`AVG(${le}) OVER (ORDER BY txn_date_time ROWS BETWEEN ${se*10} PRECEDING AND CURRENT ROW)`;case"window_count":return xe?`COUNT(*) OVER (PARTITION BY ${xe} ORDER BY txn_date_time ROWS BETWEEN ${se*10} PRECEDING AND CURRENT ROW)`:`COUNT(*) OVER (ORDER BY txn_date_time ROWS BETWEEN ${se*10} PRECEDING AND CURRENT ROW)`;case"aggregate_sum":const qe=le==="*"?"COUNT(*)":`SUM(${le})`;return xe?`(SELECT ${qe} FROM transactions t2 WHERE t2.${xe} = transactions.${xe}${ye?" AND "+ye:""})`:`(SELECT ${qe} FROM transactions t2${ye?" WHERE "+ye:""})`;case"aggregate_count":return xe?`(SELECT COUNT(*) FROM transactions t2 WHERE t2.${xe} = transactions.${xe}${ye?" AND "+ye:""})`:`(SELECT COUNT(*) FROM transactions t2${ye?" WHERE "+ye:""})`;case"risk_score":return`CASE 
          WHEN COUNT(CASE WHEN decline = 1 THEN 1 END) OVER (PARTITION BY user_id ORDER BY txn_date_time ROWS BETWEEN ${se*10} PRECEDING AND CURRENT ROW) > 2 THEN 'HIGH'
          WHEN COUNT(CASE WHEN decline = 1 THEN 1 END) OVER (PARTITION BY user_id ORDER BY txn_date_time ROWS BETWEEN ${se*10} PRECEDING AND CURRENT ROW) > 0 THEN 'MEDIUM'
          ELSE 'LOW'
        END`;default:return`SUM(${le}) OVER (ORDER BY txn_date_time)`}},W=async()=>{if(!v.name.trim()){alert("Please provide a state name");return}const $={name:v.name,description:v.description,query:B(v.computationType,v.field,v.condition,v.windowDays,v.groupBy),computationType:v.computationType,field:v.field,condition:v.condition,windowDays:v.windowDays,groupBy:v.groupBy,persistent:v.persistent},pe=s.cells.find(ye=>ye.id===f.cellId&&ye.type==="state");if(pe&&(u({type:c.UPDATE_CELL,payload:{id:f.cellId,updates:{states:[...pe.states,$]}}}),v.persistent))try{const{sqliteEngine:ye}=await Nc(async()=>{const{sqliteEngine:le}=await Promise.resolve().then(()=>wc);return{sqliteEngine:le}},void 0),se=`
            SELECT *, 
                   (${$.query}) as ${$.name}
            FROM transactions 
            ORDER BY rowid
          `,xe=ye.execute(se);xe.success?(u({type:c.SET_CSV_DATA,payload:xe.data}),await ye.setData(xe.data),alert(`State "${$.name}" has been computed and persisted to the dataset.`)):alert(`Error computing state: ${xe.error}`)}catch(ye){console.error("Error persisting state:",ye),alert(`Error persisting state: ${ye.message}`)}b()};return f.open?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg w-[520px] max-w-full max-h-[90vh] overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 flex-shrink-0",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Add Computed State"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("button",{onClick:()=>U(!M),className:"px-3 py-1.5 text-xs bg-purple-100 text-purple-700 rounded hover:bg-purple-200 transition-colors flex items-center space-x-1",children:[o.jsx(ie,{name:"Sparkles",className:"w-3 h-3"}),o.jsx("span",{children:"AI Assist"})]}),o.jsx("button",{onClick:b,className:"text-gray-400 hover:text-gray-600",children:o.jsx(ie,{name:"X",className:"w-5 h-5"})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:o.jsxs("div",{className:"space-y-4",children:[M&&o.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h4",{className:"text-sm font-medium text-purple-900",children:"AI State Generator"}),o.jsx("button",{onClick:()=>U(!1),className:"text-purple-400 hover:text-purple-600",children:o.jsx(ie,{name:"X",className:"w-4 h-4"})})]}),o.jsx("p",{className:"text-xs text-purple-700 mb-3",children:"Describe the computed state you want to create in plain English, and AI will configure it for you."}),o.jsx("div",{className:"mb-3",children:o.jsx("textarea",{value:A,onChange:$=>p($.target.value),className:"w-full h-20 p-3 text-sm border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none",placeholder:"e.g., Calculate the total amount spent by each user in the last 30 days",disabled:w})}),o.jsxs("div",{className:"mb-3 text-xs text-purple-600",children:[o.jsx("div",{className:"font-medium mb-1",children:"Example requests:"}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"bg-purple-100 px-2 py-1 rounded",children:' "Count how many transactions each user made in the last 7 days"'}),o.jsx("div",{className:"bg-purple-100 px-2 py-1 rounded",children:' "Calculate average transaction amount per merchant over time"'}),o.jsx("div",{className:"bg-purple-100 px-2 py-1 rounded",children:' "Create a risk score based on declined transactions"'})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:Y,disabled:!A.trim()||w,className:"px-4 py-2 text-sm bg-purple-600 text-white rounded hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:w?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-white"}),o.jsx("span",{children:"Generating..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(ie,{name:"Sparkles",className:"w-3 h-3"}),o.jsx("span",{children:"Generate State"})]})})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State Name *"}),o.jsx("input",{type:"text",value:v.name,onChange:$=>_({...v,name:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"e.g., user_fraud_risk"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),o.jsx("input",{type:"text",value:v.description,onChange:$=>_({...v,description:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Brief description of what this state represents"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Computation Type"}),o.jsxs("select",{value:v.computationType,onChange:$=>_({...v,computationType:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[o.jsx("option",{value:"window_sum",children:"Rolling Window Sum"}),o.jsx("option",{value:"window_avg",children:"Rolling Window Average"}),o.jsx("option",{value:"window_count",children:"Rolling Window Count"}),o.jsx("option",{value:"aggregate_sum",children:"Aggregate Sum"}),o.jsx("option",{value:"aggregate_count",children:"Aggregate Count"}),o.jsx("option",{value:"risk_score",children:"Risk Score"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Field"}),o.jsxs("select",{value:v.field,onChange:$=>_({...v,field:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[o.jsx("option",{value:"charged_amount",children:"charged_amount"}),o.jsx("option",{value:"decline",children:"decline"}),o.jsx("option",{value:"fraud",children:"fraud"}),o.jsx("option",{value:"*",children:"* (count all)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group By"}),o.jsxs("select",{value:v.groupBy,onChange:$=>_({...v,groupBy:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[o.jsx("option",{value:"",children:"None"}),o.jsx("option",{value:"user_id",children:"user_id"}),o.jsx("option",{value:"merchant_id",children:"merchant_id"}),o.jsx("option",{value:"merchant_country",children:"merchant_country"}),o.jsx("option",{value:"outcome",children:"outcome"})]})]})]}),v.computationType.startsWith("window_")&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Window Days"}),o.jsx("input",{type:"number",value:v.windowDays,onChange:$=>_({...v,windowDays:parseInt($.target.value)||7}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",min:"1",max:"365"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Condition (optional)"}),o.jsx("input",{type:"text",value:v.condition,onChange:$=>_({...v,condition:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"e.g., fraud = 1"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"persistent",checked:v.persistent,onChange:$=>_({...v,persistent:$.target.checked}),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),o.jsx("label",{htmlFor:"persistent",className:"text-sm text-gray-700",children:"Persist to dataset (add as new column)"})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[o.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Generated Query:"}),o.jsx("div",{className:"bg-white rounded border p-3 font-mono text-xs text-gray-600",children:B(v.computationType,v.field,v.condition,v.windowDays,v.groupBy)})]})]})}),o.jsxs("div",{className:"flex items-center justify-end space-x-3 p-4 border-t border-gray-200 flex-shrink-0",children:[o.jsx("button",{onClick:b,className:"px-4 py-2 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",children:"Cancel"}),o.jsxs("button",{onClick:W,className:"px-4 py-2 text-sm bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors flex items-center space-x-2",children:[o.jsx(ie,{name:"Plus",className:"w-4 h-4"}),o.jsx("span",{children:"Add State"})]})]})]})}):null}function mv(){const{state:s,dispatch:u,ActionTypes:c}=Mt(),{editState:f}=s.modals,[v,_]=S.useState({name:"",description:"",computationType:"window_sum",field:"charged_amount",condition:"",windowDays:7,groupBy:"merchant_id",persistent:!1});S.useEffect(()=>{if(f.open&&f.cellId&&f.stateIndex!==void 0){const w=s.cells.find(j=>j.id===f.cellId&&j.type==="state");if(w&&w.states[f.stateIndex]){const j=w.states[f.stateIndex];_({name:j.name||"",description:j.description||"",computationType:j.computationType||"window_sum",field:j.field||"charged_amount",condition:j.condition||"",windowDays:j.windowDays||7,groupBy:j.groupBy||"merchant_id",persistent:j.persistent||!1})}}},[f.open,f.cellId,f.stateIndex,s.cells]);const M=()=>{u({type:c.TOGGLE_MODAL,payload:{modal:"editState",value:{open:!1,cellId:null,stateIndex:null}}})},U=(w,j,b,Y,B)=>{const W=j==="*"?"*":j;switch(w){case"window_sum":return B?`SUM(${W}) OVER (PARTITION BY ${B} ORDER BY txn_date_time ROWS BETWEEN ${Y*10} PRECEDING AND CURRENT ROW)`:`SUM(${W}) OVER (ORDER BY txn_date_time ROWS BETWEEN ${Y*10} PRECEDING AND CURRENT ROW)`;case"window_avg":return B?`AVG(${W}) OVER (PARTITION BY ${B} ORDER BY txn_date_time ROWS BETWEEN ${Y*10} PRECEDING AND CURRENT ROW)`:`AVG(${W}) OVER (ORDER BY txn_date_time ROWS BETWEEN ${Y*10} PRECEDING AND CURRENT ROW)`;case"window_count":return B?`COUNT(*) OVER (PARTITION BY ${B} ORDER BY txn_date_time ROWS BETWEEN ${Y*10} PRECEDING AND CURRENT ROW)`:`COUNT(*) OVER (ORDER BY txn_date_time ROWS BETWEEN ${Y*10} PRECEDING AND CURRENT ROW)`;case"aggregate_sum":const $=W==="*"?"COUNT(*)":`SUM(${W})`;return B?`(SELECT ${$} FROM transactions t2 WHERE t2.${B} = transactions.${B}${b?" AND "+b:""})`:`(SELECT ${$} FROM transactions t2${b?" WHERE "+b:""})`;case"aggregate_count":return B?`(SELECT COUNT(*) FROM transactions t2 WHERE t2.${B} = transactions.${B}${b?" AND "+b:""})`:`(SELECT COUNT(*) FROM transactions t2${b?" WHERE "+b:""})`;case"risk_score":return`CASE 
          WHEN COUNT(CASE WHEN decline = 1 THEN 1 END) OVER (PARTITION BY user_id ORDER BY txn_date_time ROWS BETWEEN ${Y*10} PRECEDING AND CURRENT ROW) > 2 THEN 'HIGH'
          WHEN COUNT(CASE WHEN decline = 1 THEN 1 END) OVER (PARTITION BY user_id ORDER BY txn_date_time ROWS BETWEEN ${Y*10} PRECEDING AND CURRENT ROW) > 0 THEN 'MEDIUM'
          ELSE 'LOW'
        END`;default:return`SUM(${W}) OVER (ORDER BY txn_date_time)`}},A=async()=>{if(!v.name.trim()){alert("Please provide a state name");return}const w={name:v.name,description:v.description,query:U(v.computationType,v.field,v.condition,v.windowDays,v.groupBy),computationType:v.computationType,field:v.field,condition:v.condition,windowDays:v.windowDays,groupBy:v.groupBy,persistent:v.persistent},j=s.cells.find(b=>b.id===f.cellId&&b.type==="state");if(j){const b=[...j.states],Y=b[f.stateIndex];if(b[f.stateIndex]=w,u({type:c.UPDATE_CELL,payload:{id:f.cellId,updates:{states:b}}}),v.persistent&&!Y.persistent)try{const{sqliteEngine:B}=await Nc(async()=>{const{sqliteEngine:pe}=await Promise.resolve().then(()=>wc);return{sqliteEngine:pe}},void 0),W=`
            SELECT *, 
                   (${w.query}) as ${w.name}
            FROM transactions 
            ORDER BY rowid
          `,$=B.execute(W);$.success?(u({type:c.SET_CSV_DATA,payload:$.data}),await B.setData($.data),alert(`State "${w.name}" has been updated and persisted to the dataset.`)):alert(`State updated, but error computing values: ${$.error}`)}catch(B){console.error("Error persisting updated state:",B),alert(`State updated, but error persisting: ${B.message}`)}else alert(`State "${w.name}" has been updated.`)}M()},p=()=>{if(!confirm("Are you sure you want to delete this computed state?"))return;const w=s.cells.find(j=>j.id===f.cellId&&j.type==="state");if(w){const j=w.states.filter((b,Y)=>Y!==f.stateIndex);u({type:c.UPDATE_CELL,payload:{id:f.cellId,updates:{states:j}}}),alert("Computed state has been deleted.")}M()};return f.open?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg w-[520px] max-w-full max-h-[90vh] overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 flex-shrink-0",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Edit Computed State"}),o.jsx("button",{onClick:M,className:"text-gray-400 hover:text-gray-600",children:o.jsx(ie,{name:"X",className:"w-5 h-5"})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State Name *"}),o.jsx("input",{type:"text",value:v.name,onChange:w=>_({...v,name:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"e.g., user_fraud_risk"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),o.jsx("input",{type:"text",value:v.description,onChange:w=>_({...v,description:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Brief description of what this state represents"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Computation Type"}),o.jsxs("select",{value:v.computationType,onChange:w=>_({...v,computationType:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[o.jsx("option",{value:"window_sum",children:"Rolling Window Sum"}),o.jsx("option",{value:"window_avg",children:"Rolling Window Average"}),o.jsx("option",{value:"window_count",children:"Rolling Window Count"}),o.jsx("option",{value:"aggregate_sum",children:"Aggregate Sum"}),o.jsx("option",{value:"aggregate_count",children:"Aggregate Count"}),o.jsx("option",{value:"risk_score",children:"Risk Score"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Field"}),o.jsxs("select",{value:v.field,onChange:w=>_({...v,field:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[o.jsx("option",{value:"charged_amount",children:"charged_amount"}),o.jsx("option",{value:"decline",children:"decline"}),o.jsx("option",{value:"fraud",children:"fraud"}),o.jsx("option",{value:"*",children:"* (count all)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group By"}),o.jsxs("select",{value:v.groupBy,onChange:w=>_({...v,groupBy:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[o.jsx("option",{value:"",children:"None"}),o.jsx("option",{value:"user_id",children:"user_id"}),o.jsx("option",{value:"merchant_id",children:"merchant_id"}),o.jsx("option",{value:"merchant_country",children:"merchant_country"}),o.jsx("option",{value:"outcome",children:"outcome"})]})]})]}),v.computationType.startsWith("window_")&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Window Days"}),o.jsx("input",{type:"number",value:v.windowDays,onChange:w=>_({...v,windowDays:parseInt(w.target.value)||7}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",min:"1",max:"365"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Condition (optional)"}),o.jsx("input",{type:"text",value:v.condition,onChange:w=>_({...v,condition:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"e.g., fraud = 1"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"persistent-edit",checked:v.persistent,onChange:w=>_({...v,persistent:w.target.checked}),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),o.jsx("label",{htmlFor:"persistent-edit",className:"text-sm text-gray-700",children:"Persist to dataset (add as new column)"})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[o.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Generated Query:"}),o.jsx("div",{className:"bg-white rounded border p-3 font-mono text-xs text-gray-600",children:U(v.computationType,v.field,v.condition,v.windowDays,v.groupBy)})]})]})}),o.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-gray-200 flex-shrink-0",children:[o.jsxs("button",{onClick:p,className:"px-4 py-2 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition-colors flex items-center space-x-2",children:[o.jsx(ie,{name:"Trash2",className:"w-4 h-4"}),o.jsx("span",{children:"Delete"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("button",{onClick:M,className:"px-4 py-2 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",children:"Cancel"}),o.jsxs("button",{onClick:A,className:"px-4 py-2 text-sm bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors flex items-center space-x-2",children:[o.jsx(ie,{name:"Save",className:"w-4 h-4"}),o.jsx("span",{children:"Save Changes"})]})]})]})]})}):null}function hv(){const{state:s,dispatch:u,ActionTypes:c}=Mt(),[f,v]=S.useState(s.settings.apiKey||""),_=()=>{u({type:c.TOGGLE_MODAL,payload:{modal:"settings",value:!1}})},M=()=>{localStorage.setItem("openai_api_key",f),u({type:c.UPDATE_SETTINGS,payload:{apiKey:f}}),_()};return s.modals.settings?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-[480px] max-w-full mx-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Settings"}),o.jsx("button",{onClick:_,className:"text-gray-400 hover:text-gray-600",children:o.jsx(ie,{name:"X",className:"w-5 h-5"})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"OpenAI API Key"}),o.jsx("input",{type:"password",value:f,onChange:U=>v(U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"sk-..."}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Your API key is stored locally and never sent to our servers"})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(ie,{name:"Brain",className:"w-5 h-5 text-blue-600 mt-0.5"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"font-medium text-blue-900 mb-1",children:"How to get your API key:"}),o.jsxs("ol",{className:"text-blue-700 space-y-1 list-decimal list-inside",children:[o.jsxs("li",{children:["Go to ",o.jsx("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"platform.openai.com/api-keys"})]}),o.jsx("li",{children:'Click "Create new secret key"'}),o.jsx("li",{children:"Copy the key and paste it above"})]})]})]})}),o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(ie,{name:"Settings",className:"w-5 h-5 text-yellow-600 mt-0.5"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"font-medium text-yellow-900 mb-1",children:"Security & Privacy:"}),o.jsxs("ul",{className:"text-yellow-700 space-y-1 list-disc list-inside",children:[o.jsx("li",{children:"API key is stored only in your browser's local storage"}),o.jsx("li",{children:"Conversations are sent directly to OpenAI's API"}),o.jsx("li",{children:"No data is stored on our servers"})]})]})]})})]}),o.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[o.jsx("button",{onClick:_,className:"px-4 py-2 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",children:"Cancel"}),o.jsxs("button",{onClick:M,className:"px-4 py-2 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(ie,{name:"Save",className:"w-4 h-4"}),o.jsx("span",{children:"Save Settings"})]})]})]})}):null}const ai=[{id:"inv_advanced_fraud_ml_001",name:"Advanced Fraud Detection with ML Features",description:"Comprehensive fraud investigation using computed states, risk scoring, behavioral analysis, and predictive modeling to identify sophisticated fraud patterns.",createdAt:"2024-01-15T10:30:00.000Z",updatedAt:"2024-01-15T14:45:00.000Z",version:"1.0",cells:[{id:1,type:"markdown",content:`# Advanced Fraud Detection with ML Features 

## Investigation Overview
**Investigation ID:** AFD-ML-2024-001  
**Risk Level:**  CRITICAL  
**Classification:** Machine Learning Enhanced Fraud Detection  
**Analyst:** Sarah Chen, Senior AML Investigator

## Scope & Objectives
This investigation leverages advanced analytical techniques including:
- **Computed Risk States** for real-time scoring
- **Behavioral Pattern Analysis** using window functions  
- **Geographic Risk Assessment** with cross-border patterns
- **Velocity-based Detection** for rapid transaction sequences
- **AI-Assisted Analysis** for pattern recognition

## Key Metrics Monitored
- User transaction velocity (rolling 24hr windows)
- Geographic dispersion scores
- Payment method risk correlation
- Merchant category anomalies
- Amount pattern clustering

---
*Investigation initiated following multiple high-risk alerts in fraud detection system*`,collapsed:!1,executed:!0,executionTime:null},{id:2,type:"state",title:"Computed Risk States",states:[{name:"user_transaction_count",description:"Total number of transactions per user",query:"COUNT(*) OVER (PARTITION BY user_id)",computationType:"aggregate_count",field:"*",condition:"",windowDays:30,groupBy:"user_id",persistent:!1},{name:"user_fraud_rate",description:"Percentage of fraudulent transactions per user",query:"ROUND(SUM(CASE WHEN fraud = 1 THEN 1 ELSE 0 END) * 100.0 / COUNT(*) OVER (PARTITION BY user_id), 2)",computationType:"risk_score",field:"fraud",condition:"fraud = 1",windowDays:30,groupBy:"user_id",persistent:!1},{name:"merchant_success_rate",description:"Merchant transaction success rate (non-declined transactions)",query:"ROUND(SUM(CASE WHEN decline = 0 THEN 1 ELSE 0 END) * 100.0 / COUNT(*) OVER (PARTITION BY merchant_id), 2)",computationType:"aggregate_count",field:"decline",condition:"decline = 0",windowDays:30,groupBy:"merchant_id",persistent:!1}],collapsed:!1,executed:!0,executionTime:"1.2s"},{id:3,type:"data",title:"High-Risk Users with Computed States",query:`SELECT 
  user_id,
  COUNT(*) as total_transactions,
  SUM(charged_amount) as total_volume,
  COUNT(DISTINCT merchant_id) as unique_merchants,
  COUNT(DISTINCT merchant_country) as countries_used,
  SUM(CASE WHEN fraud = 1 THEN 1 ELSE 0 END) as fraud_transactions,
  SUM(CASE WHEN decline = 1 THEN 1 ELSE 0 END) as declined_transactions,
  ROUND(SUM(CASE WHEN fraud = 1 THEN 1 ELSE 0 END) * 100.0 / COUNT(*), 2) as fraud_rate,
  MAX(txn_date_time) as last_transaction
FROM transactions 
GROUP BY user_id
HAVING total_transactions > 10
ORDER BY fraud_rate DESC, total_volume DESC
LIMIT 20`,columns:["user_id","total_transactions","total_volume","unique_merchants","countries_used","fraud_transactions","declined_transactions","fraud_rate","last_transaction"],visibleColumns:["user_id","total_transactions","total_volume","unique_merchants","countries_used","fraud_rate"],filters:[],collapsed:!1,executed:!0,executionTime:"2.1s",rowCount:47,queryResults:[]},{id:4,type:"chart",title:"User Velocity vs Volume Risk Matrix",chartType:"scatter",dataSource:"query",xAxis:"transaction_count",yAxis:"total_volume",colorBy:"fraud_rate",query:`SELECT 
  user_id,
  COUNT(*) as transaction_count,
  SUM(charged_amount) as total_volume,
  ROUND(SUM(CASE WHEN fraud = 1 THEN 1 ELSE 0 END) * 100.0 / COUNT(*), 2) as fraud_rate
FROM transactions 
GROUP BY user_id
HAVING transaction_count > 5
ORDER BY transaction_count DESC, total_volume DESC
LIMIT 50`,collapsed:!1,executed:!0,executionTime:"1.7s",queryResults:[{user_id:"user_001",transaction_count:25,total_volume:15420.5,fraud_rate:8},{user_id:"user_002",transaction_count:18,total_volume:9876.25,fraud_rate:5.6},{user_id:"user_003",transaction_count:32,total_volume:22150.75,fraud_rate:12.5},{user_id:"user_004",transaction_count:14,total_volume:6543,fraud_rate:7.1},{user_id:"user_005",transaction_count:21,total_volume:13890.4,fraud_rate:9.5}]},{id:5,type:"data",title:"Geographic Risk Analysis",query:`SELECT 
  merchant_country,
  COUNT(DISTINCT user_id) as unique_users,
  COUNT(*) as transaction_count,
  SUM(charged_amount) as total_volume,
  AVG(charged_amount) as avg_amount,
  SUM(CASE WHEN decline = 1 THEN 1 ELSE 0 END) as declined_txns,
  SUM(CASE WHEN fraud = 1 THEN 1 ELSE 0 END) as fraud_txns,
  ROUND(SUM(CASE WHEN fraud = 1 THEN 1 ELSE 0 END) * 100.0 / COUNT(*), 2) as fraud_rate,
  COUNT(DISTINCT mcc) as merchant_categories
FROM transactions 
GROUP BY merchant_country
HAVING transaction_count > 20
ORDER BY fraud_rate DESC, total_volume DESC`,columns:["merchant_country","unique_users","transaction_count","total_volume","avg_amount","declined_txns","fraud_txns","fraud_rate","merchant_categories"],visibleColumns:["merchant_country","unique_users","transaction_count","total_volume","fraud_rate","merchant_categories"],filters:[],collapsed:!1,executed:!0,executionTime:"1.8s",rowCount:23,queryResults:[]},{id:6,type:"chart",title:"Fraud Rate by Country (Geographic Heatmap)",chartType:"bar",dataSource:"query",xAxis:"merchant_country",yAxis:"fraud_rate",query:`SELECT 
  merchant_country,
  ROUND(SUM(CASE WHEN fraud = 1 THEN 1 ELSE 0 END) * 100.0 / COUNT(*), 2) as fraud_rate,
  COUNT(*) as sample_size
FROM transactions 
GROUP BY merchant_country
HAVING COUNT(*) > 50
ORDER BY fraud_rate DESC
LIMIT 15`,collapsed:!1,executed:!0,executionTime:"1.3s",queryResults:[{merchant_country:"RUS",fraud_rate:15.2,sample_size:127},{merchant_country:"BGR",fraud_rate:12.8,sample_size:89},{merchant_country:"ROU",fraud_rate:11.4,sample_size:156},{merchant_country:"UKR",fraud_rate:10.9,sample_size:203},{merchant_country:"PAN",fraud_rate:8.7,sample_size:245},{merchant_country:"BRA",fraud_rate:7.3,sample_size:312},{merchant_country:"MEX",fraud_rate:6.8,sample_size:187}]},{id:7,type:"data",title:"Suspicious Payment Patterns",query:`SELECT 
  user_id,
  merchant_name,
  COUNT(*) as repeat_attempts,
  GROUP_CONCAT(DISTINCT CAST(charged_amount AS TEXT)) as attempted_amounts,
  GROUP_CONCAT(DISTINCT outcome) as outcomes,
  MIN(txn_date_time) as first_attempt,
  MAX(txn_date_time) as last_attempt,
  SUM(CASE WHEN decline = 1 THEN 1 ELSE 0 END) as decline_count,
  SUM(CASE WHEN fraud = 1 THEN 1 ELSE 0 END) as fraud_count
FROM transactions 
GROUP BY user_id, merchant_id
HAVING repeat_attempts > 3 
   AND decline_count > 0
ORDER BY repeat_attempts DESC, decline_count DESC
LIMIT 15`,columns:["user_id","merchant_name","repeat_attempts","attempted_amounts","outcomes","first_attempt","last_attempt","decline_count","fraud_count"],visibleColumns:["user_id","merchant_name","repeat_attempts","attempted_amounts","decline_count","fraud_count"],filters:[],collapsed:!1,executed:!0,executionTime:"2.3s",rowCount:12,queryResults:[]},{id:8,type:"ai",title:"AI Fraud Pattern Analysis",messages:[{role:"user",content:"Based on the data above, what are the key fraud patterns we should be monitoring? Focus on the high-risk users and geographic trends.",timestamp:"2024-01-15T11:30:00.000Z"},{role:"assistant",content:`Based on the comprehensive fraud analysis, I've identified several critical patterns that warrant immediate attention:

## Key Fraud Indicators

**1. High-Volume User Risks**
- Users with high transaction counts show elevated fraud patterns
- Geographic dispersion (>3 countries) combined with high volume indicates potential risk
- Recommend: Enhanced monitoring for users with diverse geographic activity

**2. Merchant Quality Correlation**
- Users targeting merchants with low success rates show elevated fraud
- Merchants with high decline rates correlate with increased fraud risk
- Pattern: Fraudsters often target merchants with weaker fraud detection

**3. Geographic Clusters**
- Certain countries show disproportionate fraud rates despite low volume
- Recommend: Enhanced due diligence for transactions from high-risk jurisdictions
- Consider implementing country-based risk scoring

**4. Behavioral Anomalies**
- Repeated failed attempts followed by successful transactions
- Amount testing patterns (multiple small amounts, then large)
- Time-based clustering (multiple attempts within short windows)

## Recommended Actions
1. Implement dynamic velocity limits based on user_fraud_score
2. Enhanced monitoring for cross-border transactions
3. Real-time merchant quality scoring integration
4. Automated alerts for repeat attempt patterns`,timestamp:"2024-01-15T11:35:00.000Z"}],collapsed:!1,executed:!0,executionTime:"4.2s"},{id:9,type:"chart",title:"Temporal Fraud Distribution",chartType:"line",dataSource:"query",xAxis:"hour_of_day",yAxis:"fraud_count",query:`SELECT 
  strftime('%H', txn_date_time) as hour_of_day,
  COUNT(*) as total_transactions,
  SUM(CASE WHEN fraud = 1 THEN 1 ELSE 0 END) as fraud_count,
  ROUND(SUM(CASE WHEN fraud = 1 THEN 1 ELSE 0 END) * 100.0 / COUNT(*), 2) as fraud_rate
FROM transactions 
GROUP BY strftime('%H', txn_date_time)
ORDER BY hour_of_day`,collapsed:!1,executed:!0,executionTime:"1.5s",queryResults:[{hour_of_day:"00",total_transactions:156,fraud_count:23,fraud_rate:14.7},{hour_of_day:"01",total_transactions:142,fraud_count:19,fraud_rate:13.4},{hour_of_day:"02",total_transactions:98,fraud_count:18,fraud_rate:18.4},{hour_of_day:"03",total_transactions:87,fraud_count:16,fraud_rate:18.4},{hour_of_day:"04",total_transactions:76,fraud_count:12,fraud_rate:15.8},{hour_of_day:"05",total_transactions:89,fraud_count:8,fraud_rate:9},{hour_of_day:"06",total_transactions:134,fraud_count:12,fraud_rate:9},{hour_of_day:"07",total_transactions:187,fraud_count:15,fraud_rate:8},{hour_of_day:"08",total_transactions:234,fraud_count:18,fraud_rate:7.7},{hour_of_day:"09",total_transactions:289,fraud_count:21,fraud_rate:7.3},{hour_of_day:"10",total_transactions:312,fraud_count:19,fraud_rate:6.1},{hour_of_day:"11",total_transactions:298,fraud_count:17,fraud_rate:5.7},{hour_of_day:"12",total_transactions:345,fraud_count:22,fraud_rate:6.4},{hour_of_day:"13",total_transactions:367,fraud_count:25,fraud_rate:6.8},{hour_of_day:"14",total_transactions:334,fraud_count:20,fraud_rate:6},{hour_of_day:"15",total_transactions:298,fraud_count:19,fraud_rate:6.4},{hour_of_day:"16",total_transactions:276,fraud_count:18,fraud_rate:6.5},{hour_of_day:"17",total_transactions:245,fraud_count:16,fraud_rate:6.5},{hour_of_day:"18",total_transactions:213,fraud_count:14,fraud_rate:6.6},{hour_of_day:"19",total_transactions:198,fraud_count:15,fraud_rate:7.6},{hour_of_day:"20",total_transactions:187,fraud_count:17,fraud_rate:9.1},{hour_of_day:"21",total_transactions:165,fraud_count:18,fraud_rate:10.9},{hour_of_day:"22",total_transactions:154,fraud_count:20,fraud_rate:13},{hour_of_day:"23",total_transactions:167,fraud_count:24,fraud_rate:14.4}]},{id:10,type:"markdown",content:`## Investigation Summary & Recommendations

### Key Findings
1. **High-risk users** identified through transaction pattern analysis
2. **Geographic fraud concentration** in specific countries requiring enhanced monitoring  
3. **Temporal patterns** show fraud distribution throughout the day
4. **Merchant quality correlation** strongly predicts transaction success likelihood

### Risk Mitigation Actions
 **Immediate (24h)**
- Flag users with high transaction counts and geographic diversity for manual review
- Implement country-based transaction limits for high-risk jurisdictions
- Enhanced monitoring for merchants with low success rates

 **Short-term (1 week)**
- Deploy ML model incorporating computed risk states
- Enhance geographic risk scoring algorithm
- Implement behavioral pattern matching for repeat attempts

 **Long-term (1 month)**
- Advanced graph analytics for merchant-user relationship mapping
- Real-time risk scoring API integration
- Automated case management workflow

---
**Investigation Status:** ACTIVE MONITORING  
**Next Review:** 2024-01-22  
**Risk Level:** CONTAINED with ongoing surveillance`}]},{id:"inv_geographic_network_002",name:"Cross-Border Financial Network Analysis",description:"Advanced geographic transaction flow analysis identifying suspicious cross-border networks, trade-based money laundering, and jurisdictional arbitrage patterns.",createdAt:"2024-01-14T09:15:00.000Z",updatedAt:"2024-01-14T16:20:00.000Z",version:"1.0",cells:[{id:1,type:"markdown",content:`# Cross-Border Financial Network Analysis 

## Investigation Framework
**Investigation ID:** CBFNA-2024-002  
**Classification:**  Trade-Based Money Laundering (TBML)  
**Jurisdiction Focus:** Multi-national transaction flows  
**Lead Analyst:** Marcus Rodriguez, International AML Specialist

## Strategic Objectives
- Map suspicious cross-border transaction networks
- Identify trade mispricing and invoice manipulation
- Detect jurisdictional arbitrage patterns
- Analyze correspondent banking relationships
- Monitor sanctions evasion attempts

## Regulatory Framework
- **BSA/AML** compliance for cross-border reporting
- **OFAC** sanctions screening integration  
- **FinCEN** geographic targeting orders
- **FATF** risk-based approach implementation

---
*This investigation was triggered by unusual transaction patterns involving multiple high-risk jurisdictions*`,collapsed:!1,executed:!0,executionTime:null},{id:2,type:"state",title:"Geographic Risk Computation",states:[{name:"user_country_diversity",description:"Number of distinct countries per user (geographic spread)",query:"(SELECT COUNT(DISTINCT merchant_country) FROM transactions t2 WHERE t2.user_id = transactions.user_id)",computationType:"aggregate_count",field:"*",condition:"",windowDays:30,groupBy:"user_id",persistent:!1},{name:"cross_border_volume",description:"Total cross-border transaction volume per user",query:'(SELECT SUM(charged_amount) FROM transactions t2 WHERE t2.user_id = transactions.user_id AND t2.merchant_country != "USA")',computationType:"aggregate_sum",field:"charged_amount",condition:'merchant_country != "USA"',windowDays:30,groupBy:"user_id",persistent:!1},{name:"merchant_country_risk",description:"Average fraud rate for each merchant country",query:"(SELECT AVG(CASE WHEN fraud = 1 THEN 1.0 ELSE 0.0 END) FROM transactions t2 WHERE t2.merchant_country = transactions.merchant_country)",computationType:"aggregate_count",field:"fraud",condition:"fraud = 1",windowDays:90,groupBy:"merchant_country",persistent:!1}],collapsed:!1,executed:!0,executionTime:"2.8s"},{id:3,type:"data",title:"High-Risk Cross-Border Users",query:`SELECT 
  user_id,
  COUNT(DISTINCT merchant_country) as country_diversity,
  SUM(CASE WHEN merchant_country != 'USA' THEN charged_amount ELSE 0 END) as cross_border_volume,
  COUNT(*) as total_transactions,
  COUNT(DISTINCT merchant_id) as unique_merchants,
  ROUND(AVG(CASE WHEN fraud = 1 THEN 1 ELSE 0 END) * 100.0, 2) as fraud_rate,
  SUM(CASE WHEN charged_amount > 1000 THEN 1 ELSE 0 END) as high_value_txns,
  GROUP_CONCAT(DISTINCT merchant_country) as countries_used
FROM transactions 
GROUP BY user_id
HAVING country_diversity > 2 
   AND total_transactions > 10
ORDER BY country_diversity DESC, cross_border_volume DESC
LIMIT 25`,columns:["user_id","country_diversity","cross_border_volume","total_transactions","unique_merchants","fraud_rate","high_value_txns","countries_used"],visibleColumns:["user_id","country_diversity","cross_border_volume","total_transactions","fraud_rate","countries_used"],filters:[],collapsed:!1,executed:!0,executionTime:"3.1s",rowCount:24,queryResults:[]},{id:4,type:"chart",title:"Geographic Diversity vs Transaction Volume",chartType:"bubble",dataSource:"query",xAxis:"country_diversity",yAxis:"cross_border_volume",zAxis:"total_transactions",colorBy:"fraud_rate",query:`SELECT 
  user_id,
  COUNT(DISTINCT merchant_country) as country_diversity,
  SUM(CASE WHEN merchant_country != 'USA' THEN charged_amount ELSE 0 END) as cross_border_volume,
  COUNT(*) as total_transactions,
  ROUND(AVG(CASE WHEN fraud = 1 THEN 1 ELSE 0 END) * 100.0, 2) as fraud_rate
FROM transactions 
GROUP BY user_id
HAVING country_diversity > 1 AND total_transactions > 5`,collapsed:!1,executed:!0,executionTime:"2.2s",queryResults:[{user_id:"user_001",country_diversity:4,cross_border_volume:25420.5,total_transactions:28,fraud_rate:8.5},{user_id:"user_002",country_diversity:3,cross_border_volume:18750.25,total_transactions:22,fraud_rate:6.2},{user_id:"user_003",country_diversity:5,cross_border_volume:32150.75,total_transactions:35,fraud_rate:11.8},{user_id:"user_004",country_diversity:2,cross_border_volume:12890.4,total_transactions:18,fraud_rate:4.9},{user_id:"user_005",country_diversity:6,cross_border_volume:41230.6,total_transactions:42,fraud_rate:15.2}]},{id:5,type:"data",title:"Suspicious Country Corridors",query:`SELECT 
  'USA' as origin_country,
  merchant_country as destination_country,
  COUNT(DISTINCT user_id) as unique_users,
  COUNT(*) as transaction_count,
  SUM(charged_amount) as total_volume,
  AVG(charged_amount) as avg_amount,
  merchant_country_risk as destination_risk,
  SUM(CASE WHEN charged_amount BETWEEN 9000 AND 10000 THEN 1 ELSE 0 END) as structuring_indicators
FROM transactions 
WHERE merchant_country != 'USA'
GROUP BY merchant_country
HAVING transaction_count > 50
ORDER BY destination_risk DESC, structuring_indicators DESC`,columns:["origin_country","destination_country","unique_users","transaction_count","total_volume","avg_amount","destination_risk","structuring_indicators"],visibleColumns:["destination_country","unique_users","transaction_count","total_volume","destination_risk","structuring_indicators"],filters:[],collapsed:!1,executed:!0,executionTime:"2.7s",rowCount:18,queryResults:[]},{id:6,type:"chart",title:"Transaction Flow Network (Country-to-Country)",chartType:"bar",dataSource:"query",xAxis:"destination_risk",yAxis:"destination_country",query:`SELECT 
  merchant_country as destination_country,
  SUM(charged_amount) as total_volume,
  AVG(merchant_country_risk) as destination_risk,
  COUNT(*) as flow_count
FROM transactions 
WHERE merchant_country != 'USA'
GROUP BY merchant_country
HAVING flow_count > 20
ORDER BY total_volume DESC
LIMIT 15`,collapsed:!1,executed:!0,executionTime:"1.9s"},{id:7,type:"data",title:"Trade Mispricing Indicators",query:`SELECT 
  user_id,
  merchant_country,
  merchant_name,
  mcc,
  COUNT(*) as transaction_frequency,
  AVG(charged_amount) as avg_amount,
  MIN(charged_amount) as min_amount,
  MAX(charged_amount) as max_amount,
  (MAX(charged_amount) - MIN(charged_amount)) as amount_variance,
  CASE 
    WHEN AVG(charged_amount) > 8000 AND merchant_country IN ('CHN', 'HKG', 'SGP') THEN 'HIGH'
    WHEN AVG(charged_amount) > 5000 AND merchant_country IN ('BRA', 'MEX', 'ARE') THEN 'MEDIUM'
    ELSE 'LOW'
  END as mispricing_risk
FROM transactions 
WHERE merchant_country != 'USA' 
  AND mcc IN ('5311', '5399', '5812', '7372') -- Trade-related MCCs
GROUP BY user_id, merchant_id
HAVING transaction_frequency > 5 
   AND amount_variance > 2000
ORDER BY mispricing_risk DESC, avg_amount DESC`,columns:["user_id","merchant_country","merchant_name","mcc","transaction_frequency","avg_amount","min_amount","max_amount","amount_variance","mispricing_risk"],visibleColumns:["user_id","merchant_country","mcc","avg_amount","amount_variance","mispricing_risk"],filters:[],collapsed:!1,executed:!0,executionTime:"2.4s",rowCount:15,queryResults:[]},{id:8,type:"ai",title:"AI Geographic Risk Assessment",messages:[{role:"user",content:"Analyze the cross-border transaction patterns above. What are the key risk indicators for trade-based money laundering and sanctions evasion?",timestamp:"2024-01-14T12:30:00.000Z"},{role:"assistant",content:`Based on the geographic network analysis, several critical risk patterns emerge:

## Primary Risk Indicators

**1. Geographic Dispersion Anomalies**
- 24 users showing >3 country diversity with high volumes
- Users with >$10K cross-border volume warrant enhanced due diligence
- Concentration in high-risk corridors: USACHN, USABRA, USAHKG

**2. Trade Mispricing Red Flags**
- Significant amount variance (>$2K) in same merchant relationships
- Unusual pricing in trade-related MCCs (5311, 5399, 5812, 7372)
- Average amounts >$8K to China/Hong Kong/Singapore raise TBML concerns

**3. Structuring Indicators**
- Multiple transactions just under $10K threshold
- Pattern analysis suggests potential reporting threshold avoidance
- Recommend CTR filing review for affected corridors

**4. Network Analysis Insights**
- Correspondent banking relationship concentration
- Shared merchant utilization across high-risk users
- Timing correlation suggests coordinated activity

## Sanctions Evasion Concerns
- Shell company indicators in merchant names
- Rapid geographic switching patterns
- High-risk jurisdiction concentration requires OFAC screening

## Recommended Controls
1. **Enhanced Due Diligence**: All users with >3 country diversity
2. **Trade Documentation Review**: Transactions >$5K to high-risk countries  
3. **Real-time OFAC Screening**: Enhanced monitoring for flagged corridors
4. **SAR Filing Consideration**: Users showing multiple risk factors

**Priority Countries for Enhanced Monitoring:** China, Hong Kong, Brazil, Singapore, UAE`,timestamp:"2024-01-14T12:38:00.000Z"}],collapsed:!1,executed:!0,executionTime:"5.1s"}]},{id:"inv_merchant_ecosystem_003",name:"Merchant Ecosystem & Network Analysis",description:"Deep dive into merchant behavior patterns, network relationships, and ecosystem-wide risks including payment facilitator analysis and merchant category trends.",createdAt:"2024-01-13T11:00:00.000Z",updatedAt:"2024-01-13T17:30:00.000Z",version:"1.0",cells:[{id:1,type:"markdown",content:`# Merchant Ecosystem & Network Analysis 

## Investigation Scope
**Investigation ID:** MENA-2024-003  
**Risk Category:**  Merchant Risk Assessment & Network Analysis  
**Focus Areas:** Payment facilitators, aggregators, and merchant networks  
**Analyst Team:** Jennifer Wu (Lead), David Kim (Data Scientist)

## Key Investigation Areas
- **Merchant Performance Analytics** - Success rates, decline patterns
- **Network Relationship Mapping** - Shared infrastructure and ownership
- **Payment Facilitator Risk** - Sub-merchant monitoring
- **Category Code Analysis** - MCC risk profiling
- **Geographic Merchant Clusters** - Regional risk concentration

## Compliance Framework
- **Merchant Due Diligence** requirements
- **Payment Card Industry** standards compliance
- **Anti-Money Laundering** merchant monitoring
- **Know Your Business Customer** (KYBC) protocols

---
*Investigation initiated following merchant concentration risk alerts and unusual transaction patterns across merchant networks*`,collapsed:!1,executed:!0,executionTime:null},{id:2,type:"state",title:"Merchant Performance States",states:[{name:"merchant_success_rate",description:"Overall transaction success rate per merchant",query:'(SELECT AVG(CASE WHEN outcome = "TN" THEN 1.0 ELSE 0.0 END) FROM transactions t2 WHERE t2.merchant_id = transactions.merchant_id)',computationType:"aggregate_count",field:"*",condition:'outcome = "TN"',windowDays:30,groupBy:"merchant_id",persistent:!1},{name:"merchant_user_diversity",description:"Number of unique users per merchant (concentration risk)",query:"(SELECT COUNT(DISTINCT user_id) FROM transactions t2 WHERE t2.merchant_id = transactions.merchant_id)",computationType:"aggregate_count",field:"*",condition:"",windowDays:30,groupBy:"merchant_id",persistent:!1},{name:"merchant_daily_volume",description:"Average daily transaction volume per merchant",query:"(SELECT AVG(daily_volume) FROM (SELECT DATE(txn_date_time), SUM(charged_amount) as daily_volume FROM transactions t2 WHERE t2.merchant_id = transactions.merchant_id GROUP BY DATE(txn_date_time)))",computationType:"aggregate_sum",field:"charged_amount",condition:"",windowDays:30,groupBy:"merchant_id",persistent:!1}],collapsed:!1,executed:!0,executionTime:"3.2s"},{id:3,type:"data",title:"High-Risk Merchant Profile Analysis",query:`SELECT 
  merchant_name,
  merchant_country,
  mcc,
  ROUND((COUNT(*) - SUM(CASE WHEN decline = 1 THEN 1 ELSE 0 END)) * 100.0 / COUNT(*), 2) as success_rate,
  COUNT(DISTINCT user_id) as user_diversity,
  ROUND(SUM(charged_amount) / COUNT(DISTINCT DATE(txn_date_time)), 2) as daily_avg_volume,
  COUNT(*) as total_transactions,
  SUM(charged_amount) as total_volume,
  SUM(CASE WHEN fraud = 1 THEN 1 ELSE 0 END) as fraud_count,
  SUM(CASE WHEN decline = 1 THEN 1 ELSE 0 END) as decline_count,
  ROUND(SUM(CASE WHEN fraud = 1 THEN 1 ELSE 0 END) * 100.0 / COUNT(*), 2) as fraud_rate,
  COUNT(DISTINCT DATE(txn_date_time)) as active_days
FROM transactions 
GROUP BY merchant_id
HAVING total_transactions > 20
ORDER BY fraud_rate DESC, success_rate ASC
LIMIT 25`,columns:["merchant_name","merchant_country","mcc","success_rate","user_diversity","daily_avg_volume","total_transactions","total_volume","fraud_count","decline_count","fraud_rate","active_days"],visibleColumns:["merchant_name","merchant_country","mcc","success_rate","fraud_rate","user_diversity","total_volume"],filters:[],collapsed:!1,executed:!0,executionTime:"4.1s",rowCount:32,queryResults:[]},{id:4,type:"chart",title:"Merchant Risk Matrix: Success Rate vs User Diversity",chartType:"scatter",dataSource:"query",xAxis:"success_rate",yAxis:"user_diversity",colorBy:"fraud_rate",sizeBy:"total_volume",query:`SELECT 
  merchant_name,
  ROUND((COUNT(*) - SUM(CASE WHEN decline = 1 THEN 1 ELSE 0 END)) * 100.0 / COUNT(*), 2) as success_rate,
  COUNT(DISTINCT user_id) as user_diversity,
  SUM(charged_amount) as total_volume,
  ROUND(SUM(CASE WHEN fraud = 1 THEN 1 ELSE 0 END) * 100.0 / COUNT(*), 2) as fraud_rate
FROM transactions 
GROUP BY merchant_id
HAVING COUNT(*) > 15`,collapsed:!1,executed:!0,executionTime:"2.8s",queryResults:[{merchant_name:"TechCorp Solutions",success_rate:92.5,user_diversity:156,total_volume:245670.5,fraud_rate:2.1},{merchant_name:"Global Retail Inc",success_rate:87.3,user_diversity:203,total_volume:189430.25,fraud_rate:4.2},{merchant_name:"FastFood Chain",success_rate:95.1,user_diversity:89,total_volume:87560.75,fraud_rate:1.8},{merchant_name:"Fashion Store",success_rate:82.7,user_diversity:134,total_volume:156890.4,fraud_rate:6.5},{merchant_name:"Electronics Hub",success_rate:88.9,user_diversity:178,total_volume:298740.6,fraud_rate:3.7}]},{id:5,type:"data",title:"Merchant Category Code Risk Analysis",query:`SELECT 
  mcc,
  CASE 
    WHEN mcc = '5311' THEN 'Department Stores'
    WHEN mcc = '5411' THEN 'Grocery Stores'
    WHEN mcc = '5812' THEN 'Eating Places'  
    WHEN mcc = '5999' THEN 'Miscellaneous Retail'
    WHEN mcc = '7372' THEN 'Computer Services'
    WHEN mcc = '8999' THEN 'Professional Services'
    ELSE 'Other'
  END as category_description,
  COUNT(DISTINCT merchant_id) as merchant_count,
  COUNT(*) as total_transactions,
  SUM(charged_amount) as total_volume,
  AVG(merchant_success_rate) as avg_success_rate,
  SUM(CASE WHEN fraud = 1 THEN 1 ELSE 0 END) as fraud_count,
  ROUND(SUM(CASE WHEN fraud = 1 THEN 1 ELSE 0 END) * 100.0 / COUNT(*), 2) as category_fraud_rate,
  AVG(merchant_daily_volume) as avg_daily_volume
FROM transactions 
WHERE mcc IS NOT NULL
GROUP BY mcc
HAVING total_transactions > 100
ORDER BY category_fraud_rate DESC, total_volume DESC`,columns:["mcc","category_description","merchant_count","total_transactions","total_volume","avg_success_rate","fraud_count","category_fraud_rate","avg_daily_volume"],visibleColumns:["mcc","category_description","merchant_count","total_transactions","category_fraud_rate","avg_success_rate"],filters:[],collapsed:!1,executed:!0,executionTime:"3.4s",rowCount:18,queryResults:[]},{id:6,type:"chart",title:"Fraud Rate by Merchant Category",chartType:"column",dataSource:"query",xAxis:"category_description",yAxis:"category_fraud_rate",query:`SELECT 
  CASE 
    WHEN mcc = '5311' THEN 'Department Stores'
    WHEN mcc = '5411' THEN 'Grocery Stores'
    WHEN mcc = '5812' THEN 'Eating Places'
    WHEN mcc = '5999' THEN 'Miscellaneous Retail'
    WHEN mcc = '7372' THEN 'Computer Services'
    ELSE 'Other Categories'
  END as category_description,
  ROUND(SUM(CASE WHEN fraud = 1 THEN 1 ELSE 0 END) * 100.0 / COUNT(*), 2) as category_fraud_rate,
  COUNT(*) as sample_size
FROM transactions 
WHERE mcc IS NOT NULL
GROUP BY category_description
HAVING sample_size > 50
ORDER BY category_fraud_rate DESC`,collapsed:!1,executed:!0,executionTime:"2.1s"},{id:7,type:"data",title:"Merchant Network Concentration Analysis",query:`SELECT 
  merchant_country,
  COUNT(DISTINCT merchant_id) as unique_merchants,
  COUNT(*) as total_transactions,
  SUM(charged_amount) as country_volume,
  AVG(merchant_success_rate) as avg_country_success_rate,
  AVG(merchant_user_diversity) as avg_user_diversity,
  SUM(CASE WHEN merchant_user_diversity < 10 THEN 1 ELSE 0 END) as low_diversity_merchants,
  COUNT(DISTINCT user_id) as unique_country_users,
  ROUND(AVG(merchant_daily_volume), 2) as avg_merchant_daily_volume
FROM transactions 
WHERE merchant_country IS NOT NULL
GROUP BY merchant_country
HAVING unique_merchants > 3
ORDER BY country_volume DESC, avg_country_success_rate ASC`,columns:["merchant_country","unique_merchants","total_transactions","country_volume","avg_country_success_rate","avg_user_diversity","low_diversity_merchants","unique_country_users","avg_merchant_daily_volume"],visibleColumns:["merchant_country","unique_merchants","country_volume","avg_country_success_rate","low_diversity_merchants","unique_country_users"],filters:[],collapsed:!1,executed:!0,executionTime:"3.7s",rowCount:15,queryResults:[]},{id:8,type:"chart",title:"Geographic Merchant Performance Distribution",chartType:"bubble",dataSource:"query",xAxis:"unique_merchants",yAxis:"country_volume",zAxis:"unique_country_users",colorBy:"avg_country_success_rate",query:`SELECT 
  merchant_country,
  COUNT(DISTINCT merchant_id) as unique_merchants,
  SUM(charged_amount) as country_volume,
  COUNT(DISTINCT user_id) as unique_country_users,
  AVG(merchant_success_rate) as avg_country_success_rate
FROM transactions 
WHERE merchant_country IS NOT NULL
GROUP BY merchant_country
HAVING unique_merchants > 2`,collapsed:!1,executed:!0,executionTime:"2.5s",queryResults:[{merchant_country:"USA",unique_merchants:45,country_volume:12456705e-1,unique_country_users:2340,avg_country_success_rate:89.2},{merchant_country:"BRA",unique_merchants:23,country_volume:567890.25,unique_country_users:1120,avg_country_success_rate:84.7},{merchant_country:"MEX",unique_merchants:18,country_volume:456780.75,unique_country_users:890,avg_country_success_rate:87.1},{merchant_country:"PAN",unique_merchants:15,country_volume:234560.4,unique_country_users:567,avg_country_success_rate:85.3},{merchant_country:"COL",unique_merchants:12,country_volume:189430.6,unique_country_users:445,avg_country_success_rate:88.9}]},{id:9,type:"ai",title:"AI Merchant Risk Assessment",messages:[{role:"user",content:"Based on the merchant ecosystem analysis, what are the primary risk factors we should monitor? Focus on network relationships and performance indicators.",timestamp:"2024-01-13T14:15:00.000Z"},{role:"assistant",content:`## Merchant Ecosystem Risk Assessment

**Critical Risk Findings:**

**1. Merchant Performance Clustering**
- 32 high-risk merchants identified with <70% success rates
- Low user diversity (<5 users) indicates potential shell merchant activity
- High daily volumes (>$25K) combined with low success rates = red flag

**2. Category-Specific Risk Patterns**
- Computer Services (MCC 7372) shows highest fraud rates
- Miscellaneous Retail (MCC 5999) concentration warrants monitoring
- Traditional categories (grocery, restaurants) show lower risk profiles

**3. Geographic Concentration Risks**
- Certain countries showing merchant ecosystem concentration
- Low-diversity merchants clustered in specific jurisdictions
- Cross-border merchant network relationships require enhanced scrutiny

**4. Network Analysis Insights**
- Shared infrastructure patterns among low-performing merchants
- User overlap across failing merchant accounts
- Timing correlations suggest coordinated merchant activities

## Key Risk Indicators

**Immediate Attention Required:**
- Merchants with <70% success rate AND <10 user diversity
- Daily volumes >$25K with fraud rates >5%
- New merchants in high-risk categories without established user base

**Enhanced Monitoring:**
- Cross-border merchant relationships
- Rapid merchant onboarding patterns
- User migration between related merchants

## Strategic Recommendations

**1. Merchant Due Diligence Enhancement**
- Implement real-time performance monitoring
- Network relationship mapping for new onboarding
- Category-specific risk scoring models

**2. Automated Risk Controls**
- Transaction limits for low-performing merchants
- Enhanced authentication for high-risk categories
- Geographic transaction restrictions based on merchant risk

**3. Ongoing Surveillance**
- Daily merchant performance dashboards
- Network change detection algorithms
- User behavior pattern analysis across merchant ecosystem

**Priority Actions:** Focus on Computer Services and Miscellaneous Retail categories for immediate risk mitigation.`,timestamp:"2024-01-13T14:22:00.000Z"}],collapsed:!1,executed:!0,executionTime:"4.8s"},{id:10,type:"markdown",content:`## Merchant Ecosystem Investigation Conclusion

### Executive Summary
The merchant ecosystem analysis reveals **significant risk concentrations** requiring immediate attention and ongoing monitoring.

### Key Metrics
- **32 high-risk merchants** identified through computed risk states
- **18 merchant categories** analyzed for risk profiling  
- **15 countries** showing merchant concentration patterns
- **Critical risk factors** in Computer Services and Miscellaneous Retail

### Risk Mitigation Status
 **High Priority:** Computer Services merchants (fraud rates >8%)  
 **Medium Priority:** Cross-border merchant networks  
 **Low Priority:** Traditional retail categories  

### Action Items
1. **Immediate:** Enhanced monitoring for identified high-risk merchants
2. **Short-term:** Implement category-specific transaction controls  
3. **Long-term:** Deploy merchant network analysis automation

---
**Investigation Status:** ONGOING MONITORING  
**Next Review:** Weekly merchant performance assessment  
**Escalation Trigger:** New merchants meeting high-risk criteria`}]}],da={initializeSampleData:()=>{try{da.getAllInvestigations().length===0&&(console.log("No existing investigations found, loading sample data..."),localStorage.setItem("notebook_investigations",JSON.stringify(ai)),console.log(`Loaded ${ai.length} sample investigations`))}catch(s){console.error("Failed to initialize sample data:",s)}},refreshSampleData:()=>{try{return console.log("Force refreshing sample investigations..."),localStorage.setItem("notebook_investigations",JSON.stringify(ai)),console.log(`Refreshed ${ai.length} sample investigations`),ai}catch(s){throw console.error("Failed to refresh sample data:",s),s}},saveInvestigation:s=>{try{const u=da.getAllInvestigations(),c=new Date().toISOString(),f={id:s.id||`inv_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:s.name,description:s.description,cells:s.cells,createdAt:s.createdAt||c,updatedAt:c,version:"1.0"},v=u.findIndex(_=>_.id===f.id);return v>=0?u[v]=f:u.push(f),localStorage.setItem("notebook_investigations",JSON.stringify(u)),f}catch(u){throw console.error("Failed to save investigation:",u),new Error("Failed to save investigation")}},loadInvestigation:s=>{try{const c=da.getAllInvestigations().find(f=>f.id===s);if(!c)throw new Error("Investigation not found");return c}catch(u){throw console.error("Failed to load investigation:",u),u}},getAllInvestigations:()=>{try{const s=localStorage.getItem("notebook_investigations");return s?JSON.parse(s):[]}catch(s){return console.error("Failed to retrieve investigations:",s),[]}},deleteInvestigation:s=>{try{const c=da.getAllInvestigations().filter(f=>f.id!==s);return localStorage.setItem("notebook_investigations",JSON.stringify(c)),!0}catch(u){throw console.error("Failed to delete investigation:",u),new Error("Failed to delete investigation")}},getInvestigationSummaries:()=>{try{return da.getAllInvestigations().map(u=>({id:u.id,name:u.name,description:u.description,createdAt:u.createdAt,updatedAt:u.updatedAt,cellCount:u.cells?u.cells.length:0}))}catch(s){return console.error("Failed to get investigation summaries:",s),[]}},exportInvestigation:s=>{try{const c={...da.loadInvestigation(s),exportedAt:new Date().toISOString(),appVersion:"2.0"};return JSON.stringify(c,null,2)}catch(u){throw console.error("Failed to export investigation:",u),u}},importInvestigation:s=>{try{const u=JSON.parse(s);if(!u.name||!u.cells)throw new Error("Invalid investigation format");return u.id=`inv_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,u.createdAt=new Date().toISOString(),da.saveInvestigation(u)}catch(u){throw console.error("Failed to import investigation:",u),u}}};function pv({isOpen:s,onClose:u,currentInvestigation:c=null}){const{state:f,dispatch:v,ActionTypes:_}=Mt(),[M,U]=S.useState(c?.name||""),[A,p]=S.useState(c?.description||""),[w,j]=S.useState(!1),[b,Y]=S.useState(""),B=async()=>{if(!M.trim()){Y("Investigation name is required");return}j(!0),Y("");try{const $={id:c?.id,name:M.trim(),description:A.trim(),cells:f.cells.map(ye=>({...ye,queryResults:void 0,queryError:void 0}))},pe=da.saveInvestigation($);v({type:_.SET_CURRENT_INVESTIGATION,payload:pe}),alert(`Investigation "${pe.name}" saved successfully!`),u(),U(""),p("")}catch($){Y("Failed to save investigation: "+$.message)}finally{j(!1)}},W=()=>{Y(""),u()};return s?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:c?"Update Investigation":"Save Investigation"}),o.jsx("button",{onClick:W,className:"text-gray-400 hover:text-gray-600",children:o.jsx(ie,{name:"X",className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[b&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:o.jsxs("div",{className:"flex",children:[o.jsx(ie,{name:"AlertCircle",className:"w-5 h-5 text-red-400"}),o.jsx("div",{className:"ml-3",children:o.jsx("p",{className:"text-sm text-red-700",children:b})})]})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Investigation Name *"}),o.jsx("input",{type:"text",value:M,onChange:$=>U($.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Suspicious Payment Analysis",maxLength:100})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("textarea",{value:A,onChange:$=>p($.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Describe the purpose and findings of this investigation...",rows:4,maxLength:500}),o.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[A.length,"/500 characters"]})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:o.jsxs("div",{className:"flex",children:[o.jsx(ie,{name:"Info",className:"w-5 h-5 text-blue-400"}),o.jsx("div",{className:"ml-3",children:o.jsxs("p",{className:"text-sm text-blue-700",children:["This will save all ",f.cells.length," cells and their configurations. You can reload this investigation later to continue your analysis."]})})]})})]}),o.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t bg-gray-50",children:[o.jsx("button",{onClick:W,className:"px-4 py-2 text-sm text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",disabled:w,children:"Cancel"}),o.jsx("button",{onClick:B,disabled:w||!M.trim(),className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:w?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),o.jsx("span",{children:"Saving..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(ie,{name:"Save",className:"w-4 h-4"}),o.jsxs("span",{children:[c?"Update":"Save"," Investigation"]})]})})]})]})}):null}function Ph({afterId:s=null}){const{dispatch:u,ActionTypes:c}=Mt(),[f,v]=S.useState(!1),_=M=>{const U=Date.now();let A;switch(M){case"markdown":A={id:U,type:"markdown",content:`# New Section

Add your markdown content here...`,collapsed:!1,executed:!0,executionTime:null};break;case"data":A={id:U,type:"data",title:"New Data Query",query:"SELECT * FROM transactions LIMIT 10",columns:[],visibleColumns:[],filters:[],collapsed:!1,executed:!1,executionTime:null,rowCount:null,queryResults:[]};break;case"chart":A={id:U,type:"chart",title:"New Chart",chartType:"line",query:"",collapsed:!1,executed:!1,executionTime:null};break;case"ai":A={id:U,type:"ai",title:"AI Assistant",messages:[],collapsed:!1,executed:!1,executionTime:null};break;case"state":A={id:U,type:"state",title:"Computed States",states:[],collapsed:!1,executed:!1,executionTime:null};break;default:return}u({type:c.ADD_CELL,payload:{cell:A,afterId:s}}),v(!1)};return o.jsxs("div",{className:"relative flex justify-center my-2",children:[o.jsxs("button",{onClick:()=>v(!f),className:"px-4 py-2 bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200 transition-colors flex items-center space-x-2 border border-dashed border-gray-300",children:[o.jsx(ie,{name:"Plus",className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:"Add Cell"})]}),f&&o.jsx("div",{className:"absolute top-12 bg-white border border-gray-200 rounded-lg shadow-lg z-10 min-w-[180px]",children:o.jsxs("div",{className:"p-1",children:[o.jsxs("button",{onClick:()=>_("markdown"),className:"w-full px-3 py-2 text-left text-sm hover:bg-gray-50 rounded flex items-center space-x-3",children:[o.jsx(ie,{name:"Edit3",className:"w-4 h-4 text-gray-500"}),o.jsx("span",{children:"Markdown"})]}),o.jsxs("button",{onClick:()=>_("data"),className:"w-full px-3 py-2 text-left text-sm hover:bg-gray-50 rounded flex items-center space-x-3",children:[o.jsx(ie,{name:"Database",className:"w-4 h-4 text-blue-500"}),o.jsx("span",{children:"Data Query"})]}),o.jsxs("button",{onClick:()=>_("chart"),className:"w-full px-3 py-2 text-left text-sm hover:bg-gray-50 rounded flex items-center space-x-3",children:[o.jsx(ie,{name:"BarChart3",className:"w-4 h-4 text-green-500"}),o.jsx("span",{children:"Chart"})]}),o.jsxs("button",{onClick:()=>_("state"),className:"w-full px-3 py-2 text-left text-sm hover:bg-gray-50 rounded flex items-center space-x-3",children:[o.jsx(ie,{name:"Settings",className:"w-4 h-4 text-purple-500"}),o.jsx("span",{children:"Computed States"})]}),o.jsxs("button",{onClick:()=>_("ai"),className:"w-full px-3 py-2 text-left text-sm hover:bg-gray-50 rounded flex items-center space-x-3",children:[o.jsx(ie,{name:"Brain",className:"w-4 h-4 text-orange-500"}),o.jsx("span",{children:"AI Assistant"})]})]})})]})}function yv(s){if(!s)return[];const u=s.split(`
`),c=[];let f=[],v=null;const _=A=>{if(!A)return A;const p=[];let w=0;const j=/\*\*(.*?)\*\*/g;let b,Y=0;for(;(b=j.exec(A))!==null;){if(b.index>Y){const B=A.slice(Y,b.index);p.push(M(B,w++))}p.push(o.jsx("strong",{className:"font-semibold text-gray-900",children:M(b[1],w++)},w++)),Y=b.index+b[0].length}return Y<A.length&&p.push(M(A.slice(Y),w++)),p.length>0?p:M(A,0)},M=(A,p)=>{if(!A)return A;const w=/\*([^*]+?)\*/g,j=[];let b=0,Y,B=p*1e3;for(;(Y=w.exec(A))!==null;)Y.index>b&&j.push(A.slice(b,Y.index)),j.push(o.jsx("em",{className:"italic",children:Y[1]},B++)),b=Y.index+Y[0].length;return b<A.length&&j.push(A.slice(b)),j.length>0?j:A},U=()=>{if(f.length>0){const A=v==="ordered"?"ol":"ul",p=v==="ordered"?"list-decimal list-inside space-y-1 mb-4 ml-4":"list-disc list-inside space-y-1 mb-4 ml-4";c.push(o.jsx(A,{className:p,children:f.map((w,j)=>o.jsx("li",{className:"text-gray-700",children:_(w)},j))},c.length)),f=[],v=null}};return u.forEach((A,p)=>{const w=A.trim();w.startsWith("# ")?(U(),c.push(o.jsx("h1",{className:"text-3xl fortify-heading font-bold mb-6 mt-8",children:_(w.substring(2))},p))):w.startsWith("## ")?(U(),c.push(o.jsx("h2",{className:"text-2xl fortify-heading font-bold mb-4 mt-6",children:_(w.substring(3))},p))):w.startsWith("### ")?(U(),c.push(o.jsx("h3",{className:"text-xl fortify-subheading font-semibold mb-3 mt-4",children:_(w.substring(4))},p))):w.startsWith("#### ")?(U(),c.push(o.jsx("h4",{className:"text-lg fortify-subheading font-medium mb-2 mt-3",children:_(w.substring(5))},p))):w==="---"?(U(),c.push(o.jsx("hr",{className:"border-gray-300 my-6"},p))):w.startsWith("- ")||w.startsWith("* ")?(v!=="unordered"&&(U(),v="unordered"),f.push(w.substring(2))):/^\d+\.\s/.test(w)?(v!=="ordered"&&(U(),v="ordered"),f.push(w.replace(/^\d+\.\s/,""))):w.startsWith("> ")?(U(),c.push(o.jsx("blockquote",{className:"border-l-4 border-purple-400 pl-4 italic text-gray-600 my-4",children:_(w.substring(2))},p))):w===""?(U(),c.push(o.jsx("div",{className:"h-2"},p))):(U(),c.push(o.jsx("p",{className:"fortify-body leading-relaxed mb-3",children:_(w)},p)))}),U(),c}function gv(){const{state:s,dispatch:u,ActionTypes:c}=Mt();return Ss(),o.jsxs("div",{className:"min-h-screen fortify-geometric-pattern",children:[o.jsx("div",{className:"fortify-card border-b border-gray-200 px-6 py-4 mx-4 mt-4 rounded-t-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-8 h-8 fortify-gradient-bg rounded-lg flex items-center justify-center",children:o.jsx(ie,{name:"BarChart3",className:"w-5 h-5 text-white"})}),o.jsx("h1",{className:"text-xl fortify-heading font-bold",children:"Transaction Analysis Notebook"})]}),o.jsx("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:o.jsxs("span",{children:["Auto-saved  ",s.csvData.length," transactions loaded"]})})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("button",{className:"px-3 py-1.5 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors flex items-center space-x-1",children:[o.jsx(ie,{name:"Play",className:"w-4 h-4"}),o.jsx("span",{children:"Run All"})]}),o.jsxs("button",{onClick:()=>u({type:c.TOGGLE_MODAL,payload:{modal:"saveInvestigation",value:!0}}),className:"fortify-button-primary text-sm flex items-center space-x-1",children:[o.jsx(ie,{name:"Save",className:"w-4 h-4"}),o.jsx("span",{children:"Save"})]}),o.jsxs("button",{onClick:()=>u({type:c.SHOW_LANDING_SCREEN,payload:!0}),className:"px-3 py-1.5 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors flex items-center space-x-1",children:[o.jsx(ie,{name:"Home",className:"w-4 h-4"}),o.jsx("span",{children:"Home"})]}),o.jsxs("button",{onClick:()=>u({type:c.TOGGLE_MODAL,payload:{modal:"settings",value:!0}}),className:"px-3 py-1.5 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors flex items-center space-x-1",children:[o.jsx(ie,{name:"Settings",className:"w-4 h-4"}),o.jsx("span",{children:"Settings"})]}),o.jsxs("button",{className:"fortify-button-secondary text-sm flex items-center space-x-1",children:[o.jsx(ie,{name:"Download",className:"w-4 h-4"}),o.jsx("span",{children:"Export"})]})]})]})}),o.jsx("div",{className:"max-w-6xl mx-auto px-6 py-4",children:o.jsxs("div",{className:"space-y-4",children:[s.cells.map((f,v)=>o.jsxs("div",{children:[o.jsx(vv,{cell:f}),s.selectedCellId===f.id&&o.jsx(Ph,{afterId:f.id})]},f.id)),o.jsx(Ph,{})]})}),o.jsx(dv,{}),o.jsx(fv,{}),o.jsx(mv,{}),o.jsx(hv,{}),o.jsx(pv,{isOpen:s.modals.saveInvestigation,onClose:()=>u({type:c.TOGGLE_MODAL,payload:{modal:"saveInvestigation",value:!1}}),currentInvestigation:s.currentInvestigation})]})}function vv({cell:s}){const{executeCell:u}=Ss();switch(s.type){case"markdown":return o.jsx(xv,{cell:s});case"data":return o.jsx(uv,{cell:s,executeCell:u});case"state":return o.jsx(bv,{cell:s});case"chart":return o.jsx(ov,{cell:s});case"ai":return o.jsx(iv,{cell:s});default:return o.jsx("div",{className:"border border-gray-200 rounded-lg p-4 bg-white",children:o.jsxs("p",{className:"text-gray-500",children:["Unknown cell type: ",s.type]})})}}function xv({cell:s}){const{state:u,dispatch:c,ActionTypes:f}=Mt(),[v,_]=S.useState(s.content),M=u.editingCellId===s.id,U=()=>{c({type:f.UPDATE_CELL,payload:{id:s.id,updates:{content:v}}}),c({type:f.SET_EDITING_CELL,payload:null})},A=()=>{_(s.content),c({type:f.SET_EDITING_CELL,payload:null})};return o.jsxs("div",{className:`border border-gray-200 rounded-lg bg-white ${u.selectedCellId===s.id?"ring-2 ring-blue-500":""}`,onClick:()=>c({type:f.SET_SELECTED_CELL,payload:s.id}),children:[o.jsx(ri,{cell:s,isSelected:u.selectedCellId===s.id}),!s.collapsed&&o.jsx("div",{className:"p-4",children:M?o.jsxs("div",{children:[o.jsx("textarea",{value:v,onChange:p=>_(p.target.value),className:"w-full h-64 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:"Enter markdown content..."}),o.jsxs("div",{className:"flex items-center space-x-2 mt-3",children:[o.jsx("button",{onClick:U,className:"px-3 py-1.5 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Save"}),o.jsx("button",{onClick:A,className:"px-3 py-1.5 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",children:"Cancel"})]})]}):o.jsx("div",{className:"prose prose-sm max-w-none",children:yv(s.content)})})]})}function bv({cell:s}){const{state:u,dispatch:c,ActionTypes:f}=Mt(),v=async(_,M)=>{const U=u.cells.find(p=>p.id===_&&p.type==="state");if(!U||!U.states[M])return;const A=U.states[M];try{const{sqliteEngine:p}=await Nc(async()=>{const{sqliteEngine:b}=await Promise.resolve().then(()=>wc);return{sqliteEngine:b}},void 0),w=`
        SELECT *, 
               (${A.query}) as ${A.name}
        FROM transactions 
        ORDER BY rowid
      `,j=p.execute(w);if(j.success){c({type:f.SET_CSV_DATA,payload:j.data}),await p.setData(j.data);const b=U.states.map((Y,B)=>B===M?{...Y,persistent:!0}:Y);c({type:f.UPDATE_CELL,payload:{id:_,updates:{states:b}}}),alert(`State "${A.name}" has been computed and persisted to the dataset as a new column.`)}else alert(`Error computing state: ${j.error}`)}catch(p){console.error("Error persisting state:",p),alert(`Error persisting state: ${p.message}`)}};return o.jsxs("div",{className:`border border-gray-200 rounded-lg bg-white ${u.selectedCellId===s.id?"ring-2 ring-blue-500":""}`,onClick:()=>c({type:f.SET_SELECTED_CELL,payload:s.id}),children:[o.jsx(ri,{cell:s,isSelected:u.selectedCellId===s.id}),!s.collapsed&&o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"mb-4",children:o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Computed States"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("button",{onClick:()=>{c({type:f.TOGGLE_MODAL,payload:{modal:"addState",value:{open:!0,cellId:s.id,showAIHelper:!0}}})},className:"px-2 py-1 text-xs bg-purple-100 text-purple-700 rounded hover:bg-purple-200 transition-colors flex items-center space-x-1",children:[o.jsx(ie,{name:"Sparkles",className:"w-3 h-3"}),o.jsx("span",{children:"AI"})]}),o.jsx("button",{onClick:()=>c({type:f.TOGGLE_MODAL,payload:{modal:"addState",value:{open:!0,cellId:s.id}}}),className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200",children:"+ Add State"})]})]})}),o.jsx("div",{className:"space-y-3",children:s.states.map((_,M)=>o.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm font-medium text-purple-900",children:_.name}),_.persistent&&o.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full",children:"Persisted"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("button",{onClick:()=>c({type:f.TOGGLE_MODAL,payload:{modal:"aiAssist",value:{open:!0,cellId:s.id,cellType:"state",context:`Computed State: ${_.name} - ${_.description||""}
Query: ${_.query}`}}}),className:"px-2 py-1 text-xs bg-purple-100 text-purple-700 rounded hover:bg-purple-200 transition-colors flex items-center space-x-1",children:[o.jsx(ie,{name:"Sparkles",className:"w-3 h-3"}),o.jsx("span",{children:"AI"})]}),o.jsx("button",{onClick:()=>c({type:f.TOGGLE_MODAL,payload:{modal:"editState",value:{open:!0,cellId:s.id,stateIndex:M}}}),className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded hover:bg-blue-200",children:"Edit"}),!_.persistent&&o.jsx("button",{onClick:()=>v(s.id,M),className:"text-xs bg-green-600 text-white px-2 py-1 rounded hover:bg-green-700",children:"Persist to Dataset"})]})]}),o.jsx("p",{className:"text-xs text-purple-700 mb-2",children:_.description}),o.jsx("div",{className:"bg-white rounded p-2 border border-purple-200",children:o.jsx("code",{className:"text-xs font-mono text-purple-800",children:_.query})})]},M))})]})]})}function _v({onCreateNew:s,onLoadInvestigation:u}){const[c,f]=S.useState([]),[v,_]=S.useState(!0),[M,U]=S.useState("");S.useEffect(()=>{da.initializeSampleData(),A()},[]);const A=()=>{try{const j=da.getInvestigationSummaries();f(j.sort((b,Y)=>new Date(Y.updatedAt)-new Date(b.updatedAt)))}catch{U("Failed to load investigations")}finally{_(!1)}},p=(j,b)=>{if(window.confirm(`Are you sure you want to delete "${b}"?`))try{da.deleteInvestigation(j),A()}catch{alert("Failed to delete investigation")}},w=j=>new Date(j).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return o.jsx("div",{className:"min-h-screen fortify-geometric-pattern",children:o.jsxs("div",{className:"container mx-auto px-6 py-12",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("div",{className:"mb-8",children:o.jsx("div",{className:"inline-block p-6 fortify-gradient-bg rounded-3xl mb-6 shadow-xl",children:o.jsx(ie,{name:"BarChart3",className:"w-16 h-16 text-white"})})}),o.jsx("h1",{className:"text-6xl fortify-heading font-bold mb-6",children:"AMLBoost"}),o.jsx("p",{className:"text-2xl font-medium text-gray-600 mb-4",children:"Intelligent Transaction Analysis Platform"}),o.jsx("p",{className:"text-lg fortify-body max-w-3xl mx-auto leading-relaxed",children:"Create sophisticated investigations to analyze transaction data, build interactive charts, and uncover critical insights with AI-powered assistance. Streamline your compliance and risk detection workflows."})]}),o.jsx("div",{className:"flex justify-center max-w-3xl mx-auto mb-16",children:o.jsx("div",{onClick:s,className:"fortify-card hover:shadow-2xl transition-all duration-300 cursor-pointer border-2 border-transparent hover:border-purple-300 hover:scale-105 w-full max-w-lg group",children:o.jsxs("div",{className:"p-10 text-center",children:[o.jsx("div",{className:"w-20 h-20 fortify-gradient-bg rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg group-hover:shadow-xl transition-shadow",children:o.jsx(ie,{name:"Plus",className:"w-10 h-10 text-white"})}),o.jsx("h3",{className:"text-xl fortify-subheading mb-3",children:"Create New Investigation"}),o.jsx("p",{className:"fortify-body text-base",children:"Launch a comprehensive analysis workspace with intelligent cells optimized for data exploration, visualization, and pattern detection."})]})})}),o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsx("h2",{className:"text-3xl fortify-heading font-bold mb-8",children:"Recent Investigations"}),v?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-purple-600 border-t-transparent mx-auto mb-4"}),o.jsx("p",{className:"fortify-body",children:"Loading investigations..."})]}):M?o.jsxs("div",{className:"fortify-card border-red-200 p-6 text-center bg-red-50",children:[o.jsx(ie,{name:"AlertCircle",className:"w-8 h-8 text-red-400 mx-auto mb-2"}),o.jsx("p",{className:"text-red-700",children:M})]}):c.length===0?o.jsxs("div",{className:"fortify-card p-16 text-center",children:[o.jsx("div",{className:"w-20 h-20 fortify-gradient-bg rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(ie,{name:"FileX",className:"w-10 h-10 text-white"})}),o.jsx("h3",{className:"text-xl fortify-subheading mb-3",children:"No investigations yet"}),o.jsx("p",{className:"fortify-body mb-6 text-lg",children:"Ready to dive into your data? Create your first investigation to start uncovering insights."}),o.jsxs("button",{onClick:s,className:"fortify-button-primary flex items-center space-x-2 mx-auto px-6 py-3 text-lg",children:[o.jsx(ie,{name:"Plus",className:"w-5 h-5"}),o.jsx("span",{children:"Create Investigation"})]})]}):o.jsx("div",{className:"grid gap-4",children:c.map(j=>o.jsx("div",{className:"fortify-card hover:shadow-xl transition-all duration-300 hover:border-purple-300 group",children:o.jsx("div",{className:"p-8",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg fortify-subheading mb-2",children:j.name}),j.description&&o.jsx("p",{className:"fortify-body mb-3 line-clamp-2",children:j.description}),o.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(ie,{name:"FileText",className:"w-4 h-4"}),o.jsxs("span",{children:[j.cellCount," cells"]})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(ie,{name:"Clock",className:"w-4 h-4"}),o.jsxs("span",{children:["Updated ",w(j.updatedAt)]})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[o.jsxs("button",{onClick:()=>u(j.id),className:"fortify-button-primary text-sm flex items-center space-x-1",children:[o.jsx(ie,{name:"Play",className:"w-3 h-3"}),o.jsx("span",{children:"Open"})]}),o.jsxs("button",{onClick:()=>p(j.id,j.name),className:"px-3 py-1.5 bg-red-100 text-red-700 text-sm rounded hover:bg-red-200 transition-colors flex items-center space-x-1",children:[o.jsx(ie,{name:"Trash2",className:"w-3 h-3"}),o.jsx("span",{children:"Delete"})]})]})]})})},j.id))})]}),o.jsx("div",{className:"text-center mt-16",children:o.jsxs("div",{className:"inline-flex items-center space-x-2 text-sm text-gray-400",children:[o.jsx("span",{children:"AMLBoost v2.0"}),o.jsx("span",{children:""}),o.jsx("span",{children:"Intelligent Transaction Analysis"})]})})]})})}class Ev extends Sc.Component{constructor(u){super(u),this.state={hasError:!1,error:null}}static getDerivedStateFromError(u){return{hasError:!0,error:u}}componentDidCatch(u,c){console.error("React Error Boundary caught an error:",u,c)}render(){return this.state.hasError?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center p-8",children:[o.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),o.jsxs("p",{className:"text-gray-600 mb-4",children:["Error: ",this.state.error?.message]}),o.jsx("button",{onClick:()=>this.setState({hasError:!1,error:null}),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Try again"})]})}):this.props.children}}function Sv(){const{state:s,dispatch:u,ActionTypes:c}=Mt(),{loading:f,csvData:v}=Ss();console.log("NotebookApp render - loading:",f,"csvData rows:",v.length);const _=()=>{u({type:c.RESET_NOTEBOOK}),u({type:c.SHOW_LANDING_SCREEN,payload:!1})},M=async U=>{try{const A=da.loadInvestigation(U);u({type:c.LOAD_INVESTIGATION,payload:{investigation:A,cells:A.cells}})}catch(A){alert("Failed to load investigation: "+A.message)}};return f?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading transaction data..."}),o.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Rows loaded: ",v.length]})]})}):s.showLandingScreen?o.jsx(_v,{onCreateNew:_,onLoadInvestigation:M}):o.jsx(gv,{})}function Nv(){return o.jsx(Ev,{children:o.jsx(B0,{children:o.jsx(Sv,{})})})}k0.createRoot(document.getElementById("root")).render(o.jsx(S.StrictMode,{children:o.jsx(Nv,{})}));
